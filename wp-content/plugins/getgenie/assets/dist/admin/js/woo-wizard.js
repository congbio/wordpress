(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{WooCommerceTopButtons:()=>ve});var n=window.getGenie.Components.Common.Libs,r=wp.i18n.__,a=function(){n.ErrorModal({title:r("Insertion Failed!","getgenie"),content:r("No insertion place found!","getgenie")})};const o={insert:{wooLongDesc:function(e){var t=document.querySelector(".woocommerce-feature-enabled-activity-panels #content_ifr").contentWindow.document.querySelector("body p");t?t.innerText=e:a()},wooShortDesc:function(e){var t=document.querySelector(".woocommerce-feature-enabled-activity-panels #excerpt_ifr").contentWindow.document.querySelector("body p");t?t.innerText=e:a()},wooProductTitle:function(e){var t=document.querySelector(".woocommerce-feature-enabled-activity-panels #titlewrap #title"),n=document.querySelector(".woocommerce-feature-enabled-activity-panels #titlewrap #title-prompt-text");t?(t.value=e,""!==t.value?n.classList.add("screen-reader-text"):n.classList.remove("screen-reader-text")):a()}}};var l=window.antd.Radio,i=window.getGenie.Components.Common.ReduxManager.ComposeComponents;wp.element.useEffect;const c=i((function(e){var t=e.navigation,n=void 0===t?"title":t,r=e.setSidebar,a={title:{title:"Title",screen:"wooProductTitle"},longDesc:{title:"Long Desc",screen:"wooLongDesc"},shortDesc:{title:"Short Desc",screen:"wooShortDesc"}};return React.createElement("div",{className:"genie-nav-container"},React.createElement(l.Group,{onChange:function(e){var t=e.target.screen;r({component:t,insertTextCallback:o.insert[t]})},value:n},Object.keys(a).map((function(e){var t=a[e];return React.createElement(l.Button,{value:e,screen:t.screen},t.title)}))))}),["setSidebar"]);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(c){i=!0,a=c}finally{try{l||null==n["return"]||n["return"]()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=window.antd,g=m.Alert,d=m.Divider,p=m.Form,f=m.Tooltip,y=window.getGenie.Components.Common,w=y.Libs,b=y.ContentFeedback,v=y.Utilities,R=window.getGenie.Components.Common.RequestManager,E=R.HandleFetch,h=R.HandleResponse,C=R.EndPoints,S=window.getGenie.Components.Common.ReduxManager.ComposeComponents,T=wp.element.useState,N=wp.i18n.__,L=v.GenieHelpers;const P=S((function(e){var t=e.getInputs,n=e.setInput,r=e.sidebar,a=e.setSidebar,o=u(T(!1),2),l=o[0],i=o[1],s=u(T(""),2),m=s[0],y=s[1],v=u(T(!1),2),R=v[0],S=v[1],P=t.generatedLongDesc||[];return React.createElement(React.Fragment,null,React.createElement(w.DrawerHeader,null),React.createElement(c,{navigation:"longDesc"}),React.createElement(d,null),React.createElement("div",{className:"getgenie-title-form"},React.createElement(p,{layout:"vertical",onFinish:function(){i(!0);var e={input:{productName:t.wooProductName,keywords:t.wooBrief},templateSlug:"woocommerce-product-long-description",creativity:t.wooLongCreativityLevel,resultCount:t.wooLongResultLimit};n("generatedLongDesc",[]),E((function(t){i(!1),h(t,(function(){var r,a=t.data.map((function(e){return{title:e,like:!1,dislike:!1}}));n("generatedLongDesc",a),S(!0),setTimeout((function(){return S(!1)}),4e3);var o=e;null==o||delete o.resultCount,o.output=t.data,o.templateType="writer-default",fetch(C.createHistoryUrl,{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8","X-WP-Nonce":(null===(r=window.getGenie.config)||void 0===r?void 0:r.restNonce)||""}})}))}),"writeTemplates",e)}},React.createElement("div",{className:"getgenie-screen-content title"},React.createElement(w.Input,{name:"wooProductName",type:"text",label:React.createElement("span",null,N("Product Name","getgenie")," ",React.createElement("span",{style:{display:"inline-block",color:"red"}},"*")),placeholder:N("Enter Your Keyword here","getgenie"),required:!0,errorMessage:N("Please enter the title here","getgenie")}),React.createElement(w.Textarea,{label:React.createElement("span",null,N("Product Brief/ Comma separated keywords","getgenie")," ",React.createElement("span",{style:{display:"inline-block",color:"red"}},"*")),name:"wooBrief",rows:4,placeholder:N("Enter a context for the keyword","getgenie")}),React.createElement(w.Select,{className:"getgenie-language",handleOnChange:function(e){return L.saveCurrentLanguage(e)},name:"getgenieLanguage",label:N("Select language","getgenie"),options:r.languages,defaultValue:r.currentLanguage}),React.createElement(w.Slider,{name:"wooLongCreativityLevel",label:React.createElement(React.Fragment,null,N("Creativity Level","getgenie"),React.createElement(w.Tooltip,{title:N("How much creative you want genie to be","getgenie"),placement:"top"})),message:!1,defaultValue:4}),React.createElement(w.NumberInput,{name:"wooLongResultLimit",type:"text",defaultValue:2,max:4,label:React.createElement(React.Fragment,null,N("Set Result Limit","getgenie")," ",React.createElement(w.Tooltip,{title:N("Maximum content you want to generate","getgenie"),placement:"top"})),required:!0}),React.createElement(w.Button,{htmlType:"submit",className:"submit-btn",type:"primary",loading:l,disabled:!(t.wooProductName&&t.wooBrief)},React.createElement("span",{className:"getgenie-icon-Edit"}),N("Generate long desc","getgenie"))),React.createElement(w.TitleMsg,{list:P,loading:l,title:N("long description","getgenie")}),React.createElement("div",{className:"getgenie-card-container editor",style:{backgroundColor:0===P.length&&"transparent"}},React.createElement(w.Card,{list:P,handleClick:function(e,t){var n=t.title.replace(/<br\/>/g,"");L.copyToClipboard(n).then((function(){y(t.title),setTimeout((function(){y(null)}),2e3)}))["catch"]((function(){return console.log("error")}))},column:1,skeleton:l?function(){return React.createElement(w.SkeletonSingle,{count:10})}:""},(function(e){return React.createElement(React.Fragment,null,React.createElement(f,{placement:"right",title:m===e.title&&"Copied",visible:m===e.title&&r.open,zIndex:999999},React.createElement("h5",{className:"generated-content"},React.createElement("div",{dangerouslySetInnerHTML:{__html:e.title}}))),React.createElement(b,{content:e,input:t.wooProductName+" "+t.wooBrief,contentType:"woo-product-long-desc",creativityLevel:t.wooLongCreativityLevel,listName:"generatedLongDesc"}),React.createElement(f,{title:N("Insert this content","getgenie"),placement:"topLeft"},React.createElement("span",{className:"getgenie-insert-content getgenie-icon-plus",onClick:function(t){return function(e,t){e.stopPropagation();var n=t.replace(/<br\s*[\/]?>/g,"\n");r.insertTextCallback(n),a({open:!1})}(t,e.title)}})))})),R&&React.createElement(g,{className:"template-screen-alert",message:N("Click on the text to copy","getgenie"),closeText:N("Okay","getgenie"),closable:!0}))),React.createElement(w.DrawerFooter,{prevScreen:"wooProductTitle",enableNextBtn:!0,nextScreen:"wooShortDesc"})))}),["getInputs","setInput","sidebar","setSidebar"]);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(c){i=!0,a=c}finally{try{l||null==n["return"]||n["return"]()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=window.antd,D=O.Alert,I=O.Divider,F=O.Form,j=O.Tooltip,M=window.getGenie.Components.Common,G=M.Libs,B=M.ContentFeedback,A=M.Utilities,H=(M.StaticData,window.getGenie.Components.Common.RequestManager),_=H.HandleFetch,q=H.HandleResponse,U=H.EndPoints,W=window.getGenie.Components.Common.ReduxManager.ComposeComponents,V=wp.element.useState,z=wp.i18n.__,J=A.GenieHelpers;const K=W((function(e){var t=e.getInputs,n=e.setInput,r=e.sidebar,a=e.setSidebar,o=k(V(!1),2),l=o[0],i=o[1],u=k(V(""),2),s=u[0],m=u[1],g=k(V(!1),2),d=g[0],p=g[1],f=t.generatedShortDesc||[];return React.createElement(React.Fragment,null,React.createElement(G.DrawerHeader,null),React.createElement(c,{navigation:"shortDesc"}),React.createElement(I,null),React.createElement("div",{className:"getgenie-title-form"},React.createElement(F,{layout:"vertical",onFinish:function(){i(!0);var e={input:{productName:t.wooProductName,keywords:t.wooBrief},templateSlug:"woocommerce-product-short-description",creativity:t.wooShortCreativityLevel,resultCount:t.wooShortResultLimit};n("generatedShortDesc",[]),_((function(t){i(!1),q(t,(function(){var r,a=t.data.map((function(e){return{title:e,like:!1,dislike:!1}}));n("generatedShortDesc",a),p(!0),setTimeout((function(){return p(!1)}),4e3);var o=e;null==o||delete o.resultCount,o.output=t.data,o.templateType="writer-default",fetch(U.createHistoryUrl,{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8","X-WP-Nonce":(null===(r=window.getGenie.config)||void 0===r?void 0:r.restNonce)||""}})}))}),"writeTemplates",e)}},React.createElement("div",{className:"getgenie-screen-content title"},React.createElement(G.Input,{name:"wooProductName",type:"text",label:React.createElement("span",null,z("Product Name","getgenie")," ",React.createElement("span",{style:{display:"inline-block",color:"red"}},"*")),placeholder:z("Enter Your Keyword here","getgenie"),required:!0,errorMessage:z("Please enter the title here","getgenie")}),React.createElement(G.Textarea,{label:React.createElement("span",null,z("Product Brief/ Comma separated keywords","getgenie")," ",React.createElement("span",{style:{display:"inline-block",color:"red"}},"*")),name:"wooBrief",rows:4,placeholder:z("Enter a context for the keyword","getgenie")}),React.createElement(G.Select,{className:"getgenie-language",handleOnChange:function(e){return J.saveCurrentLanguage(e)},name:"getgenieLanguage",label:z("Select language","getgenie"),options:r.languages,defaultValue:r.currentLanguage}),React.createElement(G.Slider,{name:"wooShortCreativityLevel",label:React.createElement(React.Fragment,null,z("Creativity Level","getgenie"),React.createElement(G.Tooltip,{title:z("How much creative you want genie to be","getgenie"),placement:"top"})),message:!1,defaultValue:4}),React.createElement(G.NumberInput,{name:"wooShortResultLimit",type:"text",defaultValue:2,max:4,label:React.createElement(React.Fragment,null,z("Set Result Limit","getgenie")," ",React.createElement(G.Tooltip,{title:z("Maximum content you want to generate","getgenie"),placement:"top"})),required:!0}),React.createElement(G.Button,{htmlType:"submit",className:"submit-btn",type:"primary",loading:l,disabled:!(t.wooProductName&&t.wooBrief)},React.createElement("span",{className:"getgenie-icon-Edit"}),z("Generate short desc","getgenie"))),React.createElement(G.TitleMsg,{list:f,loading:l,title:z("short description","getgenie")}),React.createElement("div",{className:"getgenie-card-container editor",style:{backgroundColor:0===f.length&&z("transparent","getgenie")}},React.createElement(G.Card,{list:f,handleClick:function(e,t){var n=t.title.replace(/<br\/>/g,"");J.copyToClipboard(n).then((function(){m(t.title),setTimeout((function(){m(null)}),2e3)}))["catch"]((function(){return console.log("error")}))},column:1,skeleton:l?function(){return React.createElement(G.SkeletonSingle,{count:10})}:""},(function(e){return React.createElement(React.Fragment,null,React.createElement(j,{placement:"right",title:s===e.title&&z("Copied","getgenie"),visible:s===e.title&&r.open,zIndex:999999},React.createElement("h5",{className:"generated-content"},React.createElement("div",{dangerouslySetInnerHTML:{__html:e.title}}))),React.createElement(B,{content:e,input:t.wooProductName+" "+t.wooBrief,contentType:"woo-product-short-desc",creativityLevel:t.wooShortCreativityLevel,listName:"generatedShortDesc"}),React.createElement(j,{title:z("Insert this content","getgenie"),placement:"topLeft"},React.createElement("span",{className:"getgenie-insert-content getgenie-icon-plus",onClick:function(t){return function(e,t){e.stopPropagation();var n=t.replace(/<br\s*[\/]?>/g,"\n");r.insertTextCallback(n),a({open:!1})}(t,e.title)}})))})),d&&React.createElement(D,{className:"template-screen-alert",message:z("Click on the text to copy","getgenie"),closeText:z("Okay","getgenie"),closable:!0}))),React.createElement(G.DrawerFooter,{prevScreen:"wooLongDesc"})))}),["getInputs","setInput","sidebar","setSidebar"]);function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(c){i=!0,a=c}finally{try{l||null==n["return"]||n["return"]()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=window.antd,Q=$.Alert,Z=$.Divider,ee=$.Form,te=$.Tooltip,ne=window.getGenie.Components.Common,re=ne.Libs,ae=ne.ContentFeedback,oe=ne.Utilities,le=(ne.StaticData,window.getGenie.Components.Common.RequestManager),ie=le.HandleFetch,ce=le.HandleResponse,ue=le.EndPoints,se=window.getGenie.Components.Common.ReduxManager.ComposeComponents,me=wp.element.useState,ge=wp.i18n.__,de=oe.GenieHelpers;const pe=se((function(e){var t=e.getInputs,n=e.setInput,r=e.sidebar,a=e.setSidebar,o=X(me(!1),2),l=o[0],i=o[1],u=X(me(""),2),s=u[0],m=u[1],g=X(me(!1),2),d=g[0],p=g[1],f=t.generatedProductNames||[];return React.createElement(React.Fragment,null,React.createElement(re.DrawerHeader,null),React.createElement(c,{navigation:"title"}),React.createElement(Z,null),React.createElement("div",{className:"getgenie-title-form"},React.createElement(ee,{layout:"vertical",onFinish:function(){i(!0);var e={input:{productName:t.wooProductName,keywords:t.wooBrief},templateSlug:"woocommerce-product-title",creativity:t.wooTitleCreativityLevel,resultCount:t.wooTitleResultLimit};n("generatedProductNames",[]),ie((function(t){i(!1),ce(t,(function(){var r,a=t.data.map((function(e){return{title:e,like:!1,dislike:!1}}));n("generatedProductNames",a),p(!0),setTimeout((function(){return p(!1)}),4e3);var o=e;null==o||delete o.resultCount,o.output=t.data,o.templateType="writer-default",fetch(ue.createHistoryUrl,{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8","X-WP-Nonce":(null===(r=window.getGenie.config)||void 0===r?void 0:r.restNonce)||""}})}))}),"writeTemplates",e)}},React.createElement("div",{className:"getgenie-screen-content title"},React.createElement(re.Input,{name:"wooProductName",type:"text",label:React.createElement("span",null,ge("Product Name","getgenie")," ",React.createElement("span",{style:{display:"inline-block",color:"red"}},"*")),placeholder:"Enter Your Keyword here",required:!0,errorMessage:"Please enter the title here"}),React.createElement(re.Textarea,{label:React.createElement("span",null,ge("Product Brief/ Comma separated keywords","getgenie")," ",React.createElement("span",{style:{display:"inline-block",color:"red"}},"*")),name:"wooBrief",rows:4,placeholder:ge("Enter a context for the keyword","getgenie")}),React.createElement(re.Select,{className:"getgenie-language",handleOnChange:function(e){return de.saveCurrentLanguage(e)},name:"getgenieLanguage",label:ge("Select language","getgenie"),options:r.languages,defaultValue:r.currentLanguage}),React.createElement(re.Slider,{name:"wooTitleCreativityLevel",label:React.createElement(React.Fragment,null,ge("Creativity Level","getgenie"),React.createElement(re.Tooltip,{title:ge("How much creative you want genie to be","getgenie"),placement:"top"})),message:!1,defaultValue:4}),React.createElement(re.NumberInput,{name:"wooTitleResultLimit",type:"text",defaultValue:2,max:4,label:React.createElement(React.Fragment,null,ge("Set Result Limit","getgenie")," ",React.createElement(re.Tooltip,{title:ge("Maximum content you want to generate","getgenie"),placement:"top"})),required:!0}),React.createElement(re.Button,{htmlType:"submit",className:"submit-btn",type:"primary",loading:l,disabled:!(t.wooProductName&&t.wooBrief)},React.createElement("span",{className:"getgenie-icon-Edit"}),ge("Generate product title","getgenie"))),React.createElement(re.TitleMsg,{list:f,loading:l,title:ge("product name","getgenie")}),React.createElement("div",{className:"getgenie-card-container editor",style:{backgroundColor:0===f.length&&"transparent"}},React.createElement(re.Card,{list:f,handleClick:function(e,t){var n=t.title.replace(/<br\/>/g,"");de.copyToClipboard(n).then((function(){m(t.title),setTimeout((function(){m(null)}),2e3)}))["catch"]((function(){return console.log("error")}))},column:1,skeleton:l?function(){return React.createElement(re.SkeletonSingle,{count:10})}:""},(function(e){return React.createElement(React.Fragment,null,React.createElement(te,{placement:"right",title:s===e.title&&"Copied",visible:s===e.title&&r.open,zIndex:999999},React.createElement("h5",{className:"generated-content"},React.createElement("div",{dangerouslySetInnerHTML:{__html:e.title}}))),React.createElement(ae,{content:e,input:t.wooProductName+" "+t.wooBrief,contentType:"woo-product-title",creativityLevel:t.wooTitleCreativityLevel,listName:"generatedProductNames"}),React.createElement(te,{title:ge("Insert this content","getgenie"),placement:"topLeft"},React.createElement("span",{className:"getgenie-insert-content getgenie-icon-plus",onClick:function(t){return function(e,t){e.stopPropagation();var n=t.replace(/<br\s*[\/]?>/g,"\n");r.insertTextCallback(n),a({open:!1})}(t,e.title)}})))})),d&&React.createElement(Q,{className:"template-screen-alert",message:ge("Click on the text to copy","getgenie"),closeText:ge("Okay","getgenie"),closable:!0}))),React.createElement(re.DrawerFooter,{prevScreen:"TemplateListScreen",enableNextBtn:!0,nextScreen:"wooLongDesc"})))}),["getInputs","setInput","sidebar","setSidebar"]);var fe=window.antd.Button,ye=window.getGenie.Components.Common.ReduxManager.ComposeComponents,we=wp.element.useEffect,be=wp.i18n.__;const ve=ye((function(e){var t=e.setSidebar,n=e.sidebar,r=function(){t({open:!n.open,toolbarWriting:!1,component:"wooProductTitle",insertTextCallback:o.insert.wooProductTitle})};return we((function(){"#getgenie-open-wooWizard"===window.location.hash&&r()}),[]),React.createElement(fe,{onClick:r,type:"primary",className:"getgenie-toolbar-write-btn"},React.createElement("span",{className:"getgenie-icon-Edit"}),be("Write for me","getgenie"))}),["setSidebar","sidebar"]);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.getGenie.Components=Ee(Ee({},window.getGenie.Components),{},{WooWizardUtils:t,Sidebar:Ee(Ee({},window.getGenie.Components.Sidebar||{}),{},{wooLongDesc:P,wooShortDesc:K,wooProductTitle:pe})})})();