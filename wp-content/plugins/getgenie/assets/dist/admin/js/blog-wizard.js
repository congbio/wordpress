(()=>{var t={893:t=>{var e={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function n(t){return(!t.style||"none"!=t.style.display)&&!t.hasAttribute("hidden")&&(!t.hasAttribute("aria-hidden")||"true"!=t.getAttribute("aria-hidden")||t.className&&t.className.indexOf&&-1!==t.className.indexOf("fallback-image"))}t.exports=function(t,r={}){"function"==typeof r&&(r={visibilityChecker:r});var i={minScore:20,minContentLength:140,visibilityChecker:n};r=Object.assign(i,r);var o=t.querySelectorAll("p, pre, article"),a=t.querySelectorAll("div > br");if(a.length){var s=new Set(o);[].forEach.call(a,(function(t){s.add(t.parentNode)})),o=Array.from(s)}var c=0;return[].some.call(o,(function(t){if(!r.visibilityChecker(t))return!1;var n=t.className+" "+t.id;if(e.unlikelyCandidates.test(n)&&!e.okMaybeItsACandidate.test(n))return!1;if(t.matches("li p"))return!1;var i=t.textContent.trim().length;return!(i<r.minContentLength)&&(c+=Math.sqrt(i-r.minContentLength))>r.minScore}))}},174:t=>{function e(t,e){if(e&&e.documentElement)t=e,e=arguments[2];else if(!t||!t.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(e=e||{},this._doc=t,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._debug=!!e.debug,this._maxElemsToParse=e.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=e.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=e.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(e.classesToPreserve||[]),this._keepClasses=!!e.keepClasses,this._serializer=e.serializer||function(t){return t.innerHTML},this._disableJSONLD=!!e.disableJSONLD,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let t=function(t){if(t.nodeType==t.TEXT_NODE)return`${t.nodeName} ("${t.textContent}")`;let e=Array.from(t.attributes||[],(function(t){return`${t.name}="${t.value}"`})).join(" ");return`<${t.localName} ${e}>`};this.log=function(){if("undefined"!=typeof dump){var e=Array.prototype.map.call(arguments,(function(e){return e&&e.nodeName?t(e):e})).join(" ");dump("Reader: (Readability) "+e+"\n")}else if("undefined"!=typeof console){let e=Array.from(arguments,(e=>e&&e.nodeType==this.ELEMENT_NODE?t(e):e));e.unshift("Reader: (Readability)"),console.log.apply(console,e)}}}else this.log=function(){}}e.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent:function(t){this._fixRelativeUris(t),this._simplifyNestedElements(t),this._keepClasses||this._cleanClasses(t)},_removeNodes:function(t,e){if(this._docJSDOMParser&&t._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var n=t.length-1;n>=0;n--){var r=t[n],i=r.parentNode;i&&(e&&!e.call(this,r,n,t)||i.removeChild(r))}},_replaceNodeTags:function(t,e){if(this._docJSDOMParser&&t._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(const n of t)this._setNodeTag(n,e)},_forEachNode:function(t,e){Array.prototype.forEach.call(t,e,this)},_findNode:function(t,e){return Array.prototype.find.call(t,e,this)},_someNode:function(t,e){return Array.prototype.some.call(t,e,this)},_everyNode:function(t,e){return Array.prototype.every.call(t,e,this)},_concatNodeLists:function(){var t=Array.prototype.slice,e=t.call(arguments),n=e.map((function(e){return t.call(e)}));return Array.prototype.concat.apply([],n)},_getAllNodesWithTag:function(t,e){return t.querySelectorAll?t.querySelectorAll(e.join(",")):[].concat.apply([],e.map((function(e){var n=t.getElementsByTagName(e);return Array.isArray(n)?n:Array.from(n)})))},_cleanClasses:function(t){var e=this._classesToPreserve,n=(t.getAttribute("class")||"").split(/\s+/).filter((function(t){return-1!=e.indexOf(t)})).join(" ");for(n?t.setAttribute("class",n):t.removeAttribute("class"),t=t.firstElementChild;t;t=t.nextElementSibling)this._cleanClasses(t)},_fixRelativeUris:function(t){var e=this._doc.baseURI,n=this._doc.documentURI;function r(t){if(e==n&&"#"==t.charAt(0))return t;try{return new URL(t,e).href}catch(r){}return t}var i=this._getAllNodesWithTag(t,["a"]);this._forEachNode(i,(function(t){var e=t.getAttribute("href");if(e)if(0===e.indexOf("javascript:"))if(1===t.childNodes.length&&t.childNodes[0].nodeType===this.TEXT_NODE){var n=this._doc.createTextNode(t.textContent);t.parentNode.replaceChild(n,t)}else{for(var i=this._doc.createElement("span");t.firstChild;)i.appendChild(t.firstChild);t.parentNode.replaceChild(i,t)}else t.setAttribute("href",r(e))}));var o=this._getAllNodesWithTag(t,["img","picture","figure","video","audio","source"]);this._forEachNode(o,(function(t){var e=t.getAttribute("src"),n=t.getAttribute("poster"),i=t.getAttribute("srcset");if(e&&t.setAttribute("src",r(e)),n&&t.setAttribute("poster",r(n)),i){var o=i.replace(this.REGEXPS.srcsetUrl,(function(t,e,n,i){return r(e)+(n||"")+i}));t.setAttribute("srcset",o)}}))},_simplifyNestedElements:function(t){for(var e=t;e;){if(e.parentNode&&["DIV","SECTION"].includes(e.tagName)&&(!e.id||!e.id.startsWith("readability"))){if(this._isElementWithoutContent(e)){e=this._removeAndGetNext(e);continue}if(this._hasSingleTagInsideElement(e,"DIV")||this._hasSingleTagInsideElement(e,"SECTION")){for(var n=e.children[0],r=0;r<e.attributes.length;r++)n.setAttribute(e.attributes[r].name,e.attributes[r].value);e.parentNode.replaceChild(n,e),e=n;continue}}e=this._getNextNode(e)}},_getArticleTitle:function(){var t=this._doc,e="",n="";try{"string"!=typeof(e=n=t.title.trim())&&(e=n=this._getInnerText(t.getElementsByTagName("title")[0]))}catch(l){}var r=!1;function i(t){return t.split(/\s+/).length}if(/ [\|\-\\\/>»] /.test(e))r=/ [\\\/>»] /.test(e),i(e=n.replace(/(.*)[\|\-\\\/>»] .*/gi,"$1"))<3&&(e=n.replace(/[^\|\-\\\/>»]*[\|\-\\\/>»](.*)/gi,"$1"));else if(-1!==e.indexOf(": ")){var o=this._concatNodeLists(t.getElementsByTagName("h1"),t.getElementsByTagName("h2")),a=e.trim();this._someNode(o,(function(t){return t.textContent.trim()===a}))||(i(e=n.substring(n.lastIndexOf(":")+1))<3?e=n.substring(n.indexOf(":")+1):i(n.substr(0,n.indexOf(":")))>5&&(e=n))}else if(e.length>150||e.length<15){var s=t.getElementsByTagName("h1");1===s.length&&(e=this._getInnerText(s[0]))}var c=i(e=e.trim().replace(this.REGEXPS.normalize," "));return c<=4&&(!r||c!=i(n.replace(/[\|\-\\\/>»]+/g,""))-1)&&(e=n),e},_prepDocument:function(){var t=this._doc;this._removeNodes(this._getAllNodesWithTag(t,["style"])),t.body&&this._replaceBrs(t.body),this._replaceNodeTags(this._getAllNodesWithTag(t,["font"]),"SPAN")},_nextNode:function(t){for(var e=t;e&&e.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(e.textContent);)e=e.nextSibling;return e},_replaceBrs:function(t){this._forEachNode(this._getAllNodesWithTag(t,["br"]),(function(t){for(var e=t.nextSibling,n=!1;(e=this._nextNode(e))&&"BR"==e.tagName;){n=!0;var r=e.nextSibling;e.parentNode.removeChild(e),e=r}if(n){var i=this._doc.createElement("p");for(t.parentNode.replaceChild(i,t),e=i.nextSibling;e;){if("BR"==e.tagName){var o=this._nextNode(e.nextSibling);if(o&&"BR"==o.tagName)break}if(!this._isPhrasingContent(e))break;var a=e.nextSibling;i.appendChild(e),e=a}for(;i.lastChild&&this._isWhitespace(i.lastChild);)i.removeChild(i.lastChild);"P"===i.parentNode.tagName&&this._setNodeTag(i.parentNode,"DIV")}}))},_setNodeTag:function(t,e){if(this.log("_setNodeTag",t,e),this._docJSDOMParser)return t.localName=e.toLowerCase(),t.tagName=e.toUpperCase(),t;for(var n=t.ownerDocument.createElement(e);t.firstChild;)n.appendChild(t.firstChild);t.parentNode.replaceChild(n,t),t.readability&&(n.readability=t.readability);for(var r=0;r<t.attributes.length;r++)try{n.setAttribute(t.attributes[r].name,t.attributes[r].value)}catch(i){}return n},_prepArticle:function(t){this._cleanStyles(t),this._markDataTables(t),this._fixLazyImages(t),this._cleanConditionally(t,"form"),this._cleanConditionally(t,"fieldset"),this._clean(t,"object"),this._clean(t,"embed"),this._clean(t,"footer"),this._clean(t,"link"),this._clean(t,"aside");var e=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(t.children,(function(t){this._cleanMatchedNodes(t,(function(t,n){return this.REGEXPS.shareElements.test(n)&&t.textContent.length<e}))})),this._clean(t,"iframe"),this._clean(t,"input"),this._clean(t,"textarea"),this._clean(t,"select"),this._clean(t,"button"),this._cleanHeaders(t),this._cleanConditionally(t,"table"),this._cleanConditionally(t,"ul"),this._cleanConditionally(t,"div"),this._replaceNodeTags(this._getAllNodesWithTag(t,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(t,["p"]),(function(t){return 0===t.getElementsByTagName("img").length+t.getElementsByTagName("embed").length+t.getElementsByTagName("object").length+t.getElementsByTagName("iframe").length&&!this._getInnerText(t,!1)})),this._forEachNode(this._getAllNodesWithTag(t,["br"]),(function(t){var e=this._nextNode(t.nextSibling);e&&"P"==e.tagName&&t.parentNode.removeChild(t)})),this._forEachNode(this._getAllNodesWithTag(t,["table"]),(function(t){var e=this._hasSingleTagInsideElement(t,"TBODY")?t.firstElementChild:t;if(this._hasSingleTagInsideElement(e,"TR")){var n=e.firstElementChild;if(this._hasSingleTagInsideElement(n,"TD")){var r=n.firstElementChild;r=this._setNodeTag(r,this._everyNode(r.childNodes,this._isPhrasingContent)?"P":"DIV"),t.parentNode.replaceChild(r,t)}}}))},_initializeNode:function(t){switch(t.readability={contentScore:0},t.tagName){case"DIV":t.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":t.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":t.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":t.readability.contentScore-=5}t.readability.contentScore+=this._getClassWeight(t)},_removeAndGetNext:function(t){var e=this._getNextNode(t,!0);return t.parentNode.removeChild(t),e},_getNextNode:function(t,e){if(!e&&t.firstElementChild)return t.firstElementChild;if(t.nextElementSibling)return t.nextElementSibling;do{t=t.parentNode}while(t&&!t.nextElementSibling);return t&&t.nextElementSibling},_textSimilarity:function(t,e){var n=t.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),r=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);return n.length&&r.length?1-r.filter((t=>!n.includes(t))).join(" ").length/r.join(" ").length:0},_checkByline:function(t,e){if(this._articleByline)return!1;if(t.getAttribute!==undefined)var n=t.getAttribute("rel"),r=t.getAttribute("itemprop");return!(!("author"===n||r&&-1!==r.indexOf("author")||this.REGEXPS.byline.test(e))||!this._isValidByline(t.textContent))&&(this._articleByline=t.textContent.trim(),!0)},_getNodeAncestors:function(t,e){e=e||0;for(var n=0,r=[];t.parentNode&&(r.push(t.parentNode),!e||++n!==e);)t=t.parentNode;return r},_grabArticle:function(t){this.log("**** grabArticle ****");var e=this._doc,n=null!==t;if(!(t=t||this._doc.body))return this.log("No body found in document. Abort."),null;for(var r=t.innerHTML;;){this.log("Starting grabArticle loop");var i=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),o=[],a=this._doc.documentElement;let q=!0;for(;a;){"HTML"===a.tagName&&(this._articleLang=a.getAttribute("lang"));var s=a.className+" "+a.id;if(this._isProbablyVisible(a))if(this._checkByline(a,s))a=this._removeAndGetNext(a);else if(q&&this._headerDuplicatesTitle(a))this.log("Removing header: ",a.textContent.trim(),this._articleTitle.trim()),q=!1,a=this._removeAndGetNext(a);else{if(i){if(this.REGEXPS.unlikelyCandidates.test(s)&&!this.REGEXPS.okMaybeItsACandidate.test(s)&&!this._hasAncestorTag(a,"table")&&!this._hasAncestorTag(a,"code")&&"BODY"!==a.tagName&&"A"!==a.tagName){this.log("Removing unlikely candidate - "+s),a=this._removeAndGetNext(a);continue}if(this.UNLIKELY_ROLES.includes(a.getAttribute("role"))){this.log("Removing content with role "+a.getAttribute("role")+" - "+s),a=this._removeAndGetNext(a);continue}}if("DIV"!==a.tagName&&"SECTION"!==a.tagName&&"HEADER"!==a.tagName&&"H1"!==a.tagName&&"H2"!==a.tagName&&"H3"!==a.tagName&&"H4"!==a.tagName&&"H5"!==a.tagName&&"H6"!==a.tagName||!this._isElementWithoutContent(a)){if(-1!==this.DEFAULT_TAGS_TO_SCORE.indexOf(a.tagName)&&o.push(a),"DIV"===a.tagName){for(var c=null,l=a.firstChild;l;){var u=l.nextSibling;if(this._isPhrasingContent(l))null!==c?c.appendChild(l):this._isWhitespace(l)||(c=e.createElement("p"),a.replaceChild(c,l),c.appendChild(l));else if(null!==c){for(;c.lastChild&&this._isWhitespace(c.lastChild);)c.removeChild(c.lastChild);c=null}l=u}if(this._hasSingleTagInsideElement(a,"P")&&this._getLinkDensity(a)<.25){var h=a.children[0];a.parentNode.replaceChild(h,a),a=h,o.push(a)}else this._hasChildBlockElement(a)||(a=this._setNodeTag(a,"P"),o.push(a))}a=this._getNextNode(a)}else a=this._removeAndGetNext(a)}else this.log("Removing hidden node - "+s),a=this._removeAndGetNext(a)}var f=[];this._forEachNode(o,(function(t){if(t.parentNode&&"undefined"!=typeof t.parentNode.tagName){var e=this._getInnerText(t);if(!(e.length<25)){var n=this._getNodeAncestors(t,5);if(0!==n.length){var r=0;r+=1,r+=e.split(",").length,r+=Math.min(Math.floor(e.length/100),3),this._forEachNode(n,(function(t,e){if(t.tagName&&t.parentNode&&"undefined"!=typeof t.parentNode.tagName){if("undefined"==typeof t.readability&&(this._initializeNode(t),f.push(t)),0===e)var n=1;else n=1===e?2:3*e;t.readability.contentScore+=r/n}}))}}}}));for(var d=[],p=0,g=f.length;p<g;p+=1){var m=f[p],y=m.readability.contentScore*(1-this._getLinkDensity(m));m.readability.contentScore=y,this.log("Candidate:",m,"with score "+y);for(var b=0;b<this._nbTopCandidates;b++){var v=d[b];if(!v||y>v.readability.contentScore){d.splice(b,0,m),d.length>this._nbTopCandidates&&d.pop();break}}}var _,x=d[0]||null,w=!1;if(null===x||"BODY"===x.tagName){for(x=e.createElement("DIV"),w=!0;t.firstChild;)this.log("Moving child out:",t.firstChild),x.appendChild(t.firstChild);t.appendChild(x),this._initializeNode(x)}else if(x){for(var E=[],S=1;S<d.length;S++)d[S].readability.contentScore/x.readability.contentScore>=.75&&E.push(this._getNodeAncestors(d[S]));if(E.length>=3)for(_=x.parentNode;"BODY"!==_.tagName;){for(var M=0,T=0;T<E.length&&M<3;T++)M+=Number(E[T].includes(_));if(M>=3){x=_;break}_=_.parentNode}x.readability||this._initializeNode(x),_=x.parentNode;for(var C=x.readability.contentScore,k=C/3;"BODY"!==_.tagName;)if(_.readability){var O=_.readability.contentScore;if(O<k)break;if(O>C){x=_;break}C=_.readability.contentScore,_=_.parentNode}else _=_.parentNode;for(_=x.parentNode;"BODY"!=_.tagName&&1==_.children.length;)_=(x=_).parentNode;x.readability||this._initializeNode(x)}var R=e.createElement("DIV");n&&(R.id="readability-content");for(var A=Math.max(10,.2*x.readability.contentScore),N=(_=x.parentNode).children,D=0,P=N.length;D<P;D++){var I=N[D],L=!1;if(this.log("Looking at sibling node:",I,I.readability?"with score "+I.readability.contentScore:""),this.log("Sibling has score",I.readability?I.readability.contentScore:"Unknown"),I===x)L=!0;else{var j=0;if(I.className===x.className&&""!==x.className&&(j+=.2*x.readability.contentScore),I.readability&&I.readability.contentScore+j>=A)L=!0;else if("P"===I.nodeName){var F=this._getLinkDensity(I),B=this._getInnerText(I),z=B.length;(z>80&&F<.25||z<80&&z>0&&0===F&&-1!==B.search(/\.( |$)/))&&(L=!0)}}L&&(this.log("Appending node:",I),-1===this.ALTER_TO_DIV_EXCEPTIONS.indexOf(I.nodeName)&&(this.log("Altering sibling:",I,"to div."),I=this._setNodeTag(I,"DIV")),R.appendChild(I),N=_.children,D-=1,P-=1)}if(this._debug&&this.log("Article content pre-prep: "+R.innerHTML),this._prepArticle(R),this._debug&&this.log("Article content post-prep: "+R.innerHTML),w)x.id="readability-page-1",x.className="page";else{var H=e.createElement("DIV");for(H.id="readability-page-1",H.className="page";R.firstChild;)H.appendChild(R.firstChild);R.appendChild(H)}this._debug&&this.log("Article content after paging: "+R.innerHTML);var U=!0,V=this._getInnerText(R,!0).length;if(V<this._charThreshold)if(U=!1,t.innerHTML=r,this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS),this._attempts.push({articleContent:R,textLength:V});else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES),this._attempts.push({articleContent:R,textLength:V});else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY),this._attempts.push({articleContent:R,textLength:V});else{if(this._attempts.push({articleContent:R,textLength:V}),this._attempts.sort((function(t,e){return e.textLength-t.textLength})),!this._attempts[0].textLength)return null;R=this._attempts[0].articleContent,U=!0}if(U){var W=[_,x].concat(this._getNodeAncestors(_));return this._someNode(W,(function(t){if(!t.tagName)return!1;var e=t.getAttribute("dir");return!!e&&(this._articleDir=e,!0)})),R}}},_isValidByline:function(t){return("string"==typeof t||t instanceof String)&&((t=t.trim()).length>0&&t.length<100)},_unescapeHtmlEntities:function(t){if(!t)return t;var e=this.HTML_ESCAPE_MAP;return t.replace(/&(quot|amp|apos|lt|gt);/g,(function(t,n){return e[n]})).replace(/&#(?:x([0-9a-z]{1,4})|([0-9]{1,4}));/gi,(function(t,e,n){var r=parseInt(e||n,e?16:10);return String.fromCharCode(r)}))},_getJSONLD:function(t){var e,n=this._getAllNodesWithTag(t,["script"]);return this._forEachNode(n,(function(t){if(!e&&"application/ld+json"===t.getAttribute("type"))try{var n=t.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),r=JSON.parse(n);if(!r["@context"]||!r["@context"].match(/^https?\:\/\/schema\.org$/))return;if(!r["@type"]&&Array.isArray(r["@graph"])&&(r=r["@graph"].find((function(t){return(t["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes)}))),!r||!r["@type"]||!r["@type"].match(this.REGEXPS.jsonLdArticleTypes))return;if(e={},"string"==typeof r.name&&"string"==typeof r.headline&&r.name!==r.headline){var i=this._getArticleTitle(),o=this._textSimilarity(r.name,i)>.75,a=this._textSimilarity(r.headline,i)>.75;e.title=a&&!o?r.headline:r.name}else"string"==typeof r.name?e.title=r.name.trim():"string"==typeof r.headline&&(e.title=r.headline.trim());return r.author&&("string"==typeof r.author.name?e.byline=r.author.name.trim():Array.isArray(r.author)&&r.author[0]&&"string"==typeof r.author[0].name&&(e.byline=r.author.filter((function(t){return t&&"string"==typeof t.name})).map((function(t){return t.name.trim()})).join(", "))),"string"==typeof r.description&&(e.excerpt=r.description.trim()),void(r.publisher&&"string"==typeof r.publisher.name&&(e.siteName=r.publisher.name.trim()))}catch(s){this.log(s.message)}})),e||{}},_getArticleMetadata:function(t){var e={},n={},r=this._doc.getElementsByTagName("meta"),i=/\s*(dc|dcterm|og|twitter)\s*:\s*(author|creator|description|title|site_name)\s*/gi,o=/^\s*(?:(dc|dcterm|og|twitter|weibo:(article|webpage))\s*[\.:]\s*)?(author|creator|description|title|site_name)\s*$/i;return this._forEachNode(r,(function(t){var e=t.getAttribute("name"),r=t.getAttribute("property"),a=t.getAttribute("content");if(a){var s=null,c=null;r&&(s=r.match(i))&&(c=s[0].toLowerCase().replace(/\s/g,""),n[c]=a.trim()),!s&&e&&o.test(e)&&(c=e,a&&(c=c.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),n[c]=a.trim()))}})),e.title=t.title||n["dc:title"]||n["dcterm:title"]||n["og:title"]||n["weibo:article:title"]||n["weibo:webpage:title"]||n.title||n["twitter:title"],e.title||(e.title=this._getArticleTitle()),e.byline=t.byline||n["dc:creator"]||n["dcterm:creator"]||n.author,e.excerpt=t.excerpt||n["dc:description"]||n["dcterm:description"]||n["og:description"]||n["weibo:article:description"]||n["weibo:webpage:description"]||n.description||n["twitter:description"],e.siteName=t.siteName||n["og:site_name"],e.title=this._unescapeHtmlEntities(e.title),e.byline=this._unescapeHtmlEntities(e.byline),e.excerpt=this._unescapeHtmlEntities(e.excerpt),e.siteName=this._unescapeHtmlEntities(e.siteName),e},_isSingleImage:function(t){return"IMG"===t.tagName||1===t.children.length&&""===t.textContent.trim()&&this._isSingleImage(t.children[0])},_unwrapNoscriptImages:function(t){var e=Array.from(t.getElementsByTagName("img"));this._forEachNode(e,(function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e];switch(n.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(n.value))return}t.parentNode.removeChild(t)}));var n=Array.from(t.getElementsByTagName("noscript"));this._forEachNode(n,(function(e){var n=t.createElement("div");if(n.innerHTML=e.innerHTML,this._isSingleImage(n)){var r=e.previousElementSibling;if(r&&this._isSingleImage(r)){var i=r;"IMG"!==i.tagName&&(i=r.getElementsByTagName("img")[0]);for(var o=n.getElementsByTagName("img")[0],a=0;a<i.attributes.length;a++){var s=i.attributes[a];if(""!==s.value&&("src"===s.name||"srcset"===s.name||/\.(jpg|jpeg|png|webp)/i.test(s.value))){if(o.getAttribute(s.name)===s.value)continue;var c=s.name;o.hasAttribute(c)&&(c="data-old-"+c),o.setAttribute(c,s.value)}}e.parentNode.replaceChild(n.firstElementChild,r)}}}))},_removeScripts:function(t){this._removeNodes(this._getAllNodesWithTag(t,["script"]),(function(t){return t.nodeValue="",t.removeAttribute("src"),!0})),this._removeNodes(this._getAllNodesWithTag(t,["noscript"]))},_hasSingleTagInsideElement:function(t,e){return 1==t.children.length&&t.children[0].tagName===e&&!this._someNode(t.childNodes,(function(t){return t.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(t.textContent)}))},_isElementWithoutContent:function(t){return t.nodeType===this.ELEMENT_NODE&&0==t.textContent.trim().length&&(0==t.children.length||t.children.length==t.getElementsByTagName("br").length+t.getElementsByTagName("hr").length)},_hasChildBlockElement:function(t){return this._someNode(t.childNodes,(function(t){return this.DIV_TO_P_ELEMS.has(t.tagName)||this._hasChildBlockElement(t)}))},_isPhrasingContent:function(t){return t.nodeType===this.TEXT_NODE||-1!==this.PHRASING_ELEMS.indexOf(t.tagName)||("A"===t.tagName||"DEL"===t.tagName||"INS"===t.tagName)&&this._everyNode(t.childNodes,this._isPhrasingContent)},_isWhitespace:function(t){return t.nodeType===this.TEXT_NODE&&0===t.textContent.trim().length||t.nodeType===this.ELEMENT_NODE&&"BR"===t.tagName},_getInnerText:function(t,e){e=void 0===e||e;var n=t.textContent.trim();return e?n.replace(this.REGEXPS.normalize," "):n},_getCharCount:function(t,e){return e=e||",",this._getInnerText(t).split(e).length-1},_cleanStyles:function(t){if(t&&"svg"!==t.tagName.toLowerCase()){for(var e=0;e<this.PRESENTATIONAL_ATTRIBUTES.length;e++)t.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[e]);-1!==this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.indexOf(t.tagName)&&(t.removeAttribute("width"),t.removeAttribute("height"));for(var n=t.firstElementChild;null!==n;)this._cleanStyles(n),n=n.nextElementSibling}},_getLinkDensity:function(t){var e=this._getInnerText(t).length;if(0===e)return 0;var n=0;return this._forEachNode(t.getElementsByTagName("a"),(function(t){var e=t.getAttribute("href"),r=e&&this.REGEXPS.hashUrl.test(e)?.3:1;n+=this._getInnerText(t).length*r})),n/e},_getClassWeight:function(t){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var e=0;return"string"==typeof t.className&&""!==t.className&&(this.REGEXPS.negative.test(t.className)&&(e-=25),this.REGEXPS.positive.test(t.className)&&(e+=25)),"string"==typeof t.id&&""!==t.id&&(this.REGEXPS.negative.test(t.id)&&(e-=25),this.REGEXPS.positive.test(t.id)&&(e+=25)),e},_clean:function(t,e){var n=-1!==["object","embed","iframe"].indexOf(e);this._removeNodes(this._getAllNodesWithTag(t,[e]),(function(t){if(n){for(var e=0;e<t.attributes.length;e++)if(this.REGEXPS.videos.test(t.attributes[e].value))return!1;if("object"===t.tagName&&this.REGEXPS.videos.test(t.innerHTML))return!1}return!0}))},_hasAncestorTag:function(t,e,n,r){n=n||3,e=e.toUpperCase();for(var i=0;t.parentNode;){if(n>0&&i>n)return!1;if(t.parentNode.tagName===e&&(!r||r(t.parentNode)))return!0;t=t.parentNode,i++}return!1},_getRowAndColumnCount:function(t){for(var e=0,n=0,r=t.getElementsByTagName("tr"),i=0;i<r.length;i++){var o=r[i].getAttribute("rowspan")||0;o&&(o=parseInt(o,10)),e+=o||1;for(var a=0,s=r[i].getElementsByTagName("td"),c=0;c<s.length;c++){var l=s[c].getAttribute("colspan")||0;l&&(l=parseInt(l,10)),a+=l||1}n=Math.max(n,a)}return{rows:e,columns:n}},_markDataTables:function(t){for(var e=t.getElementsByTagName("table"),n=0;n<e.length;n++){var r=e[n];if("presentation"!=r.getAttribute("role"))if("0"!=r.getAttribute("datatable"))if(r.getAttribute("summary"))r._readabilityDataTable=!0;else{var i=r.getElementsByTagName("caption")[0];if(i&&i.childNodes.length>0)r._readabilityDataTable=!0;else{if(["col","colgroup","tfoot","thead","th"].some((function(t){return!!r.getElementsByTagName(t)[0]})))this.log("Data table because found data-y descendant"),r._readabilityDataTable=!0;else if(r.getElementsByTagName("table")[0])r._readabilityDataTable=!1;else{var o=this._getRowAndColumnCount(r);o.rows>=10||o.columns>4?r._readabilityDataTable=!0:r._readabilityDataTable=o.rows*o.columns>10}}}else r._readabilityDataTable=!1;else r._readabilityDataTable=!1}},_fixLazyImages:function(t){this._forEachNode(this._getAllNodesWithTag(t,["img","picture","figure"]),(function(t){if(t.src&&this.REGEXPS.b64DataUrl.test(t.src)){if("image/svg+xml"===this.REGEXPS.b64DataUrl.exec(t.src)[1])return;for(var e=!1,n=0;n<t.attributes.length;n++){var r=t.attributes[n];if("src"!==r.name&&/\.(jpg|jpeg|png|webp)/i.test(r.value)){e=!0;break}}if(e){var i=t.src.search(/base64\s*/i)+7;t.src.length-i<133&&t.removeAttribute("src")}}if(!(t.src||t.srcset&&"null"!=t.srcset)||-1!==t.className.toLowerCase().indexOf("lazy"))for(var o=0;o<t.attributes.length;o++)if("src"!==(r=t.attributes[o]).name&&"srcset"!==r.name&&"alt"!==r.name){var a=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(r.value)?a="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(r.value)&&(a="src"),a)if("IMG"===t.tagName||"PICTURE"===t.tagName)t.setAttribute(a,r.value);else if("FIGURE"===t.tagName&&!this._getAllNodesWithTag(t,["img","picture"]).length){var s=this._doc.createElement("img");s.setAttribute(a,r.value),t.appendChild(s)}}}))},_getTextDensity:function(t,e){var n=this._getInnerText(t,!0).length;if(0===n)return 0;var r=0,i=this._getAllNodesWithTag(t,e);return this._forEachNode(i,(t=>r+=this._getInnerText(t,!0).length)),r/n},_cleanConditionally:function(t,e){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(t,[e]),(function(t){var n=function(t){return t._readabilityDataTable},r="ul"===e||"ol"===e;if(!r){var i=0,o=this._getAllNodesWithTag(t,["ul","ol"]);this._forEachNode(o,(t=>i+=this._getInnerText(t).length)),r=i/this._getInnerText(t).length>.9}if("table"===e&&n(t))return!1;if(this._hasAncestorTag(t,"table",-1,n))return!1;if(this._hasAncestorTag(t,"code"))return!1;var a=this._getClassWeight(t);this.log("Cleaning Conditionally",t);if(a+0<0)return!0;if(this._getCharCount(t,",")<10){for(var s=t.getElementsByTagName("p").length,c=t.getElementsByTagName("img").length,l=t.getElementsByTagName("li").length-100,u=t.getElementsByTagName("input").length,h=this._getTextDensity(t,["h1","h2","h3","h4","h5","h6"]),f=0,d=this._getAllNodesWithTag(t,["object","embed","iframe"]),p=0;p<d.length;p++){for(var g=0;g<d[p].attributes.length;g++)if(this.REGEXPS.videos.test(d[p].attributes[g].value))return!1;if("object"===d[p].tagName&&this.REGEXPS.videos.test(d[p].innerHTML))return!1;f++}var m=this._getLinkDensity(t),y=this._getInnerText(t).length;return c>1&&s/c<.5&&!this._hasAncestorTag(t,"figure")||!r&&l>s||u>Math.floor(s/3)||!r&&h<.9&&y<25&&(0===c||c>2)&&!this._hasAncestorTag(t,"figure")||!r&&a<25&&m>.2||a>=25&&m>.5||1===f&&y<75||f>1}return!1}))},_cleanMatchedNodes:function(t,e){for(var n=this._getNextNode(t,!0),r=this._getNextNode(t);r&&r!=n;)r=e.call(this,r,r.className+" "+r.id)?this._removeAndGetNext(r):this._getNextNode(r)},_cleanHeaders:function(t){let e=this._getAllNodesWithTag(t,["h1","h2"]);this._removeNodes(e,(function(t){let e=this._getClassWeight(t)<0;return e&&this.log("Removing header with low class weight:",t),e}))},_headerDuplicatesTitle:function(t){if("H1"!=t.tagName&&"H2"!=t.tagName)return!1;var e=this._getInnerText(t,!1);return this.log("Evaluating similarity of header:",e,this._articleTitle),this._textSimilarity(this._articleTitle,e)>.75},_flagIsActive:function(t){return(this._flags&t)>0},_removeFlag:function(t){this._flags=this._flags&~t},_isProbablyVisible:function(t){return(!t.style||"none"!=t.style.display)&&!t.hasAttribute("hidden")&&(!t.hasAttribute("aria-hidden")||"true"!=t.getAttribute("aria-hidden")||t.className&&t.className.indexOf&&-1!==t.className.indexOf("fallback-image"))},parse:function(){if(this._maxElemsToParse>0){var t=this._doc.getElementsByTagName("*").length;if(t>this._maxElemsToParse)throw new Error("Aborting parsing document; "+t+" elements found")}this._unwrapNoscriptImages(this._doc);var e=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var n=this._getArticleMetadata(e);this._articleTitle=n.title;var r=this._grabArticle();if(!r)return null;if(this.log("Grabbed: "+r.innerHTML),this._postProcessContent(r),!n.excerpt){var i=r.getElementsByTagName("p");i.length>0&&(n.excerpt=i[0].textContent.trim())}var o=r.textContent;return{title:this._articleTitle,byline:n.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(r),textContent:o,length:o.length,excerpt:n.excerpt,siteName:n.siteName||this._articleSiteName}}},t.exports=e},107:(t,e,n)=>{var r=n(174),i=n(893);t.exports={Readability:r,isProbablyReaderable:i}},407:()=>{function t(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(c)throw a}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var n=window.getGenie.Components.Common.RequestManager,r=n.HandleFetch,i=n.HandleResponse,o=wp.components,a=o.Toolbar,s=o.DropdownMenu,c=wp.blockEditor.BlockControls,l=wp.richText,u=l.registerFormatType,h=l.insert,f=l.getTextContent,d=l.slice,p=wp.i18n.__,g="".concat(window.getGenie.config.assetsUrl,"dist/admin/images/genie-head.svg");u("genie/sentence-rewrite",{title:p("Sentence Rewrite","getgenie"),tagName:"a",className:"getgenie-sentence-rewrite",edit:function(e){e.isActive;var n=e.value,o=e.onChange,l=f(d(n)),u=function(t,e,n){var o,a,s,c,l,u,h,f={title:(null===(o=wp.data.select("core/editor").getCurrentPost())||void 0===o?void 0:o.title)||(null===(a=wp.data.select("getgenie").getTemplateInputs())||void 0===a||null===(s=a.blogWizard)||void 0===s?void 0:s.selectedTitle)||"",keyword:(null===(c=wp.data.select("getgenie").getTemplateInputs())||void 0===c||null===(l=c.blogWizard)||void 0===l?void 0:l.keyword)||"",context:(null===(u=wp.data.select("getgenie").getTemplateInputs())||void 0===u||null===(h=u.blogWizard)||void 0===h?void 0:h.inputContext)||"",textContent:t.replace(/<br\s*[\/]?>/g,"")};document.body.classList.add("make-cursor-wait"),"continue-writing"===e?r((function(t){document.body.classList.remove("make-cursor-wait"),window.getGenie.config.usingShortcut=!1,i(t,(function(){var e=t.data[0]||"";n(e)}))}),"continueWriting",f):r((function(t){document.body.classList.remove("make-cursor-wait"),window.getGenie.config.usingShortcut=!1,i(t,(function(){var e=t.data[0]||"";n(e)}))}),"expandOutline",f)},m=function(e){var r="",i=wp.data.select("core/block-editor"),a=i.getBlocks(),s=i.getSelectedBlockClientId(),c=a.findIndex((function(t){return t.clientId===s}));if("continue-writing"===e){var f,d,p,g="",m=t(a);try{for(m.s();!(p=m.n()).done;){var y=p.value;if(g+=y.attributes.content,y.clientId===s){f=n.formats.length-n.end,d=g.length-f,r=g.substring(0,d).slice(-1e3),u(r,e,(function(t){var e=t.replace(/(\<br[\s]*\/?\>[\s]*)+/g,"\n");" "!==n.text[n.end-1]&&(e=" "+e),o(h(n,e))}));break}}}catch(v){m.e(v)}finally{m.f()}}else if("outline-expand"===e){if(!l)return;u(l,e,(function(e){var n,r=t(e.replace(/(\<br[\s]*\/?\>[\s]*)+/g,"<br>").split("<br>"));try{for(r.s();!(n=r.n()).done;){var i=n.value;wp.data.dispatch("core/block-editor").insertBlocks(wp.blocks.createBlock("core/paragraph",{content:i}),c+1),c++}}catch(v){r.e(v)}finally{r.f()}}))}else{var b=l.split(/[.!?]+\s/).filter(Boolean).length>1?"paragraph-rewriter":"sentence-rewriter";r=l.replace(/<br\s*[\/]?>/g,""),wp.data.dispatch("getgenie").setSidebar({open:!0,component:"WriteTemplatesScreen",currentTemplate:b,toolbarWriting:!0,existingInputValue:r}),wp.data.dispatch("getgenie").setInput("updateContent",(function(t){return o(h(n,t))}))}};return React.createElement(c,null,React.createElement(a,{className:"getgenie"},React.createElement(s,{icon:React.createElement("img",{src:g}),label:p("Write Content","getgenie"),controls:[{title:p("Expand Outline","getgenie"),onClick:function(){return m("outline-expand")},isDisabled:!l},{title:p("Continue Writing","getgenie"),onClick:function(){return m("continue-writing")}},{title:p("Content Re-write","getgenie"),onClick:function(){return m("sentence-rewriter")},isDisabled:!l}]})))}})},203:()=>{var t=null,e=wp.compose.createHigherOrderComponent((function(e){return function(n){return wp.data.select("getgenie").sidebar().statisticsData?(clearTimeout(t),t=setTimeout((function(){var t=wp.data.select("core/editor").getEditedPostContent();wp.data.dispatch("getgenie").setSidebar({currentPostContent:t})}),2e3),React.createElement(e,n)):React.createElement(e,n)}}),"withClientIdClassName");wp.hooks.addFilter("editor.BlockEdit","getgenie/scoreUpdater",e)},693:(t,e,n)=>{"use strict";n.r(e),n.d(e,{FormatSpecifier:()=>fc,active:()=>ti,arc:()=>_x,area:()=>Tx,areaRadial:()=>Ix,ascending:()=>i,autoType:()=>Ba,axisBottom:()=>it,axisLeft:()=>ot,axisRight:()=>rt,axisTop:()=>nt,bisect:()=>l,bisectLeft:()=>c,bisectRight:()=>s,bisector:()=>o,blob:()=>_s,brush:()=>Oi,brushSelection:()=>Ti,brushX:()=>Ci,brushY:()=>ki,buffer:()=>ws,chord:()=>Fi,clientPoint:()=>Nn,cluster:()=>Rd,color:()=>Ye,contourDensity:()=>ca,contours:()=>na,create:()=>Y_,creator:()=>ie,cross:()=>f,csv:()=>Cs,csvFormat:()=>Ta,csvFormatBody:()=>Ca,csvFormatRow:()=>Oa,csvFormatRows:()=>ka,csvFormatValue:()=>Ra,csvParse:()=>Sa,csvParseRows:()=>Ma,cubehelix:()=>Go,curveBasis:()=>gw,curveBasisClosed:()=>yw,curveBasisOpen:()=>vw,curveBundle:()=>xw,curveCardinal:()=>Sw,curveCardinalClosed:()=>Tw,curveCardinalOpen:()=>kw,curveCatmullRom:()=>Aw,curveCatmullRomClosed:()=>Dw,curveCatmullRomOpen:()=>Iw,curveLinear:()=>wx,curveLinearClosed:()=>jw,curveMonotoneX:()=>qw,curveMonotoneY:()=>Gw,curveNatural:()=>Kw,curveStep:()=>Zw,curveStepAfter:()=>Qw,curveStepBefore:()=>Jw,customEvent:()=>me,descending:()=>d,deviation:()=>m,dispatch:()=>ft,drag:()=>ga,dragDisable:()=>Ce,dragEnable:()=>ke,dsv:()=>Ts,dsvFormat:()=>wa,easeBack:()=>ps,easeBackIn:()=>fs,easeBackInOut:()=>ps,easeBackOut:()=>ds,easeBounce:()=>ls,easeBounceIn:()=>cs,easeBounceInOut:()=>us,easeBounceOut:()=>ls,easeCircle:()=>os,easeCircleIn:()=>rs,easeCircleInOut:()=>os,easeCircleOut:()=>is,easeCubic:()=>Xr,easeCubicIn:()=>$r,easeCubicInOut:()=>Xr,easeCubicOut:()=>Kr,easeElastic:()=>ys,easeElasticIn:()=>ms,easeElasticInOut:()=>bs,easeElasticOut:()=>ys,easeExp:()=>ns,easeExpIn:()=>ts,easeExpInOut:()=>ns,easeExpOut:()=>es,easeLinear:()=>Ha,easePoly:()=>Ya,easePolyIn:()=>qa,easePolyInOut:()=>Ya,easePolyOut:()=>Ga,easeQuad:()=>Wa,easeQuadIn:()=>Ua,easeQuadInOut:()=>Wa,easeQuadOut:()=>Va,easeSin:()=>Ja,easeSinIn:()=>Xa,easeSinInOut:()=>Ja,easeSinOut:()=>Za,entries:()=>mo,event:()=>ue,extent:()=>y,forceCenter:()=>Ls,forceCollide:()=>Ks,forceLink:()=>Js,forceManyBody:()=>rc,forceRadial:()=>ic,forceSimulation:()=>nc,forceX:()=>oc,forceY:()=>ac,format:()=>yc,formatDefaultLocale:()=>wc,formatLocale:()=>xc,formatPrefix:()=>bc,formatSpecifier:()=>hc,geoAlbers:()=>qf,geoAlbersUsa:()=>Gf,geoArea:()=>bl,geoAzimuthalEqualArea:()=>Xf,geoAzimuthalEqualAreaRaw:()=>Kf,geoAzimuthalEquidistant:()=>Jf,geoAzimuthalEquidistantRaw:()=>Zf,geoBounds:()=>uu,geoCentroid:()=>wu,geoCircle:()=>Du,geoClipAntimeridian:()=>qu,geoClipCircle:()=>Gu,geoClipExtent:()=>Xu,geoClipRectangle:()=>Ku,geoConicConformal:()=>id,geoConicConformalRaw:()=>rd,geoConicEqualArea:()=>Wf,geoConicEqualAreaRaw:()=>Vf,geoConicEquidistant:()=>cd,geoConicEquidistantRaw:()=>sd,geoContains:()=>yh,geoDistance:()=>ch,geoEqualEarth:()=>gd,geoEqualEarthRaw:()=>pd,geoEquirectangular:()=>ad,geoEquirectangularRaw:()=>od,geoGnomonic:()=>yd,geoGnomonicRaw:()=>md,geoGraticule:()=>_h,geoGraticule10:()=>xh,geoIdentity:()=>bd,geoInterpolate:()=>wh,geoLength:()=>oh,geoMercator:()=>td,geoMercatorRaw:()=>Qf,geoNaturalEarth1:()=>_d,geoNaturalEarth1Raw:()=>vd,geoOrthographic:()=>wd,geoOrthographicRaw:()=>xd,geoPath:()=>Tf,geoProjection:()=>zf,geoProjectionMutator:()=>Hf,geoRotation:()=>Ru,geoStereographic:()=>Sd,geoStereographicRaw:()=>Ed,geoStream:()=>ol,geoTransform:()=>Cf,geoTransverseMercator:()=>Td,geoTransverseMercatorRaw:()=>Md,gray:()=>Mo,hcl:()=>Po,hierarchy:()=>Nd,histogram:()=>A,hsl:()=>on,html:()=>Ps,image:()=>Os,interpolate:()=>Rn,interpolateArray:()=>wn,interpolateBasis:()=>ln,interpolateBasisClosed:()=>un,interpolateBlues:()=>__,interpolateBrBG:()=>Nv,interpolateBuGn:()=>Xv,interpolateBuPu:()=>Jv,interpolateCividis:()=>A_,interpolateCool:()=>P_,interpolateCubehelix:()=>Wp,interpolateCubehelixDefault:()=>N_,interpolateCubehelixLong:()=>qp,interpolateDate:()=>Sn,interpolateDiscrete:()=>Rp,interpolateGnBu:()=>t_,interpolateGreens:()=>w_,interpolateGreys:()=>S_,interpolateHcl:()=>Hp,interpolateHclLong:()=>Up,interpolateHsl:()=>jp,interpolateHslLong:()=>Fp,interpolateHue:()=>Ap,interpolateInferno:()=>q_,interpolateLab:()=>Bp,interpolateMagma:()=>W_,interpolateNumber:()=>Mn,interpolateNumberArray:()=>_n,interpolateObject:()=>Tn,interpolateOrRd:()=>n_,interpolateOranges:()=>R_,interpolatePRGn:()=>Pv,interpolatePiYG:()=>Lv,interpolatePlasma:()=>G_,interpolatePuBu:()=>a_,interpolatePuBuGn:()=>i_,interpolatePuOr:()=>Fv,interpolatePuRd:()=>c_,interpolatePurples:()=>T_,interpolateRainbow:()=>L_,interpolateRdBu:()=>zv,interpolateRdGy:()=>Uv,interpolateRdPu:()=>u_,interpolateRdYlBu:()=>Wv,interpolateRdYlGn:()=>Gv,interpolateReds:()=>k_,interpolateRgb:()=>mn,interpolateRgbBasis:()=>bn,interpolateRgbBasisClosed:()=>vn,interpolateRound:()=>Np,interpolateSinebow:()=>z_,interpolateSpectral:()=>$v,interpolateString:()=>On,interpolateTransformCss:()=>gr,interpolateTransformSvg:()=>mr,interpolateTurbo:()=>H_,interpolateViridis:()=>V_,interpolateWarm:()=>D_,interpolateYlGn:()=>p_,interpolateYlGnBu:()=>f_,interpolateYlOrBr:()=>m_,interpolateYlOrRd:()=>b_,interpolateZoom:()=>Ip,interrupt:()=>ar,interval:()=>_E,isoFormat:()=>yE,isoParse:()=>vE,json:()=>As,keys:()=>po,lab:()=>To,lch:()=>Do,line:()=>Mx,lineRadial:()=>Px,linkHorizontal:()=>Wx,linkRadial:()=>Gx,linkVertical:()=>qx,local:()=>K_,map:()=>ro,matcher:()=>yt,max:()=>I,mean:()=>L,median:()=>j,merge:()=>F,min:()=>B,mouse:()=>Pn,namespace:()=>Mt,namespaces:()=>St,nest:()=>io,now:()=>qn,pack:()=>rp,packEnclose:()=>Fd,packSiblings:()=>Zd,pairs:()=>u,partition:()=>lp,path:()=>Yi,permute:()=>z,pie:()=>Ox,piecewise:()=>Gp,pointRadial:()=>Lx,polygonArea:()=>$p,polygonCentroid:()=>Kp,polygonContains:()=>tg,polygonHull:()=>Qp,polygonLength:()=>eg,precisionFixed:()=>Ec,precisionPrefix:()=>Sc,precisionRound:()=>Mc,quadtree:()=>Vs,quantile:()=>N,quantize:()=>Yp,radialArea:()=>Ix,radialLine:()=>Px,randomBates:()=>sg,randomExponential:()=>cg,randomIrwinHall:()=>ag,randomLogNormal:()=>og,randomNormal:()=>ig,randomUniform:()=>rg,range:()=>E,rgb:()=>Ze,ribbon:()=>Qi,scaleBand:()=>mg,scaleDiverging:()=>pv,scaleDivergingLog:()=>gv,scaleDivergingPow:()=>yv,scaleDivergingSqrt:()=>bv,scaleDivergingSymlog:()=>mv,scaleIdentity:()=>Ng,scaleImplicit:()=>pg,scaleLinear:()=>Ag,scaleLog:()=>Hg,scaleOrdinal:()=>gg,scalePoint:()=>bg,scalePow:()=>Xg,scaleQuantile:()=>Jg,scaleQuantize:()=>Qg,scaleSequential:()=>sv,scaleSequentialLog:()=>cv,scaleSequentialPow:()=>uv,scaleSequentialQuantile:()=>fv,scaleSequentialSqrt:()=>hv,scaleSequentialSymlog:()=>lv,scaleSqrt:()=>Zg,scaleSymlog:()=>qg,scaleThreshold:()=>tm,scaleTime:()=>$b,scaleUtc:()=>iv,scan:()=>H,schemeAccent:()=>xv,schemeBlues:()=>v_,schemeBrBG:()=>Av,schemeBuGn:()=>Kv,schemeBuPu:()=>Zv,schemeCategory10:()=>_v,schemeDark2:()=>wv,schemeGnBu:()=>Qv,schemeGreens:()=>x_,schemeGreys:()=>E_,schemeOrRd:()=>e_,schemeOranges:()=>O_,schemePRGn:()=>Dv,schemePaired:()=>Ev,schemePastel1:()=>Sv,schemePastel2:()=>Mv,schemePiYG:()=>Iv,schemePuBu:()=>o_,schemePuBuGn:()=>r_,schemePuOr:()=>jv,schemePuRd:()=>s_,schemePurples:()=>M_,schemeRdBu:()=>Bv,schemeRdGy:()=>Hv,schemeRdPu:()=>l_,schemeRdYlBu:()=>Vv,schemeRdYlGn:()=>qv,schemeReds:()=>C_,schemeSet1:()=>Tv,schemeSet2:()=>Cv,schemeSet3:()=>kv,schemeSpectral:()=>Yv,schemeTableau10:()=>Ov,schemeYlGn:()=>d_,schemeYlGnBu:()=>h_,schemeYlOrBr:()=>g_,schemeYlOrRd:()=>y_,select:()=>Se,selectAll:()=>Z_,selection:()=>Ee,selector:()=>pt,selectorAll:()=>mt,set:()=>fo,shuffle:()=>U,stack:()=>rE,stackOffsetDiverging:()=>oE,stackOffsetExpand:()=>iE,stackOffsetNone:()=>tE,stackOffsetSilhouette:()=>aE,stackOffsetWiggle:()=>sE,stackOrderAppearance:()=>cE,stackOrderAscending:()=>uE,stackOrderDescending:()=>fE,stackOrderInsideOut:()=>dE,stackOrderNone:()=>eE,stackOrderReverse:()=>pE,stratify:()=>pp,style:()=>Lt,sum:()=>V,svg:()=>Is,symbol:()=>hw,symbolCircle:()=>Yx,symbolCross:()=>$x,symbolDiamond:()=>Zx,symbolSquare:()=>nw,symbolStar:()=>ew,symbolTriangle:()=>iw,symbolWye:()=>lw,symbols:()=>uw,text:()=>Ss,thresholdFreedmanDiaconis:()=>D,thresholdScott:()=>P,thresholdSturges:()=>R,tickFormat:()=>Og,tickIncrement:()=>k,tickStep:()=>O,ticks:()=>C,timeDay:()=>Am,timeDays:()=>Nm,timeFormat:()=>yy,timeFormatDefaultLocale:()=>Fb,timeFormatLocale:()=>gy,timeFriday:()=>xm,timeFridays:()=>km,timeHour:()=>Pm,timeHours:()=>Im,timeInterval:()=>rm,timeMillisecond:()=>Vm,timeMilliseconds:()=>Wm,timeMinute:()=>jm,timeMinutes:()=>Fm,timeMonday:()=>ym,timeMondays:()=>Sm,timeMonth:()=>cm,timeMonths:()=>lm,timeParse:()=>by,timeSaturday:()=>wm,timeSaturdays:()=>Om,timeSecond:()=>zm,timeSeconds:()=>Hm,timeSunday:()=>mm,timeSundays:()=>Em,timeThursday:()=>_m,timeThursdays:()=>Cm,timeTuesday:()=>bm,timeTuesdays:()=>Mm,timeWednesday:()=>vm,timeWednesdays:()=>Tm,timeWeek:()=>mm,timeWeeks:()=>Em,timeYear:()=>om,timeYears:()=>am,timeout:()=>Qn,timer:()=>$n,timerFlush:()=>Kn,touch:()=>Dn,touches:()=>J_,transition:()=>qr,transpose:()=>W,tree:()=>xp,treemap:()=>Tp,treemapBinary:()=>Cp,treemapDice:()=>cp,treemapResquarify:()=>Op,treemapSlice:()=>wp,treemapSliceDice:()=>kp,treemapSquarify:()=>Mp,tsv:()=>ks,tsvFormat:()=>Pa,tsvFormatBody:()=>Ia,tsvFormatRow:()=>ja,tsvFormatRows:()=>La,tsvFormatValue:()=>Fa,tsvParse:()=>Na,tsvParseRows:()=>Da,utcDay:()=>sy,utcDays:()=>cy,utcFormat:()=>vy,utcFriday:()=>Zm,utcFridays:()=>iy,utcHour:()=>Qb,utcHours:()=>tv,utcMillisecond:()=>Vm,utcMilliseconds:()=>Wm,utcMinute:()=>nv,utcMinutes:()=>rv,utcMonday:()=>Ym,utcMondays:()=>ty,utcMonth:()=>Xb,utcMonths:()=>Zb,utcParse:()=>_y,utcSaturday:()=>Jm,utcSaturdays:()=>oy,utcSecond:()=>zm,utcSeconds:()=>Hm,utcSunday:()=>Gm,utcSundays:()=>Qm,utcThursday:()=>Xm,utcThursdays:()=>ry,utcTuesday:()=>$m,utcTuesdays:()=>ey,utcWednesday:()=>Km,utcWednesdays:()=>ny,utcWeek:()=>Gm,utcWeeks:()=>Qm,utcYear:()=>uy,utcYears:()=>hy,values:()=>go,variance:()=>g,version:()=>r,voronoi:()=>aS,window:()=>Nt,xml:()=>Ds,zip:()=>G,zoom:()=>_S,zoomIdentity:()=>uS,zoomTransform:()=>hS});var r="5.16.0";function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function o(t){var e;return 1===t.length&&(e=t,t=function(t,n){return i(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}var a=o(i),s=a.right,c=a.left;const l=s;function u(t,e){null==e&&(e=h);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o}function h(t,e){return[t,e]}function f(t,e,n){var r,i,o,a,s=t.length,c=e.length,l=new Array(s*c);for(null==n&&(n=h),r=o=0;r<s;++r)for(a=t[r],i=0;i<c;++i,++o)l[o]=n(a,e[i]);return l}function d(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function p(t){return null===t?NaN:+t}function g(t,e){var n,r,i=t.length,o=0,a=-1,s=0,c=0;if(null==e)for(;++a<i;)isNaN(n=p(t[a]))||(c+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=p(e(t[a],a,t)))||(c+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return c/(o-1)}function m(t,e){var n=g(t,e);return n?Math.sqrt(n):n}function y(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var b=Array.prototype,v=b.slice,_=b.map;function x(t){return function(){return t}}function w(t){return t}function E(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var S=Math.sqrt(50),M=Math.sqrt(10),T=Math.sqrt(2);function C(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=k(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}function k(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=S?10:o>=M?5:o>=T?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=S?10:o>=M?5:o>=T?2:1)}function O(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=S?i*=10:o>=M?i*=5:o>=T&&(i*=2),e<t?-i:i}function R(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function A(){var t=w,e=y,n=R;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(r[i],i,r);var c=e(s),u=c[0],h=c[1],f=n(s,u,h);Array.isArray(f)||(f=O(u,h,f),f=E(Math.ceil(u/f)*f,h,f));for(var d=f.length;f[0]<=u;)f.shift(),--d;for(;f[d-1]>h;)f.pop(),--d;var p,g=new Array(d+1);for(i=0;i<=d;++i)(p=g[i]=[]).x0=i>0?f[i-1]:u,p.x1=i<d?f[i]:h;for(i=0;i<a;++i)u<=(o=s[i])&&o<=h&&g[l(f,o,0,d)].push(r[i]);return g}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:x(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:x([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?x(v.call(t)):x(t),r):n},r}function N(t,e,n){if(null==n&&(n=p),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function D(t,e,n){return t=_.call(t,p).sort(i),Math.ceil((n-e)/(2*(N(t,.75)-N(t,.25))*Math.pow(t.length,-1/3)))}function P(t,e,n){return Math.ceil((n-e)/(3.5*m(t)*Math.pow(t.length,-1/3)))}function I(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r}function L(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=p(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))?--i:a+=n;if(i)return a/i}function j(t,e){var n,r=t.length,o=-1,a=[];if(null==e)for(;++o<r;)isNaN(n=p(t[o]))||a.push(n);else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))||a.push(n);return N(a.sort(i),.5)}function F(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}function B(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}function z(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}function H(t,e){if(n=t.length){var n,r,o=0,a=0,s=t[a];for(null==e&&(e=i);++o<n;)(e(r=t[o],s)<0||0!==e(s,s))&&(s=r,a=o);return 0===e(s,s)?a:void 0}}function U(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t}function V(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o}function W(t){if(!(i=t.length))return[];for(var e=-1,n=B(t,q),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function q(t){return t.length}function G(){return W(arguments)}var Y=Array.prototype.slice;function $(t){return t}var K=1e-6;function X(t){return"translate("+(t+.5)+",0)"}function Z(t){return"translate(0,"+(t+.5)+")"}function J(t){return function(e){return+t(e)}}function Q(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function tt(){return!this.__axis}function et(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,c=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",u=1===t||3===t?X:Z;function h(h){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,d=null==i?e.tickFormat?e.tickFormat.apply(e,n):$:i,p=Math.max(o,0)+s,g=e.range(),m=+g[0]+.5,y=+g[g.length-1]+.5,b=(e.bandwidth?Q:J)(e.copy()),v=h.selection?h.selection():h,_=v.selectAll(".domain").data([null]),x=v.selectAll(".tick").data(f,e).order(),w=x.exit(),E=x.enter().append("g").attr("class","tick"),S=x.select("line"),M=x.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(E),S=S.merge(E.append("line").attr("stroke","currentColor").attr(l+"2",c*o)),M=M.merge(E.append("text").attr("fill","currentColor").attr(l,c*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==v&&(_=_.transition(h),x=x.transition(h),S=S.transition(h),M=M.transition(h),w=w.transition(h).attr("opacity",K).attr("transform",(function(t){return isFinite(t=b(t))?u(t):this.getAttribute("transform")})),E.attr("opacity",K).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:b(t))}))),w.remove(),_.attr("d",4===t||2==t?a?"M"+c*a+","+m+"H0.5V"+y+"H"+c*a:"M0.5,"+m+"V"+y:a?"M"+m+","+c*a+"V0.5H"+y+"V"+c*a:"M"+m+",0.5H"+y),x.attr("opacity",1).attr("transform",(function(t){return u(b(t))})),S.attr(l+"2",c*o),M.attr(l,c*p).text(d),v.filter(tt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),v.each((function(){this.__axis=b}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Y.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Y.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Y.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}function nt(t){return et(1,t)}function rt(t){return et(2,t)}function it(t){return et(3,t)}function ot(t){return et(4,t)}var at={value:function(){}};function st(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ct(r)}function ct(t){this._=t}function lt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ut(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ht(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=at,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ct.prototype=st.prototype={constructor:ct,on:function(t,e){var n,r=this._,i=lt(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=ht(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ht(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=ut(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ct(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const ft=st;function dt(){}function pt(t){return null==t?dt:function(){return this.querySelector(t)}}function gt(){return[]}function mt(t){return null==t?gt:function(){return this.querySelectorAll(t)}}function yt(t){return function(){return this.matches(t)}}function bt(t){return new Array(t.length)}function vt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}vt.prototype={constructor:vt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _t(t,e,n,r,i,o){for(var a,s=0,c=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new vt(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function xt(t,e,n,r,i,o,a){var s,c,l,u={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(c=e[s])&&(d[s]=l="$"+a.call(c,c.__data__,s,e),l in u?i[s]=c:u[l]=c);for(s=0;s<f;++s)(c=u[l="$"+a.call(t,o[s],s,o)])?(r[s]=c,c.__data__=o[s],u[l]=null):n[s]=new vt(t,o[s]);for(s=0;s<h;++s)(c=e[s])&&u[d[s]]===c&&(i[s]=c)}function wt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Et="http://www.w3.org/1999/xhtml";const St={svg:"http://www.w3.org/2000/svg",xhtml:Et,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),St.hasOwnProperty(e)?{space:St[e],local:t}:t}function Tt(t){return function(){this.removeAttribute(t)}}function Ct(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kt(t,e){return function(){this.setAttribute(t,e)}}function Ot(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Rt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function At(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Nt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Dt(t){return function(){this.style.removeProperty(t)}}function Pt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function It(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Lt(t,e){return t.style.getPropertyValue(e)||Nt(t).getComputedStyle(t,null).getPropertyValue(e)}function jt(t){return function(){delete this[t]}}function Ft(t,e){return function(){this[t]=e}}function Bt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function zt(t){return t.trim().split(/^|\s+/)}function Ht(t){return t.classList||new Ut(t)}function Ut(t){this._node=t,this._names=zt(t.getAttribute("class")||"")}function Vt(t,e){for(var n=Ht(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Wt(t,e){for(var n=Ht(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function qt(t){return function(){Vt(this,t)}}function Gt(t){return function(){Wt(this,t)}}function Yt(t,e){return function(){(e.apply(this,arguments)?Vt:Wt)(this,t)}}function $t(){this.textContent=""}function Kt(t){return function(){this.textContent=t}}function Xt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Zt(){this.innerHTML=""}function Jt(t){return function(){this.innerHTML=t}}function Qt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function te(){this.nextSibling&&this.parentNode.appendChild(this)}function ee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ne(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Et&&e.documentElement.namespaceURI===Et?e.createElement(t):e.createElementNS(n,t)}}function re(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ie(t){var e=Mt(t);return(e.local?re:ne)(e)}function oe(){return null}function ae(){var t=this.parentNode;t&&t.removeChild(this)}function se(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ce(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}Ut.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var le={},ue=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(le={mouseenter:"mouseover",mouseleave:"mouseout"}));function he(t,e,n){return t=fe(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function fe(t,e,n){return function(r){var i=ue;ue=r;try{t.call(this,this.__data__,e,n)}finally{ue=i}}}function de(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function pe(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function ge(t,e,n){var r=le.hasOwnProperty(t.type)?he:fe;return function(i,o,a){var s,c=this.__on,l=r(e,o,a);if(c)for(var u=0,h=c.length;u<h;++u)if((s=c[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function me(t,e,n,r){var i=ue;t.sourceEvent=ue,ue=t;try{return e.apply(n,r)}finally{ue=i}}function ye(t,e,n){var r=Nt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function be(t,e){return function(){return ye(this,t,e)}}function ve(t,e){return function(){return ye(this,t,e.apply(this,arguments))}}var _e=[null];function xe(t,e){this._groups=t,this._parents=e}function we(){return new xe([[document.documentElement]],_e)}xe.prototype=we.prototype={constructor:xe,select:function(t){"function"!=typeof t&&(t=pt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],c=s.length,l=r[i]=new Array(c),u=0;u<c;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),l[u]=a);return new xe(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=mt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new xe(r,i)},filter:function(t){"function"!=typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new xe(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each((function(t){d[++l]=t})),d;var n=e?xt:_t,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),l=0;l<o;++l){var u=r[l],h=i[l],f=h.length,d=t.call(u,u&&u.__data__,l,r),p=d.length,g=s[l]=new Array(p),m=a[l]=new Array(p);n(u,h,g,m,c[l]=new Array(f),d,e);for(var y,b,v=0,_=0;v<p;++v)if(y=g[v]){for(v>=_&&(_=v+1);!(b=m[_])&&++_<p;);y._next=b||null}}return(a=new xe(a,r))._enter=s,a._exit=c,a},enter:function(){return new xe(this._enter||this._groups.map(bt),this._parents)},exit:function(){return new xe(this._exit||this._groups.map(bt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=e[s],u=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(c=l[d]||u[d])&&(f[d]=c);for(;s<r;++s)a[s]=e[s];return new xe(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=wt);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],c=s.length,l=i[o]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(e)}return new xe(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Mt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Ct:Tt:"function"==typeof e?n.local?At:Rt:n.local?Ot:kt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Dt:"function"==typeof e?It:Pt)(t,e,null==n?"":n)):Lt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?jt:"function"==typeof e?Bt:Ft)(t,e)):this.node()[t]},classed:function(t,e){var n=zt(t+"");if(arguments.length<2){for(var r=Ht(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Yt:e?qt:Gt)(n,e))},text:function(t){return arguments.length?this.each(null==t?$t:("function"==typeof t?Xt:Kt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Zt:("function"==typeof t?Qt:Jt)(t)):this.node().innerHTML},raise:function(){return this.each(te)},lower:function(){return this.each(ee)},append:function(t){var e="function"==typeof t?t:ie(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:ie(t),r=null==e?oe:"function"==typeof e?e:pt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ae)},clone:function(t){return this.select(t?ce:se)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=de(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?ge:pe,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?ve:be)(t,e))}};const Ee=we;function Se(t){return"string"==typeof t?new xe([[document.querySelector(t)]],[document.documentElement]):new xe([[t]],_e)}function Me(){ue.stopImmediatePropagation()}function Te(){ue.preventDefault(),ue.stopImmediatePropagation()}function Ce(t){var e=t.document.documentElement,n=Se(t).on("dragstart.drag",Te,!0);"onselectstart"in e?n.on("selectstart.drag",Te,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ke(t,e){var n=t.document.documentElement,r=Se(t).on("dragstart.drag",null);e&&(r.on("click.drag",Te,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Oe(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Re(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ae(){}var Ne=.7,De=1/Ne,Pe="\\s*([+-]?\\d+)\\s*",Ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Le="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",je=/^#([0-9a-f]{3,8})$/,Fe=new RegExp("^rgb\\("+[Pe,Pe,Pe]+"\\)$"),Be=new RegExp("^rgb\\("+[Le,Le,Le]+"\\)$"),ze=new RegExp("^rgba\\("+[Pe,Pe,Pe,Ie]+"\\)$"),He=new RegExp("^rgba\\("+[Le,Le,Le,Ie]+"\\)$"),Ue=new RegExp("^hsl\\("+[Ie,Le,Le]+"\\)$"),Ve=new RegExp("^hsla\\("+[Ie,Le,Le,Ie]+"\\)$"),We={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qe(){return this.rgb().formatHex()}function Ge(){return this.rgb().formatRgb()}function Ye(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=je.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?$e(e):3===n?new Je(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ke(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ke(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Fe.exec(t))?new Je(e[1],e[2],e[3],1):(e=Be.exec(t))?new Je(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ze.exec(t))?Ke(e[1],e[2],e[3],e[4]):(e=He.exec(t))?Ke(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ue.exec(t))?nn(e[1],e[2]/100,e[3]/100,1):(e=Ve.exec(t))?nn(e[1],e[2]/100,e[3]/100,e[4]):We.hasOwnProperty(t)?$e(We[t]):"transparent"===t?new Je(NaN,NaN,NaN,0):null}function $e(t){return new Je(t>>16&255,t>>8&255,255&t,1)}function Ke(t,e,n,r){return r<=0&&(t=e=n=NaN),new Je(t,e,n,r)}function Xe(t){return t instanceof Ae||(t=Ye(t)),t?new Je((t=t.rgb()).r,t.g,t.b,t.opacity):new Je}function Ze(t,e,n,r){return 1===arguments.length?Xe(t):new Je(t,e,n,null==r?1:r)}function Je(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Qe(){return"#"+en(this.r)+en(this.g)+en(this.b)}function tn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function en(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function nn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new an(t,e,n,r)}function rn(t){if(t instanceof an)return new an(t.h,t.s,t.l,t.opacity);if(t instanceof Ae||(t=Ye(t)),!t)return new an;if(t instanceof an)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new an(a,s,c,t.opacity)}function on(t,e,n,r){return 1===arguments.length?rn(t):new an(t,e,n,null==r?1:r)}function an(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function sn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function cn(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function ln(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return cn((n-r/e)*e,a,i,o,s)}}function un(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return cn((n-r/e)*e,i,o,a,s)}}function hn(t){return function(){return t}}function fn(t,e){return function(n){return t+n*e}}function dn(t,e){var n=e-t;return n?fn(t,n>180||n<-180?n-360*Math.round(n/360):n):hn(isNaN(t)?e:t)}function pn(t){return 1==(t=+t)?gn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):hn(isNaN(e)?n:e)}}function gn(t,e){var n=e-t;return n?fn(t,n):hn(isNaN(t)?e:t)}Oe(Ae,Ye,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:qe,formatHex:qe,formatHsl:function(){return rn(this).formatHsl()},formatRgb:Ge,toString:Ge}),Oe(Je,Ze,Re(Ae,{brighter:function(t){return t=null==t?De:Math.pow(De,t),new Je(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Ne:Math.pow(Ne,t),new Je(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qe,formatHex:Qe,formatRgb:tn,toString:tn})),Oe(an,on,Re(Ae,{brighter:function(t){return t=null==t?De:Math.pow(De,t),new an(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ne:Math.pow(Ne,t),new an(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Je(sn(t>=240?t-240:t+120,i,r),sn(t,i,r),sn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const mn=function xS(t){var e=pn(t);function n(t,n){var r=e((t=Ze(t)).r,(n=Ze(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=gn(t.opacity,n.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return n.gamma=xS,n}(1);function yn(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ze(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var bn=yn(ln),vn=yn(un);function _n(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function xn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wn(t,e){return(xn(e)?_n:En)(t,e)}function En(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Rn(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Sn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Tn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Rn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Cn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kn=new RegExp(Cn.source,"g");function On(t,e){var n,r,i,o=Cn.lastIndex=kn.lastIndex=0,a=-1,s=[],c=[];for(t+="",e+="";(n=Cn.exec(t))&&(r=kn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:Mn(n,r)})),o=kn.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}function Rn(t,e){var n,r=typeof e;return null==e||"boolean"===r?hn(e):("number"===r?Mn:"string"===r?(n=Ye(e))?(e=n,mn):On:e instanceof Ye?mn:e instanceof Date?Sn:xn(e)?_n:Array.isArray(e)?En:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Tn:Mn)(t,e)}function An(){for(var t,e=ue;t=e.sourceEvent;)e=t;return e}function Nn(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Dn(t,e,n){arguments.length<3&&(n=e,e=An().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Nn(t,r);return null}function Pn(t){var e=An();return e.changedTouches&&(e=e.changedTouches[0]),Nn(t,e)}var In,Ln,jn=0,Fn=0,Bn=0,zn=0,Hn=0,Un=0,Vn="object"==typeof performance&&performance.now?performance:Date,Wn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qn(){return Hn||(Wn(Gn),Hn=Vn.now()+Un)}function Gn(){Hn=0}function Yn(){this._call=this._time=this._next=null}function $n(t,e,n){var r=new Yn;return r.restart(t,e,n),r}function Kn(){qn(),++jn;for(var t,e=In;e;)(t=Hn-e._time)>=0&&e._call.call(null,t),e=e._next;--jn}function Xn(){Hn=(zn=Vn.now())+Un,jn=Fn=0;try{Kn()}finally{jn=0,function(){var t,e,n=In,r=Infinity;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:In=e);Ln=t,Jn(r)}(),Hn=0}}function Zn(){var t=Vn.now(),e=t-zn;e>1e3&&(Un-=e,zn=t)}function Jn(t){jn||(Fn&&(Fn=clearTimeout(Fn)),t-Hn>24?(t<Infinity&&(Fn=setTimeout(Xn,t-Vn.now()-Un)),Bn&&(Bn=clearInterval(Bn))):(Bn||(zn=Vn.now(),Bn=setInterval(Zn,1e3)),jn=1,Wn(Xn)))}function Qn(t,e,n){var r=new Yn;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}Yn.prototype=$n.prototype={constructor:Yn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?qn():+n)+(null==e?0:+e),this._next||Ln===this||(Ln?Ln._next=this:In=this,Ln=this),this._call=t,this._time=n,Jn()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Jn())}};var tr=ft("start","end","cancel","interrupt"),er=[];function nr(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var l,u,h,f;if(1!==n.state)return c();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return Qn(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(Qn((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),l=0,u=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(c),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=$n(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:tr,tween:er,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function rr(t,e){var n=or(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function ir(t,e){var n=or(t,e);if(n.state>3)throw new Error("too late; already running");return n}function or(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ar(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}var sr,cr,lr,ur,hr=180/Math.PI,fr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dr(t,e,n,r,i,o){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*hr,skewX:Math.atan(c)*hr,scaleX:a,scaleY:s}}function pr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var c=a.push("translate(",null,e,null,n);s.push({i:c-4,x:Mn(t,i)},{i:c-2,x:Mn(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,c),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Mn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,c),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Mn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,c),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Mn(t,n)},{i:s-2,x:Mn(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,c),o=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)s[(e=c[n]).i]=e.x(t);return s.join("")}}}var gr=pr((function(t){return"none"===t?fr:(sr||(sr=document.createElement("DIV"),cr=document.documentElement,lr=document.defaultView),sr.style.transform=t,t=lr.getComputedStyle(cr.appendChild(sr),null).getPropertyValue("transform"),cr.removeChild(sr),dr(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),mr=pr((function(t){return null==t?fr:(ur||(ur=document.createElementNS("http://www.w3.org/2000/svg","g")),ur.setAttribute("transform",t),(t=ur.transform.baseVal.consolidate())?dr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):fr)}),", ",")",")");function yr(t,e){var n,r;return function(){var i=ir(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function br(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=ir(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=s;break}c===l&&i.push(s)}o.tween=i}}function vr(t,e,n){var r=t._id;return t.each((function(){var t=ir(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return or(t,r).value[e]}}function _r(t,e){var n;return("number"==typeof e?Mn:e instanceof Ye?mn:(n=Ye(e))?(e=n,mn):On)(t,e)}function xr(t){return function(){this.removeAttribute(t)}}function wr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Er(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Sr(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Mr(t,e,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,c));this.removeAttribute(t)}}function Tr(t,e,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function Cr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function kr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Or(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&kr(t,i)),n}return i._value=e,i}function Rr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Cr(t,i)),n}return i._value=e,i}function Ar(t,e){return function(){rr(this,t).delay=+e.apply(this,arguments)}}function Nr(t,e){return e=+e,function(){rr(this,t).delay=e}}function Dr(t,e){return function(){ir(this,t).duration=+e.apply(this,arguments)}}function Pr(t,e){return e=+e,function(){ir(this,t).duration=e}}function Ir(t,e){if("function"!=typeof e)throw new Error;return function(){ir(this,t).ease=e}}function Lr(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?rr:ir;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var jr=Ee.prototype.constructor;function Fr(t){return function(){this.style.removeProperty(t)}}function Br(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function zr(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Br(t,o,n)),r}return o._value=e,o}function Hr(t){return function(e){this.textContent=t.call(this,e)}}function Ur(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Hr(r)),e}return r._value=t,r}var Vr=0;function Wr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function qr(t){return Ee().transition(t)}function Gr(){return++Vr}var Yr=Ee.prototype;function $r(t){return t*t*t}function Kr(t){return--t*t*t+1}function Xr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Wr.prototype=qr.prototype={constructor:Wr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=pt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,c,l=r[a],u=l.length,h=o[a]=new Array(u),f=0;f<u;++f)(s=l[f])&&(c=t.call(s,s.__data__,f,l))&&("__data__"in s&&(c.__data__=s.__data__),h[f]=c,nr(h[f],e,n,f,h,or(s,n)));return new Wr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=mt(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,l=r[s],u=l.length,h=0;h<u;++h)if(c=l[h]){for(var f,d=t.call(c,c.__data__,h,l),p=or(c,n),g=0,m=d.length;g<m;++g)(f=d[g])&&nr(f,e,n,g,d,p);o.push(d),a.push(c)}return new Wr(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new Wr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=e[s],u=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(c=l[d]||u[d])&&(f[d]=c);for(;s<r;++s)a[s]=e[s];return new Wr(a,this._parents,this._name,this._id)},selection:function(){return new jr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Gr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=or(a,e);nr(a,t,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Wr(r,this._parents,t,n)},call:Yr.call,nodes:Yr.nodes,node:Yr.node,size:Yr.size,empty:Yr.empty,each:Yr.each,on:function(t,e){var n=this._id;return arguments.length<2?or(this.node(),n).on.on(t):this.each(Lr(n,t,e))},attr:function(t,e){var n=Mt(t),r="transform"===n?mr:_r;return this.attrTween(t,"function"==typeof e?(n.local?Tr:Mr)(n,r,vr(this,"attr."+t,e)):null==e?(n.local?wr:xr)(n):(n.local?Sr:Er)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Mt(t);return this.tween(n,(r.local?Or:Rr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?gr:_r;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Lt(this,t),a=(this.style.removeProperty(t),Lt(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Fr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Lt(this,t),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=Lt(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s))}}(t,r,vr(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var c=ir(this,t),l=c.on,u=null==c.value[a]?o||(o=Fr(e)):undefined;l===n&&i===u||(r=(n=l).copy()).on(s,i=u),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Lt(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,zr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(vr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Ur(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=or(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?yr:br)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ar:Nr)(e,t)):or(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Dr:Pr)(e,t)):or(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Ir(e,t)):or(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},c={value:function(){0==--i&&o()}};n.each((function(){var n=ir(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),n.on=e}))}))}};var Zr={time:null,delay:0,duration:250,ease:Xr};function Jr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Zr.time=qn(),Zr;return n}Ee.prototype.interrupt=function(t){return this.each((function(){ar(this,t)}))},Ee.prototype.transition=function(t){var e,n;t instanceof Wr?(e=t._id,t=t._name):(e=Gr(),(n=Zr).time=qn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)(a=s[l])&&nr(a,t,e,l,s,n||Jr(a,e));return new Wr(r,this._parents,t,e)};var Qr=[null];function ti(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>1&&n.name===e)return new Wr([[t]],Qr,e,+r);return null}function ei(t){return function(){return t}}function ni(t,e,n){this.target=t,this.type=e,this.selection=n}function ri(){ue.stopImmediatePropagation()}function ii(){ue.preventDefault(),ue.stopImmediatePropagation()}var oi={name:"drag"},ai={name:"space"},si={name:"handle"},ci={name:"center"};function li(t){return[+t[0],+t[1]]}function ui(t){return[li(t[0]),li(t[1])]}function hi(t){return function(e){return Dn(e,ue.touches,t)}}var fi={name:"x",handles:["w","e"].map(_i),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},di={name:"y",handles:["n","s"].map(_i),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},pi={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(_i),input:function(t){return null==t?null:ui(t)},output:function(t){return t}},gi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},mi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},yi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},bi={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},vi={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function _i(t){return{type:t}}function xi(){return!ue.ctrlKey&&!ue.button}function wi(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ei(){return navigator.maxTouchPoints||"ontouchstart"in this}function Si(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Mi(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ti(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Ci(){return Ri(fi)}function ki(){return Ri(di)}function Oi(){return Ri(pi)}function Ri(t){var e,n=wi,r=xi,i=Ei,o=!0,a=ft("start","brush","end"),s=6;function c(e){var n=e.property("__brush",g).selectAll(".overlay").data([_i("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",gi.overlay).merge(n).each((function(){var t=Si(this).extent;Se(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([_i("selection")]).enter().append("rect").attr("class","selection").attr("cursor",gi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return gi[t.type]})),e.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(i).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){var t=Se(this),e=Si(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new h(t,e,n):r}function h(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function f(){if((!e||ue.touches)&&r.apply(this,arguments)){var n,i,a,s,c,h,f,d,p,g,m,y=this,b=ue.target.__data__.type,v="selection"===(o&&ue.metaKey?b="overlay":b)?oi:o&&ue.altKey?ci:si,_=t===di?null:bi[b],x=t===fi?null:vi[b],w=Si(y),E=w.extent,S=w.selection,M=E[0][0],T=E[0][1],C=E[1][0],k=E[1][1],O=0,R=0,A=_&&x&&o&&ue.shiftKey,N=ue.touches?hi(ue.changedTouches[0].identifier):Pn,D=N(y),P=D,I=u(y,arguments,!0).beforestart();"overlay"===b?(S&&(p=!0),w.selection=S=[[n=t===di?M:D[0],a=t===fi?T:D[1]],[c=t===di?C:n,f=t===fi?k:a]]):(n=S[0][0],a=S[0][1],c=S[1][0],f=S[1][1]),i=n,s=a,h=c,d=f;var L=Se(y).attr("pointer-events","none"),j=L.selectAll(".overlay").attr("cursor",gi[b]);if(ue.touches)I.moved=B,I.ended=H;else{var F=Se(ue.view).on("mousemove.brush",B,!0).on("mouseup.brush",H,!0);o&&F.on("keydown.brush",U,!0).on("keyup.brush",V,!0),Ce(ue.view)}ri(),ar(y),l.call(y),I.start()}function B(){var t=N(y);!A||g||m||(Math.abs(t[0]-P[0])>Math.abs(t[1]-P[1])?m=!0:g=!0),P=t,p=!0,ii(),z()}function z(){var t;switch(O=P[0]-D[0],R=P[1]-D[1],v){case ai:case oi:_&&(O=Math.max(M-n,Math.min(C-c,O)),i=n+O,h=c+O),x&&(R=Math.max(T-a,Math.min(k-f,R)),s=a+R,d=f+R);break;case si:_<0?(O=Math.max(M-n,Math.min(C-n,O)),i=n+O,h=c):_>0&&(O=Math.max(M-c,Math.min(C-c,O)),i=n,h=c+O),x<0?(R=Math.max(T-a,Math.min(k-a,R)),s=a+R,d=f):x>0&&(R=Math.max(T-f,Math.min(k-f,R)),s=a,d=f+R);break;case ci:_&&(i=Math.max(M,Math.min(C,n-O*_)),h=Math.max(M,Math.min(C,c+O*_))),x&&(s=Math.max(T,Math.min(k,a-R*x)),d=Math.max(T,Math.min(k,f+R*x)))}h<i&&(_*=-1,t=n,n=c,c=t,t=i,i=h,h=t,b in mi&&j.attr("cursor",gi[b=mi[b]])),d<s&&(x*=-1,t=a,a=f,f=t,t=s,s=d,d=t,b in yi&&j.attr("cursor",gi[b=yi[b]])),w.selection&&(S=w.selection),g&&(i=S[0][0],h=S[1][0]),m&&(s=S[0][1],d=S[1][1]),S[0][0]===i&&S[0][1]===s&&S[1][0]===h&&S[1][1]===d||(w.selection=[[i,s],[h,d]],l.call(y),I.brush())}function H(){if(ri(),ue.touches){if(ue.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else ke(ue.view,p),F.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),j.attr("cursor",gi.overlay),w.selection&&(S=w.selection),Mi(S)&&(w.selection=null,l.call(y)),I.end()}function U(){switch(ue.keyCode){case 16:A=_&&x;break;case 18:v===si&&(_&&(c=h-O*_,n=i+O*_),x&&(f=d-R*x,a=s+R*x),v=ci,z());break;case 32:v!==si&&v!==ci||(_<0?c=h-O:_>0&&(n=i-O),x<0?f=d-R:x>0&&(a=s-R),v=ai,j.attr("cursor",gi.selection),z());break;default:return}ii()}function V(){switch(ue.keyCode){case 16:A&&(g=m=A=!1,z());break;case 18:v===ci&&(_<0?c=h:_>0&&(n=i),x<0?f=d:x>0&&(a=s),v=si,z());break;case 32:v===ai&&(ue.altKey?(_&&(c=h-O*_,n=i+O*_),x&&(f=d-R*x,a=s+R*x),v=ci):(_<0?c=h:_>0&&(n=i),x<0?f=d:x>0&&(a=s),v=si),j.attr("cursor",gi[b]),z());break;default:return}ii()}}function d(){u(this,arguments).moved()}function p(){u(this,arguments).ended()}function g(){var e=this.__brush||{selection:null};return e.extent=ui(n.apply(this,arguments)),e.dim=t,e}return c.move=function(e,n){e.selection?e.on("start.brush",(function(){u(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){u(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,i=u(e,arguments),o=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=Rn(o,a);function c(t){r.selection=1===t&&null===a?null:s(t),l.call(e),i.brush()}return null!==o&&null!==a?c:c(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,o=t.input("function"==typeof n?n.apply(e,r):n,i.extent),a=u(e,r).beforestart();ar(e),i.selection=null===o?null:o,l.call(e),a.start().brush().end()}))},c.clear=function(t){c.move(t,null)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){me(new ni(c,e,t.output(this.state.selection)),a.apply,a,[e,this.that,this.args])}},c.extent=function(t){return arguments.length?(n="function"==typeof t?t:ei(ui(t)),c):n},c.filter=function(t){return arguments.length?(r="function"==typeof t?t:ei(!!t),c):r},c.touchable=function(t){return arguments.length?(i="function"==typeof t?t:ei(!!t),c):i},c.handleSize=function(t){return arguments.length?(s=+t,c):s},c.keyModifiers=function(t){return arguments.length?(o=!!t,c):o},c.on=function(){var t=a.on.apply(a,arguments);return t===a?c:t},c}var Ai=Math.cos,Ni=Math.sin,Di=Math.PI,Pi=Di/2,Ii=2*Di,Li=Math.max;function ji(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Fi(){var t=0,e=null,n=null,r=null;function i(i){var o,a,s,c,l,u,h=i.length,f=[],d=E(h),p=[],g=[],m=g.groups=new Array(h),y=new Array(h*h);for(o=0,l=-1;++l<h;){for(a=0,u=-1;++u<h;)a+=i[l][u];f.push(a),p.push(E(h)),o+=a}for(e&&d.sort((function(t,n){return e(f[t],f[n])})),n&&p.forEach((function(t,e){t.sort((function(t,r){return n(i[e][t],i[e][r])}))})),c=(o=Li(0,Ii-t*h)/o)?t:Ii/h,a=0,l=-1;++l<h;){for(s=a,u=-1;++u<h;){var b=d[l],v=p[b][u],_=i[b][v],x=a,w=a+=_*o;y[v*h+b]={index:b,subindex:v,startAngle:x,endAngle:w,value:_}}m[b]={index:b,startAngle:s,endAngle:a,value:f[b]},a+=c}for(l=-1;++l<h;)for(u=l-1;++u<h;){var S=y[u*h+l],M=y[l*h+u];(S.value||M.value)&&g.push(S.value<M.value?{source:M,target:S}:{source:S,target:M})}return r?g.sort(r):g}return i.padAngle=function(e){return arguments.length?(t=Li(0,e),i):t},i.sortGroups=function(t){return arguments.length?(e=t,i):e},i.sortSubgroups=function(t){return arguments.length?(n=t,i):n},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=ji(t))._=t,i):r&&r._},i}var Bi=Array.prototype.slice;function zi(t){return function(){return t}}var Hi=Math.PI,Ui=2*Hi,Vi=1e-6,Wi=Ui-Vi;function qi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Gi(){return new qi}qi.prototype=Gi.prototype={constructor:qi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,c=r-e,l=o-t,u=a-e,h=l*l+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Vi)if(Math.abs(u*s-c*l)>Vi&&i){var f=n-o,d=r-a,p=s*s+c*c,g=f*f+d*d,m=Math.sqrt(p),y=Math.sqrt(h),b=i*Math.tan((Hi-Math.acos((p+h-g)/(2*m*y)))/2),v=b/y,_=b/m;Math.abs(v-1)>Vi&&(this._+="L"+(t+v*l)+","+(e+v*u)),this._+="A"+i+","+i+",0,0,"+ +(u*f>l*d)+","+(this._x1=t+_*s)+","+(this._y1=e+_*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=t+a,l=e+s,u=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>Vi||Math.abs(this._y1-l)>Vi)&&(this._+="L"+c+","+l),n&&(h<0&&(h=h%Ui+Ui),h>Wi?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):h>Vi&&(this._+="A"+n+","+n+",0,"+ +(h>=Hi)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const Yi=Gi;function $i(t){return t.source}function Ki(t){return t.target}function Xi(t){return t.radius}function Zi(t){return t.startAngle}function Ji(t){return t.endAngle}function Qi(){var t=$i,e=Ki,n=Xi,r=Zi,i=Ji,o=null;function a(){var a,s=Bi.call(arguments),c=t.apply(this,s),l=e.apply(this,s),u=+n.apply(this,(s[0]=c,s)),h=r.apply(this,s)-Pi,f=i.apply(this,s)-Pi,d=u*Ai(h),p=u*Ni(h),g=+n.apply(this,(s[0]=l,s)),m=r.apply(this,s)-Pi,y=i.apply(this,s)-Pi;if(o||(o=a=Yi()),o.moveTo(d,p),o.arc(0,0,u,h,f),h===m&&f===y||(o.quadraticCurveTo(0,0,g*Ai(m),g*Ni(m)),o.arc(0,0,g,m,y)),o.quadraticCurveTo(0,0,d,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(n="function"==typeof t?t:zi(+t),a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:zi(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:zi(+t),a):i},a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(t){return arguments.length?(e=t,a):e},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}var to="$";function eo(){}function no(t,e){var n=new eo;if(t instanceof eo)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}eo.prototype=no.prototype={constructor:eo,has:function(t){return to+t in this},get:function(t){return this[to+t]},set:function(t,e){return this[to+t]=e,this},remove:function(t){var e=to+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===to&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===to&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===to&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===to&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===to&&++t;return t},empty:function(){for(var t in this)if(t[0]===to)return!1;return!0},each:function(t){for(var e in this)e[0]===to&&t(this[e],e.slice(1),this)}};const ro=no;function io(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var c,l,u,h=-1,f=n.length,d=r[i++],p=ro(),g=a();++h<f;)(u=p.get(c=d(l=n[h])+""))?u.push(l):p.set(c,[l]);return p.each((function(t,e){s(g,e,o(t,i,a,s))})),g}function a(t,n){if(++n>r.length)return t;var o,s=i[n-1];return null!=e&&n>=r.length?o=t.entries():(o=[],t.each((function(t,e){o.push({key:e,values:a(t,n)})}))),null!=s?o.sort((function(t,e){return s(t.key,e.key)})):o}return n={object:function(t){return o(t,0,oo,ao)},map:function(t){return o(t,0,so,co)},entries:function(t){return a(o(t,0,so,co),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}function oo(){return{}}function ao(t,e,n){t[e]=n}function so(){return ro()}function co(t,e,n){t.set(e,n)}function lo(){}var uo=ro.prototype;function ho(t,e){var n=new lo;if(t instanceof lo)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}lo.prototype=ho.prototype={constructor:lo,has:uo.has,add:function(t){return this[to+(t+="")]=t,this},remove:uo.remove,clear:uo.clear,values:uo.keys,size:uo.size,empty:uo.empty,each:uo.each};const fo=ho;function po(t){var e=[];for(var n in t)e.push(n);return e}function go(t){var e=[];for(var n in t)e.push(t[n]);return e}function mo(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}var yo=Math.PI/180,bo=180/Math.PI,vo=.96422,_o=.82521,xo=4/29,wo=6/29,Eo=3*wo*wo;function So(t){if(t instanceof Co)return new Co(t.l,t.a,t.b,t.opacity);if(t instanceof Io)return Lo(t);t instanceof Je||(t=Xe(t));var e,n,r=Ao(t.r),i=Ao(t.g),o=Ao(t.b),a=ko((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=ko((.4360747*r+.3850649*i+.1430804*o)/vo),n=ko((.0139322*r+.0971045*i+.7141733*o)/_o)),new Co(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Mo(t,e){return new Co(t,0,0,null==e?1:e)}function To(t,e,n,r){return 1===arguments.length?So(t):new Co(t,e,n,null==r?1:r)}function Co(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function ko(t){return t>.008856451679035631?Math.pow(t,1/3):t/Eo+xo}function Oo(t){return t>wo?t*t*t:Eo*(t-xo)}function Ro(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ao(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function No(t){if(t instanceof Io)return new Io(t.h,t.c,t.l,t.opacity);if(t instanceof Co||(t=So(t)),0===t.a&&0===t.b)return new Io(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*bo;return new Io(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Do(t,e,n,r){return 1===arguments.length?No(t):new Io(n,e,t,null==r?1:r)}function Po(t,e,n,r){return 1===arguments.length?No(t):new Io(t,e,n,null==r?1:r)}function Io(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Lo(t){if(isNaN(t.h))return new Co(t.l,0,0,t.opacity);var e=t.h*yo;return new Co(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Oe(Co,To,Re(Ae,{brighter:function(t){return new Co(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Co(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Je(Ro(3.1338561*(e=vo*Oo(e))-1.6168667*(t=1*Oo(t))-.4906146*(n=_o*Oo(n))),Ro(-.9787684*e+1.9161415*t+.033454*n),Ro(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Oe(Io,Po,Re(Ae,{brighter:function(t){return new Io(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Io(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Lo(this).rgb()}}));var jo=-.14861,Fo=1.78277,Bo=-.29227,zo=-.90649,Ho=1.97294,Uo=Ho*zo,Vo=Ho*Fo,Wo=Fo*Bo-zo*jo;function qo(t){if(t instanceof Yo)return new Yo(t.h,t.s,t.l,t.opacity);t instanceof Je||(t=Xe(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Wo*r+Uo*e-Vo*n)/(Wo+Uo-Vo),o=r-i,a=(Ho*(n-i)-Bo*o)/zo,s=Math.sqrt(a*a+o*o)/(Ho*i*(1-i)),c=s?Math.atan2(a,o)*bo-120:NaN;return new Yo(c<0?c+360:c,s,i,t.opacity)}function Go(t,e,n,r){return 1===arguments.length?qo(t):new Yo(t,e,n,null==r?1:r)}function Yo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Oe(Yo,Go,Re(Ae,{brighter:function(t){return t=null==t?De:Math.pow(De,t),new Yo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ne:Math.pow(Ne,t),new Yo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*yo,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Je(255*(e+n*(jo*r+Fo*i)),255*(e+n*(Bo*r+zo*i)),255*(e+n*(Ho*r)),this.opacity)}}));var $o=Array.prototype.slice;function Ko(t,e){return t-e}function Xo(t){return function(){return t}}function Zo(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=Jo(t,e[r]))return n;return 0}function Jo(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var c=t[o],l=c[0],u=c[1],h=t[s],f=h[0],d=h[1];if(Qo(c,h,e))return 0;u>r!=d>r&&n<(f-l)*(r-u)/(d-u)+l&&(i=-i)}return i}function Qo(t,e,n){var r,i,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],a=e[r],i<=o&&o<=a||a<=o&&o<=i)}function ta(){}var ea=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function na(){var t=1,e=1,n=R,r=s;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(Ko);else{var r=y(t),i=r[0],a=r[1];e=O(i,a,e),e=E(Math.floor(i/e)*e,Math.floor(a/e)*e,e)}return e.map((function(e){return o(t,e)}))}function o(n,i){var o=[],s=[];return function(n,r,i){var o,s,c,l,u,h,f=new Array,d=new Array;o=s=-1,l=n[0]>=r,ea[l<<1].forEach(p);for(;++o<t-1;)c=l,l=n[o+1]>=r,ea[c|l<<1].forEach(p);ea[l<<0].forEach(p);for(;++s<e-1;){for(o=-1,l=n[s*t+t]>=r,u=n[s*t]>=r,ea[l<<1|u<<2].forEach(p);++o<t-1;)c=l,l=n[s*t+t+o+1]>=r,h=u,u=n[s*t+o+1]>=r,ea[c|l<<1|u<<2|h<<3].forEach(p);ea[l|u<<3].forEach(p)}o=-1,u=n[s*t]>=r,ea[u<<2].forEach(p);for(;++o<t-1;)h=u,u=n[s*t+o+1]>=r,ea[u<<2|h<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+o,t[0][1]+s],c=[t[1][0]+o,t[1][1]+s],l=a(r),u=a(c);(e=d[l])?(n=f[u])?(delete d[e.end],delete f[n.start],e===n?(e.ring.push(c),i(e.ring)):f[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(c),d[e.end=u]=e):(e=f[u])?(n=d[l])?(delete f[e.start],delete d[n.end],e===n?(e.ring.push(c),i(e.ring)):f[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete f[e.start],e.ring.unshift(r),f[e.start=l]=e):f[l]=d[u]={start:l,end:u,ring:[r,c]}}ea[u<<3].forEach(p)}(n,i,(function(t){r(t,n,i),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?o.push([t]):s.push(t)})),s.forEach((function(t){for(var e,n=0,r=o.length;n<r;++n)if(-1!==Zo((e=o[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach((function(n){var o,a=n[0],s=n[1],c=0|a,l=0|s,u=r[l*t+c];a>0&&a<t&&c===a&&(o=r[l*t+c-1],n[0]=a+(i-o)/(u-o)-.5),s>0&&s<e&&l===s&&(o=r[(l-1)*t+c],n[1]=s+(i-o)/(u-o)-.5)}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(r>0&&o>0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Xo($o.call(t)):Xo(t),i):n},i.smooth=function(t){return arguments.length?(r=t?s:ta,i):r===s},i}function ra(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,c=0;s<r+n;++s)s<r&&(c+=t.data[s+a*r]),s>=n&&(s>=o&&(c-=t.data[s-o+a*r]),e.data[s-n+a*r]=c/Math.min(s+1,r-1+o-s,o))}function ia(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,c=0;s<i+n;++s)s<i&&(c+=t.data[a+s*r]),s>=n&&(s>=o&&(c-=t.data[a+(s-o)*r]),e.data[a+(s-n)*r]=c/Math.min(s+1,i-1+o-s,o))}function oa(t){return t[0]}function aa(t){return t[1]}function sa(){return 1}function ca(){var t=oa,e=aa,n=sa,r=960,i=500,o=20,a=2,s=3*o,c=r+2*s>>a,l=i+2*s>>a,u=Xo(20);function h(r){var i=new Float32Array(c*l),h=new Float32Array(c*l);r.forEach((function(r,o,u){var h=+t(r,o,u)+s>>a,f=+e(r,o,u)+s>>a,d=+n(r,o,u);h>=0&&h<c&&f>=0&&f<l&&(i[h+f*c]+=d)})),ra({width:c,height:l,data:i},{width:c,height:l,data:h},o>>a),ia({width:c,height:l,data:h},{width:c,height:l,data:i},o>>a),ra({width:c,height:l,data:i},{width:c,height:l,data:h},o>>a),ia({width:c,height:l,data:h},{width:c,height:l,data:i},o>>a),ra({width:c,height:l,data:i},{width:c,height:l,data:h},o>>a),ia({width:c,height:l,data:h},{width:c,height:l,data:i},o>>a);var d=u(i);if(!Array.isArray(d)){var p=I(i);d=O(0,p,d),(d=E(0,Math.floor(p/d)*d,d)).shift()}return na().thresholds(d).size([c,l])(i).map(f)}function f(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,a)-s,t[1]=t[1]*Math.pow(2,a)-s}function m(){return c=r+2*(s=3*o)>>a,l=i+2*s>>a,h}return h.x=function(e){return arguments.length?(t="function"==typeof e?e:Xo(+e),h):t},h.y=function(t){return arguments.length?(e="function"==typeof t?t:Xo(+t),h):e},h.weight=function(t){return arguments.length?(n="function"==typeof t?t:Xo(+t),h):n},h.size=function(t){if(!arguments.length)return[r,i];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return r=e,i=n,m()},h.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),m()},h.thresholds=function(t){return arguments.length?(u="function"==typeof t?t:Array.isArray(t)?Xo($o.call(t)):Xo(t),h):u},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),m()},h}function la(t){return function(){return t}}function ua(t,e,n,r,i,o,a,s,c,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=c,this._=l}function ha(){return!ue.ctrlKey&&!ue.button}function fa(){return this.parentNode}function da(t){return null==t?{x:ue.x,y:ue.y}:t}function pa(){return navigator.maxTouchPoints||"ontouchstart"in this}function ga(){var t,e,n,r,i=ha,o=fa,a=da,s=pa,c={},l=ft("start","drag","end"),u=0,h=0;function f(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",m).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var a=v("mouse",o.apply(this,arguments),Pn,this,arguments);a&&(Se(ue.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),Ce(ue.view),Me(),n=!1,t=ue.clientX,e=ue.clientY,a("start"))}}function p(){if(Te(),!n){var r=ue.clientX-t,i=ue.clientY-e;n=r*r+i*i>h}c.mouse("drag")}function g(){Se(ue.view).on("mousemove.drag mouseup.drag",null),ke(ue.view,n),Te(),c.mouse("end")}function m(){if(i.apply(this,arguments)){var t,e,n=ue.changedTouches,r=o.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=v(n[t].identifier,r,Dn,this,arguments))&&(Me(),e("start"))}}function y(){var t,e,n=ue.changedTouches,r=n.length;for(t=0;t<r;++t)(e=c[n[t].identifier])&&(Te(),e("drag"))}function b(){var t,e,n=ue.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=c[n[t].identifier])&&(Me(),e("end"))}function v(t,e,n,r,i){var o,s,h,d=n(e,t),p=l.copy();if(me(new ua(f,"beforestart",o,t,u,d[0],d[1],0,0,p),(function(){return null!=(ue.subject=o=a.apply(r,i))&&(s=o.x-d[0]||0,h=o.y-d[1]||0,!0)})))return function g(a){var l,m=d;switch(a){case"start":c[t]=g,l=u++;break;case"end":delete c[t],--u;case"drag":d=n(e,t),l=u}me(new ua(f,a,o,t,l,d[0]+s,d[1]+h,d[0]-m[0],d[1]-m[1],p),p.apply,p,[a,r,i])}}return f.filter=function(t){return arguments.length?(i="function"==typeof t?t:la(!!t),f):i},f.container=function(t){return arguments.length?(o="function"==typeof t?t:la(t),f):o},f.subject=function(t){return arguments.length?(a="function"==typeof t?t:la(t),f):a},f.touchable=function(t){return arguments.length?(s="function"==typeof t?t:la(!!t),f):s},f.on=function(){var t=l.on.apply(l,arguments);return t===l?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}ua.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ma={},ya={};function ba(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function va(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function _a(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function xa(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+_a(-t,6):t>9999?"+"+_a(t,6):_a(t,4)}(t.getUTCFullYear())+"-"+_a(t.getUTCMonth()+1,2)+"-"+_a(t.getUTCDate(),2)+(i?"T"+_a(e,2)+":"+_a(n,2)+":"+_a(r,2)+"."+_a(i,3)+"Z":r?"T"+_a(e,2)+":"+_a(n,2)+":"+_a(r,2)+"Z":n||e?"T"+_a(e,2)+":"+_a(n,2)+"Z":"")}function wa(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,c=o<=0,l=!1;function u(){if(c)return ya;if(l)return l=!1,ma;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?c=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return c=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=u())!==ya;){for(var h=[];r!==ma&&r!==ya;)h.push(r),r=u();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?xa(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ba(t);return function(r,i){return e(n(r),i,t)}}(t,e):ba(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=va(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=va(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var Ea=wa(","),Sa=Ea.parse,Ma=Ea.parseRows,Ta=Ea.format,Ca=Ea.formatBody,ka=Ea.formatRows,Oa=Ea.formatRow,Ra=Ea.formatValue,Aa=wa("\t"),Na=Aa.parse,Da=Aa.parseRows,Pa=Aa.format,Ia=Aa.formatBody,La=Aa.formatRows,ja=Aa.formatRow,Fa=Aa.formatValue;function Ba(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;za&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}var za=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Ha(t){return+t}function Ua(t){return t*t}function Va(t){return t*(2-t)}function Wa(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var qa=function wS(t){function e(e){return Math.pow(e,t)}return t=+t,e.exponent=wS,e}(3),Ga=function ES(t){function e(e){return 1-Math.pow(1-e,t)}return t=+t,e.exponent=ES,e}(3),Ya=function SS(t){function e(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,e.exponent=SS,e}(3),$a=Math.PI,Ka=$a/2;function Xa(t){return 1==+t?1:1-Math.cos(t*Ka)}function Za(t){return Math.sin(t*Ka)}function Ja(t){return(1-Math.cos($a*t))/2}function Qa(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function ts(t){return Qa(1-+t)}function es(t){return 1-Qa(t)}function ns(t){return((t*=2)<=1?Qa(1-t):2-Qa(t-1))/2}function rs(t){return 1-Math.sqrt(1-t*t)}function is(t){return Math.sqrt(1- --t*t)}function os(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var as=4/11,ss=7.5625;function cs(t){return 1-ls(1-t)}function ls(t){return(t=+t)<as?ss*t*t:t<.7272727272727273?ss*(t-=.5454545454545454)*t+.75:t<.9090909090909091?ss*(t-=.8181818181818182)*t+.9375:ss*(t-=.9545454545454546)*t+.984375}function us(t){return((t*=2)<=1?1-ls(1-t):ls(t-1)+1)/2}var hs=1.70158,fs=function MS(t){function e(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,e.overshoot=MS,e}(hs),ds=function TS(t){function e(e){return--e*e*((e+1)*t+e)+1}return t=+t,e.overshoot=TS,e}(hs),ps=function CS(t){function e(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,e.overshoot=CS,e}(hs),gs=2*Math.PI,ms=function kS(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=gs);function r(r){return t*Qa(- --r)*Math.sin((n-r)/e)}return r.amplitude=function(t){return kS(t,e*gs)},r.period=function(e){return kS(t,e)},r}(1,.3),ys=function OS(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=gs);function r(r){return 1-t*Qa(r=+r)*Math.sin((r+n)/e)}return r.amplitude=function(t){return OS(t,e*gs)},r.period=function(e){return OS(t,e)},r}(1,.3),bs=function RS(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=gs);function r(r){return((r=2*r-1)<0?t*Qa(-r)*Math.sin((n-r)/e):2-t*Qa(r)*Math.sin((n+r)/e))/2}return r.amplitude=function(t){return RS(t,e*gs)},r.period=function(e){return RS(t,e)},r}(1,.3);function vs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function _s(t,e){return fetch(t,e).then(vs)}function xs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function ws(t,e){return fetch(t,e).then(xs)}function Es(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Ss(t,e){return fetch(t,e).then(Es)}function Ms(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=undefined),Ss(e,n).then((function(e){return t(e,r)}))}}function Ts(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=undefined);var i=wa(t);return Ss(e,n).then((function(t){return i.parse(t,r)}))}var Cs=Ms(Sa),ks=Ms(Na);function Os(t,e){return new Promise((function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t}))}function Rs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function As(t,e){return fetch(t,e).then(Rs)}function Ns(t){return function(e,n){return Ss(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}const Ds=Ns("application/xml");var Ps=Ns("text/html"),Is=Ns("image/svg+xml");function Ls(t,e){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-t,s=s/o-e,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r}function js(t){return function(){return t}}function Fs(){return 1e-6*(Math.random()-.5)}function Bs(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,c,l,u,h,f,d=t._root,p={data:r},g=t._x0,m=t._y0,y=t._x1,b=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(g+y)/2))?g=o:y=o,(u=n>=(a=(m+b)/2))?m=a:b=a,i=d,!(d=d[h=u<<1|l]))return i[h]=p,t;if(s=+t._x.call(null,d.data),c=+t._y.call(null,d.data),e===s&&n===c)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+y)/2))?g=o:y=o,(u=n>=(a=(m+b)/2))?m=a:b=a}while((h=u<<1|l)==(f=(c>=a)<<1|s>=o));return i[f]=d,i[h]=p,t}function zs(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Hs(t){return t[0]}function Us(t){return t[1]}function Vs(t,e,n){var r=new Ws(null==e?Hs:e,null==n?Us:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ws(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=undefined}function qs(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Gs=Vs.prototype=Ws.prototype;function Ys(t){return t.x+t.vx}function $s(t){return t.y+t.vy}function Ks(t){var e,n,r=1,i=1;function o(){for(var t,o,s,c,l,u,h,f=e.length,d=0;d<i;++d)for(o=Vs(e,Ys,$s).visitAfter(a),t=0;t<f;++t)s=e[t],u=n[s.index],h=u*u,c=s.x+s.vx,l=s.y+s.vy,o.visit(p);function p(t,e,n,i,o){var a=t.data,f=t.r,d=u+f;if(!a)return e>c+d||i<c-d||n>l+d||o<l-d;if(a.index>s.index){var p=c-a.x-a.vx,g=l-a.y-a.vy,m=p*p+g*g;m<d*d&&(0===p&&(m+=(p=Fs())*p),0===g&&(m+=(g=Fs())*g),m=(d-(m=Math.sqrt(m)))/m*r,s.vx+=(p*=m)*(d=(f*=f)/(h+f)),s.vy+=(g*=m)*d,a.vx-=p*(d=1-d),a.vy-=g*d)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=js(null==t?1:+t)),o.initialize=function(t){e=t,s()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:js(+e),s(),o):t},o}function Xs(t){return t.index}function Zs(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Js(t){var e,n,r,i,o,a=Xs,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=js(30),l=1;function u(r){for(var i=0,a=t.length;i<l;++i)for(var s,c,u,h,f,d,p,g=0;g<a;++g)c=(s=t[g]).source,h=(u=s.target).x+u.vx-c.x-c.vx||Fs(),f=u.y+u.vy-c.y-c.vy||Fs(),h*=d=((d=Math.sqrt(h*h+f*f))-n[g])/d*r*e[g],f*=d,u.vx-=h*(p=o[g]),u.vy-=f*p,c.vx+=h*(p=1-p),c.vy+=f*p}function h(){if(r){var s,c,l=r.length,u=t.length,h=ro(r,a);for(s=0,i=new Array(l);s<u;++s)(c=t[s]).index=s,"object"!=typeof c.source&&(c.source=Zs(h,c.source)),"object"!=typeof c.target&&(c.target=Zs(h,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(s=0,o=new Array(u);s<u;++s)c=t[s],o[s]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);e=new Array(u),f(),n=new Array(u),d()}}function f(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),u.initialize=function(t){r=t,h()},u.links=function(e){return arguments.length?(t=e,h(),u):t},u.id=function(t){return arguments.length?(a=t,u):a},u.iterations=function(t){return arguments.length?(l=+t,u):l},u.strength=function(t){return arguments.length?(s="function"==typeof t?t:js(+t),f(),u):s},u.distance=function(t){return arguments.length?(c="function"==typeof t?t:js(+t),d(),u):c},u}function Qs(t){return t.x}function tc(t){return t.y}Gs.copy=function(){var t,e,n=new Ws(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=qs(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=qs(e));return n},Gs.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Bs(this.cover(e,n),e,n,t)},Gs.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),c=Infinity,l=Infinity,u=-Infinity,h=-Infinity;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<c&&(c=r),r>u&&(u=r),i<l&&(l=i),i>h&&(h=i));if(c>u||l>h)return this;for(this.cover(c,l).cover(u,h),n=0;n<o;++n)Bs(this,a[n],s[n],t[n]);return this},Gs.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,c=i-n,l=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=l,l=a,c*=2,s){case 0:i=n+c,o=r+c;break;case 1:n=i-c,o=r+c;break;case 2:i=n+c,r=o-c;break;case 3:n=i-c,r=o-c}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Gs.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Gs.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?undefined:[[this._x0,this._y0],[this._x1,this._y1]]},Gs.find=function(t,e,n){var r,i,o,a,s,c,l,u=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new zs(g,u,h,f,d)),null==n?n=Infinity:(u=t-n,h=e-n,f=t+n,d=e+n,n*=n);c=p.pop();)if(!(!(g=c.node)||(i=c.x0)>f||(o=c.y0)>d||(a=c.x1)<u||(s=c.y1)<h))if(g.length){var m=(i+a)/2,y=(o+s)/2;p.push(new zs(g[3],m,y,a,s),new zs(g[2],i,y,m,s),new zs(g[1],m,o,a,y),new zs(g[0],i,o,m,y)),(l=(e>=y)<<1|t>=m)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=c)}else{var b=t-+this._x.call(null,g.data),v=e-+this._y.call(null,g.data),_=b*b+v*v;if(_<n){var x=Math.sqrt(n=_);u=t-x,h=e-x,f=t+x,d=e+x,r=g.data}}return r},Gs.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,c,l,u,h,f,d=this._root,p=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+m)/2))?p=s:m=s,(u=a>=(c=(g+y)/2))?g=c:y=c,e=d,!(d=d[h=u<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},Gs.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Gs.root=function(){return this._root},Gs.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Gs.visit=function(t){var e,n,r,i,o,a,s=[],c=this._root;for(c&&s.push(new zs(c,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(c=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&c.length){var l=(r+o)/2,u=(i+a)/2;(n=c[3])&&s.push(new zs(n,l,u,o,a)),(n=c[2])&&s.push(new zs(n,r,u,l,a)),(n=c[1])&&s.push(new zs(n,l,i,o,u)),(n=c[0])&&s.push(new zs(n,r,i,l,u))}return this},Gs.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new zs(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,c=e.x1,l=e.y1,u=(a+c)/2,h=(s+l)/2;(o=i[0])&&n.push(new zs(o,a,s,u,h)),(o=i[1])&&n.push(new zs(o,u,s,c,h)),(o=i[2])&&n.push(new zs(o,a,h,u,l)),(o=i[3])&&n.push(new zs(o,u,h,c,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Gs.x=function(t){return arguments.length?(this._x=t,this):this._x},Gs.y=function(t){return arguments.length?(this._y=t,this):this._y};var ec=Math.PI*(3-Math.sqrt(5));function nc(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=ro(),c=$n(u),l=ft("tick","end");function u(){h(),l.call("tick",e),n<r&&(c.stop(),l.call("end",e))}function h(r){var c,l,u=t.length;r===undefined&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.each((function(t){t(n)})),c=0;c<u;++c)null==(l=t[c]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return e}function f(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(n),o=n*ec;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),f(),e={tick:h,restart:function(){return c.restart(u),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),s.each(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,d(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,c,l=0,u=t.length;for(null==r?r=Infinity:r*=r,l=0;l<u;++l)(a=(i=e-(s=t[l]).x)*i+(o=n-s.y)*o)<r&&(c=s,r=a);return c},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}}function rc(){var t,e,n,r,i=js(-30),o=1,a=Infinity,s=.81;function c(r){var i,o=t.length,a=Vs(t,Qs,tc).visitAfter(u);for(n=r,i=0;i<o;++i)e=t[i],a.visit(h)}function l(){if(t){var e,n,o=t.length;for(r=new Array(o),e=0;e<o;++e)n=t[e],r[n.index]=+i(n,e,t)}}function u(t){var e,n,i,o,a,s=0,c=0;if(t.length){for(i=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,c+=n,i+=n*e.x,o+=n*e.y);t.x=i/c,t.y=o/c}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function h(t,i,c,l){if(!t.value)return!0;var u=t.x-e.x,h=t.y-e.y,f=l-i,d=u*u+h*h;if(f*f/s<d)return d<a&&(0===u&&(d+=(u=Fs())*u),0===h&&(d+=(h=Fs())*h),d<o&&(d=Math.sqrt(o*d)),e.vx+=u*t.value*n/d,e.vy+=h*t.value*n/d),!0;if(!(t.length||d>=a)){(t.data!==e||t.next)&&(0===u&&(d+=(u=Fs())*u),0===h&&(d+=(h=Fs())*h),d<o&&(d=Math.sqrt(o*d)));do{t.data!==e&&(f=r[t.data.index]*n/d,e.vx+=u*f,e.vy+=h*f)}while(t=t.next)}}return c.initialize=function(e){t=e,l()},c.strength=function(t){return arguments.length?(i="function"==typeof t?t:js(+t),l(),c):i},c.distanceMin=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c}function ic(t,e,n){var r,i,o,a=js(.1);function s(t){for(var a=0,s=r.length;a<s;++a){var c=r[a],l=c.x-e||1e-6,u=c.y-n||1e-6,h=Math.sqrt(l*l+u*u),f=(o[a]-h)*i[a]*t/h;c.vx+=l*f,c.vy+=u*f}}function c(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!=typeof t&&(t=js(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,c()},s.strength=function(t){return arguments.length?(a="function"==typeof t?t:js(+t),c(),s):a},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:js(+e),c(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s}function oc(t){var e,n,r,i=js(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=js(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:js(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:js(+e),a(),o):t},o}function ac(t){var e,n,r,i=js(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=js(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:js(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:js(+e),a(),o):t},o}function sc(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function cc(t){return(t=sc(Math.abs(t)))?t[1]:NaN}var lc,uc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hc(t){if(!(e=uc.exec(t)))throw new Error("invalid format: "+t);var e;return new fc({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function fc(t){this.fill=t.fill===undefined?" ":t.fill+"",this.align=t.align===undefined?">":t.align+"",this.sign=t.sign===undefined?"-":t.sign+"",this.symbol=t.symbol===undefined?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===undefined?undefined:+t.width,this.comma=!!t.comma,this.precision=t.precision===undefined?undefined:+t.precision,this.trim=!!t.trim,this.type=t.type===undefined?"":t.type+""}function dc(t,e){var n=sc(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}hc.prototype=fc.prototype,fc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===undefined?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===undefined?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const pc={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return dc(100*t,e)},r:dc,s:function(t,e){var n=sc(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(lc=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+sc(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function gc(t){return t}var mc,yc,bc,vc=Array.prototype.map,_c=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xc(t){var e,n,r=t.grouping===undefined||t.thousands===undefined?gc:(e=vc.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(t.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=t.currency===undefined?"":t.currency[0]+"",o=t.currency===undefined?"":t.currency[1]+"",a=t.decimal===undefined?".":t.decimal+"",s=t.numerals===undefined?gc:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(vc.call(t.numerals,String)),c=t.percent===undefined?"%":t.percent+"",l=t.minus===undefined?"-":t.minus+"",u=t.nan===undefined?"NaN":t.nan+"";function h(t){var e=(t=hc(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,b=t.type;"n"===b?(g=!0,b="g"):pc[b]||(m===undefined&&(m=12),y=!0,b="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var v="$"===f?i:"#"===f&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===f?o:/[%p]/.test(b)?c:"",x=pc[b],w=/[defgprs%]/.test(b);function E(t){var i,o,c,f=v,E=_;if("c"===b)E=x(t)+E,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0==+t&&"+"!==h&&(S=!1),f=(S?"("===h?h:l:"-"===h||"("===h?"":h)+f,E=("s"===b?_c[8+lc/3]:"")+E+(S&&"("===h?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){E=(46===c?a+t.slice(i+1):t.slice(i))+E,t=t.slice(0,i);break}}g&&!d&&(t=r(t,Infinity));var M=f.length+t.length+E.length,T=M<p?new Array(p-M+1).join(e):"";switch(g&&d&&(t=r(T+t,T.length?p-E.length:Infinity),T=""),n){case"<":t=f+t+E+T;break;case"=":t=f+T+t+E;break;case"^":t=T.slice(0,M=T.length>>1)+f+t+E+T.slice(M);break;default:t=T+f+t+E}return s(t)}return m=m===undefined?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),E.toString=function(){return t+""},E}return{format:h,formatPrefix:function(t,e){var n=h(((t=hc(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(cc(e)/3))),i=Math.pow(10,-r),o=_c[8+r/3];return function(t){return n(i*t)+o}}}}function wc(t){return mc=xc(t),yc=mc.format,bc=mc.formatPrefix,mc}function Ec(t){return Math.max(0,-cc(Math.abs(t)))}function Sc(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(cc(e)/3)))-cc(Math.abs(t)))}function Mc(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cc(e)-cc(t))+1}function Tc(){return new Cc}function Cc(){this.reset()}wc({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Cc.prototype={constructor:Cc,reset:function(){this.s=this.t=0},add:function(t){Oc(kc,t,this.t),Oc(this,kc.s,this.s),this.s?this.t+=kc.t:this.s=kc.t},valueOf:function(){return this.s}};var kc=new Cc;function Oc(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var Rc=1e-6,Ac=1e-12,Nc=Math.PI,Dc=Nc/2,Pc=Nc/4,Ic=2*Nc,Lc=180/Nc,jc=Nc/180,Fc=Math.abs,Bc=Math.atan,zc=Math.atan2,Hc=Math.cos,Uc=Math.ceil,Vc=Math.exp,Wc=(Math.floor,Math.log),qc=Math.pow,Gc=Math.sin,Yc=Math.sign||function(t){return t>0?1:t<0?-1:0},$c=Math.sqrt,Kc=Math.tan;function Xc(t){return t>1?0:t<-1?Nc:Math.acos(t)}function Zc(t){return t>1?Dc:t<-1?-Dc:Math.asin(t)}function Jc(t){return(t=Gc(t/2))*t}function Qc(){}function tl(t,e){t&&nl.hasOwnProperty(t.type)&&nl[t.type](t,e)}var el={Feature:function(t,e){tl(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)tl(n[r].geometry,e)}},nl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){rl(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)rl(n[r],e,0)},Polygon:function(t,e){il(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)il(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)tl(n[r],e)}};function rl(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function il(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)rl(t[n],e,1);e.polygonEnd()}function ol(t,e){t&&el.hasOwnProperty(t.type)?el[t.type](t,e):tl(t,e)}var al,sl,cl,ll,ul,hl=Tc(),fl=Tc(),dl={point:Qc,lineStart:Qc,lineEnd:Qc,polygonStart:function(){hl.reset(),dl.lineStart=pl,dl.lineEnd=gl},polygonEnd:function(){var t=+hl;fl.add(t<0?Ic+t:t),this.lineStart=this.lineEnd=this.point=Qc},sphere:function(){fl.add(Ic)}};function pl(){dl.point=ml}function gl(){yl(al,sl)}function ml(t,e){dl.point=yl,al=t,sl=e,cl=t*=jc,ll=Hc(e=(e*=jc)/2+Pc),ul=Gc(e)}function yl(t,e){var n=(t*=jc)-cl,r=n>=0?1:-1,i=r*n,o=Hc(e=(e*=jc)/2+Pc),a=Gc(e),s=ul*a,c=ll*o+s*Hc(i),l=s*r*Gc(i);hl.add(zc(l,c)),cl=t,ll=o,ul=a}function bl(t){return fl.reset(),ol(t,dl),2*fl}function vl(t){return[zc(t[1],t[0]),Zc(t[2])]}function _l(t){var e=t[0],n=t[1],r=Hc(n);return[r*Hc(e),r*Gc(e),Gc(n)]}function xl(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function wl(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function El(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Sl(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ml(t){var e=$c(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Tl,Cl,kl,Ol,Rl,Al,Nl,Dl,Pl,Il,Ll,jl,Fl,Bl,zl,Hl,Ul,Vl,Wl,ql,Gl,Yl,$l,Kl,Xl,Zl,Jl=Tc(),Ql={point:tu,lineStart:nu,lineEnd:ru,polygonStart:function(){Ql.point=iu,Ql.lineStart=ou,Ql.lineEnd=au,Jl.reset(),dl.polygonStart()},polygonEnd:function(){dl.polygonEnd(),Ql.point=tu,Ql.lineStart=nu,Ql.lineEnd=ru,hl<0?(Tl=-(kl=180),Cl=-(Ol=90)):Jl>Rc?Ol=90:Jl<-1e-6&&(Cl=-90),Il[0]=Tl,Il[1]=kl},sphere:function(){Tl=-(kl=180),Cl=-(Ol=90)}};function tu(t,e){Pl.push(Il=[Tl=t,kl=t]),e<Cl&&(Cl=e),e>Ol&&(Ol=e)}function eu(t,e){var n=_l([t*jc,e*jc]);if(Dl){var r=wl(Dl,n),i=wl([r[1],-r[0],0],r);Ml(i),i=vl(i);var o,a=t-Rl,s=a>0?1:-1,c=i[0]*Lc*s,l=Fc(a)>180;l^(s*Rl<c&&c<s*t)?(o=i[1]*Lc)>Ol&&(Ol=o):l^(s*Rl<(c=(c+360)%360-180)&&c<s*t)?(o=-i[1]*Lc)<Cl&&(Cl=o):(e<Cl&&(Cl=e),e>Ol&&(Ol=e)),l?t<Rl?su(Tl,t)>su(Tl,kl)&&(kl=t):su(t,kl)>su(Tl,kl)&&(Tl=t):kl>=Tl?(t<Tl&&(Tl=t),t>kl&&(kl=t)):t>Rl?su(Tl,t)>su(Tl,kl)&&(kl=t):su(t,kl)>su(Tl,kl)&&(Tl=t)}else Pl.push(Il=[Tl=t,kl=t]);e<Cl&&(Cl=e),e>Ol&&(Ol=e),Dl=n,Rl=t}function nu(){Ql.point=eu}function ru(){Il[0]=Tl,Il[1]=kl,Ql.point=tu,Dl=null}function iu(t,e){if(Dl){var n=t-Rl;Jl.add(Fc(n)>180?n+(n>0?360:-360):n)}else Al=t,Nl=e;dl.point(t,e),eu(t,e)}function ou(){dl.lineStart()}function au(){iu(Al,Nl),dl.lineEnd(),Fc(Jl)>Rc&&(Tl=-(kl=180)),Il[0]=Tl,Il[1]=kl,Dl=null}function su(t,e){return(e-=t)<0?e+360:e}function cu(t,e){return t[0]-e[0]}function lu(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function uu(t){var e,n,r,i,o,a,s;if(Ol=kl=-(Tl=Cl=Infinity),Pl=[],ol(t,Ql),n=Pl.length){for(Pl.sort(cu),e=1,o=[r=Pl[0]];e<n;++e)lu(r,(i=Pl[e])[0])||lu(r,i[1])?(su(r[0],i[1])>su(r[0],r[1])&&(r[1]=i[1]),su(i[0],r[1])>su(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-Infinity,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=su(r[1],i[0]))>a&&(a=s,Tl=i[0],kl=r[1])}return Pl=Il=null,Tl===Infinity||Cl===Infinity?[[NaN,NaN],[NaN,NaN]]:[[Tl,Cl],[kl,Ol]]}var hu={sphere:Qc,point:fu,lineStart:pu,lineEnd:yu,polygonStart:function(){hu.lineStart=bu,hu.lineEnd=vu},polygonEnd:function(){hu.lineStart=pu,hu.lineEnd=yu}};function fu(t,e){t*=jc;var n=Hc(e*=jc);du(n*Hc(t),n*Gc(t),Gc(e))}function du(t,e,n){++Ll,Fl+=(t-Fl)/Ll,Bl+=(e-Bl)/Ll,zl+=(n-zl)/Ll}function pu(){hu.point=gu}function gu(t,e){t*=jc;var n=Hc(e*=jc);Kl=n*Hc(t),Xl=n*Gc(t),Zl=Gc(e),hu.point=mu,du(Kl,Xl,Zl)}function mu(t,e){t*=jc;var n=Hc(e*=jc),r=n*Hc(t),i=n*Gc(t),o=Gc(e),a=zc($c((a=Xl*o-Zl*i)*a+(a=Zl*r-Kl*o)*a+(a=Kl*i-Xl*r)*a),Kl*r+Xl*i+Zl*o);jl+=a,Hl+=a*(Kl+(Kl=r)),Ul+=a*(Xl+(Xl=i)),Vl+=a*(Zl+(Zl=o)),du(Kl,Xl,Zl)}function yu(){hu.point=fu}function bu(){hu.point=_u}function vu(){xu(Yl,$l),hu.point=fu}function _u(t,e){Yl=t,$l=e,t*=jc,e*=jc,hu.point=xu;var n=Hc(e);Kl=n*Hc(t),Xl=n*Gc(t),Zl=Gc(e),du(Kl,Xl,Zl)}function xu(t,e){t*=jc;var n=Hc(e*=jc),r=n*Hc(t),i=n*Gc(t),o=Gc(e),a=Xl*o-Zl*i,s=Zl*r-Kl*o,c=Kl*i-Xl*r,l=$c(a*a+s*s+c*c),u=Zc(l),h=l&&-u/l;Wl+=h*a,ql+=h*s,Gl+=h*c,jl+=u,Hl+=u*(Kl+(Kl=r)),Ul+=u*(Xl+(Xl=i)),Vl+=u*(Zl+(Zl=o)),du(Kl,Xl,Zl)}function wu(t){Ll=jl=Fl=Bl=zl=Hl=Ul=Vl=Wl=ql=Gl=0,ol(t,hu);var e=Wl,n=ql,r=Gl,i=e*e+n*n+r*r;return i<Ac&&(e=Hl,n=Ul,r=Vl,jl<Rc&&(e=Fl,n=Bl,r=zl),(i=e*e+n*n+r*r)<Ac)?[NaN,NaN]:[zc(n,e)*Lc,Zc(r/$c(i))*Lc]}function Eu(t){return function(){return t}}function Su(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Mu(t,e){return[Fc(t)>Nc?t+Math.round(-t/Ic)*Ic:t,e]}function Tu(t,e,n){return(t%=Ic)?e||n?Su(ku(t),Ou(e,n)):ku(t):e||n?Ou(e,n):Mu}function Cu(t){return function(e,n){return[(e+=t)>Nc?e-Ic:e<-Nc?e+Ic:e,n]}}function ku(t){var e=Cu(t);return e.invert=Cu(-t),e}function Ou(t,e){var n=Hc(t),r=Gc(t),i=Hc(e),o=Gc(e);function a(t,e){var a=Hc(e),s=Hc(t)*a,c=Gc(t)*a,l=Gc(e),u=l*n+s*r;return[zc(c*i-u*o,s*n-l*r),Zc(u*i+c*o)]}return a.invert=function(t,e){var a=Hc(e),s=Hc(t)*a,c=Gc(t)*a,l=Gc(e),u=l*i-c*o;return[zc(c*i+l*o,s*n+u*r),Zc(u*n-s*r)]},a}function Ru(t){function e(e){return(e=t(e[0]*jc,e[1]*jc))[0]*=Lc,e[1]*=Lc,e}return t=Tu(t[0]*jc,t[1]*jc,t.length>2?t[2]*jc:0),e.invert=function(e){return(e=t.invert(e[0]*jc,e[1]*jc))[0]*=Lc,e[1]*=Lc,e},e}function Au(t,e,n,r,i,o){if(n){var a=Hc(e),s=Gc(e),c=r*n;null==i?(i=e+r*Ic,o=e-c/2):(i=Nu(a,i),o=Nu(a,o),(r>0?i<o:i>o)&&(i+=r*Ic));for(var l,u=i;r>0?u>o:u<o;u-=c)l=vl([a,-s*Hc(u),-s*Gc(u)]),t.point(l[0],l[1])}}function Nu(t,e){(e=_l(e))[0]-=t,Ml(e);var n=Xc(-e[1]);return((-e[2]<0?-n:n)+Ic-Rc)%Ic}function Du(){var t,e,n=Eu([0,0]),r=Eu(90),i=Eu(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=Lc,n[1]*=Lc}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*jc,c=i.apply(this,arguments)*jc;return t=[],e=Tu(-a[0]*jc,-a[1]*jc,0).invert,Au(o,s,c,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:Eu([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:Eu(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:Eu(+t),a):i},a}function Pu(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:Qc,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Iu(t,e){return Fc(t[0]-e[0])<Rc&&Fc(t[1]-e[1])<Rc}function Lu(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ju(t,e,n,r,i){var o,a,s=[],c=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Iu(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}s.push(n=new Lu(r,t,null,!0)),c.push(n.o=new Lu(r,null,n,!1)),s.push(n=new Lu(a,t,null,!1)),c.push(n.o=new Lu(a,null,n,!0))}})),s.length){for(c.sort(e),Fu(s),Fu(c),o=0,a=c.length;o<a;++o)c[o].e=n=!n;for(var l,u,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=l.length;o<a;++o)i.point((u=l[o])[0],u[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((u=l[o])[0],u[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}}function Fu(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}Mu.invert=Mu;var Bu=Tc();function zu(t){return Fc(t[0])<=Nc?t[0]:Yc(t[0])*((Fc(t[0])+Nc)%Ic-Nc)}function Hu(t,e){var n=zu(e),r=e[1],i=Gc(r),o=[Gc(n),-Hc(n),0],a=0,s=0;Bu.reset(),1===i?r=Dc+Rc:-1===i&&(r=-Dc-Rc);for(var c=0,l=t.length;c<l;++c)if(h=(u=t[c]).length)for(var u,h,f=u[h-1],d=zu(f),p=f[1]/2+Pc,g=Gc(p),m=Hc(p),y=0;y<h;++y,d=v,g=x,m=w,f=b){var b=u[y],v=zu(b),_=b[1]/2+Pc,x=Gc(_),w=Hc(_),E=v-d,S=E>=0?1:-1,M=S*E,T=M>Nc,C=g*x;if(Bu.add(zc(C*S*Gc(M),m*w+C*Hc(M))),a+=T?E+S*Ic:E,T^d>=n^v>=n){var k=wl(_l(f),_l(b));Ml(k);var O=wl(o,k);Ml(O);var R=(T^E>=0?-1:1)*Zc(O[2]);(r>R||r===R&&(k[0]||k[1]))&&(s+=T^E>=0?1:-1)}}return(a<-1e-6||a<Rc&&Bu<-1e-6)^1&s}function Uu(t,e,n,r){return function(i){var o,a,s,c=e(i),l=Pu(),u=e(l),h=!1,f={point:d,lineStart:g,lineEnd:m,polygonStart:function(){f.point=y,f.lineStart=b,f.lineEnd=v,a=[],o=[]},polygonEnd:function(){f.point=d,f.lineStart=g,f.lineEnd=m,a=F(a);var t=Hu(o,r);a.length?(h||(i.polygonStart(),h=!0),ju(a,Wu,t,n,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){c.point(t,e)}function g(){f.point=p,c.lineStart()}function m(){f.point=d,c.lineEnd()}function y(t,e){s.push([t,e]),u.point(t,e)}function b(){u.lineStart(),s=[]}function v(){y(s[0][0],s[0][1]),u.lineEnd();var t,e,n,r,c=u.clean(),f=l.result(),d=f.length;if(s.pop(),o.push(s),s=null,d)if(1&c){if((e=(n=f[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&f.push(f.pop().concat(f.shift())),a.push(f.filter(Vu))}return f}}function Vu(t){return t.length>1}function Wu(t,e){return((t=t.x)[0]<0?t[1]-Dc-Rc:Dc-t[1])-((e=e.x)[0]<0?e[1]-Dc-Rc:Dc-e[1])}const qu=Uu((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Nc:-Nc,c=Fc(o-n);Fc(c-Nc)<Rc?(t.point(n,r=(r+a)/2>0?Dc:-Dc),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&c>=Nc&&(Fc(n-i)<Rc&&(n-=i*Rc),Fc(o-s)<Rc&&(o-=s*Rc),r=function(t,e,n,r){var i,o,a=Gc(t-n);return Fc(a)>Rc?Bc((Gc(e)*(o=Hc(r))*Gc(n)-Gc(r)*(i=Hc(e))*Gc(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Dc,r.point(-Nc,i),r.point(0,i),r.point(Nc,i),r.point(Nc,0),r.point(Nc,-i),r.point(0,-i),r.point(-Nc,-i),r.point(-Nc,0),r.point(-Nc,i);else if(Fc(t[0]-e[0])>Rc){var o=t[0]<e[0]?Nc:-Nc;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Nc,-Dc]);function Gu(t){var e=Hc(t),n=6*jc,r=e>0,i=Fc(e)>Rc;function o(t,n){return Hc(t)*Hc(n)>e}function a(t,n,r){var i=[1,0,0],o=wl(_l(t),_l(n)),a=xl(o,o),s=o[0],c=a-s*s;if(!c)return!r&&t;var l=e*a/c,u=-e*s/c,h=wl(i,o),f=Sl(i,l);El(f,Sl(o,u));var d=h,p=xl(f,d),g=xl(d,d),m=p*p-g*(xl(f,f)-1);if(!(m<0)){var y=$c(m),b=Sl(d,(-p-y)/g);if(El(b,f),b=vl(b),!r)return b;var v,_=t[0],x=n[0],w=t[1],E=n[1];x<_&&(v=_,_=x,x=v);var S=x-_,M=Fc(S-Nc)<Rc;if(!M&&E<w&&(v=w,w=E,E=v),M||S<Rc?M?w+E>0^b[1]<(Fc(b[0]-_)<Rc?w:E):w<=b[1]&&b[1]<=E:S>Nc^(_<=b[0]&&b[0]<=x)){var T=Sl(d,(-p+y)/g);return El(T,f),[b,vl(T)]}}}function s(e,n){var i=r?t:Nc-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Uu(o,(function(t){var e,n,c,l,u;return{lineStart:function(){l=c=!1,u=1},point:function(h,f){var d,p=[h,f],g=o(h,f),m=r?g?0:s(h,f):g?s(h+(h<0?Nc:-Nc),f):0;if(!e&&(l=c=g)&&t.lineStart(),g!==c&&(!(d=a(e,p))||Iu(e,d)||Iu(p,d))&&(p[2]=1),g!==c)u=0,g?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^g){var y;m&n||!(y=a(p,e,!0))||(u=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||e&&Iu(e,p)||t.point(p[0],p[1]),e=p,c=g,n=m},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return u|(l&&c)<<1}}}),(function(e,r,i,o){Au(o,t,n,i,e,r)}),r?[0,-t]:[-Nc,t-Nc])}var Yu=1e9,$u=-Yu;function Ku(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,l){var u=0,h=0;if(null==i||(u=a(i,s))!==(h=a(o,s))||c(i,o)<0^s>0){do{l.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==h)}else l.point(o[0],o[1])}function a(r,i){return Fc(r[0]-t)<Rc?i>0?0:3:Fc(r[0]-n)<Rc?i>0?2:1:Fc(r[1]-e)<Rc?i>0?1:0:i>0?3:2}function s(t,e){return c(t.x,e.x)}function c(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var c,l,u,h,f,d,p,g,m,y,b,v=a,_=Pu(),x={point:w,lineStart:function(){x.point=E,l&&l.push(u=[]);y=!0,m=!1,p=g=NaN},lineEnd:function(){c&&(E(h,f),d&&m&&_.rejoin(),c.push(_.result()));x.point=w,m&&v.lineEnd()},polygonStart:function(){v=_,c=[],l=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,a,s=l[n],c=1,u=s.length,h=s[0],f=h[0],d=h[1];c<u;++c)o=f,a=d,f=(h=s[c])[0],d=h[1],a<=r?d>r&&(f-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(f-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=b&&e,i=(c=F(c)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&ju(c,s,e,o,a),a.polygonEnd());v=a,c=l=u=null}};function w(t,e){i(t,e)&&v.point(t,e)}function E(o,a){var s=i(o,a);if(l&&u.push([o,a]),y)h=o,f=a,d=s,y=!1,s&&(v.lineStart(),v.point(o,a));else if(s&&m)v.point(o,a);else{var c=[p=Math.max($u,Math.min(Yu,p)),g=Math.max($u,Math.min(Yu,g))],_=[o=Math.max($u,Math.min(Yu,o)),a=Math.max($u,Math.min(Yu,a))];!function(t,e,n,r,i,o){var a,s=t[0],c=t[1],l=0,u=1,h=e[0]-s,f=e[1]-c;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>l&&(l=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<u&&(u=a)}if(a=r-c,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>l&&(l=a)}if(a=o-c,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<u&&(u=a)}return l>0&&(t[0]=s+l*h,t[1]=c+l*f),u<1&&(e[0]=s+u*h,e[1]=c+u*f),!0}}}}}(c,_,t,e,n,r)?s&&(v.lineStart(),v.point(o,a),b=!1):(m||(v.lineStart(),v.point(c[0],c[1])),v.point(_[0],_[1]),s||v.lineEnd(),b=!1)}p=o,g=a,m=s}return x}}function Xu(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=Ku(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}}var Zu,Ju,Qu,th=Tc(),eh={sphere:Qc,point:Qc,lineStart:function(){eh.point=rh,eh.lineEnd=nh},lineEnd:Qc,polygonStart:Qc,polygonEnd:Qc};function nh(){eh.point=eh.lineEnd=Qc}function rh(t,e){Zu=t*=jc,Ju=Gc(e*=jc),Qu=Hc(e),eh.point=ih}function ih(t,e){t*=jc;var n=Gc(e*=jc),r=Hc(e),i=Fc(t-Zu),o=Hc(i),a=r*Gc(i),s=Qu*n-Ju*r*o,c=Ju*n+Qu*r*o;th.add(zc($c(a*a+s*s),c)),Zu=t,Ju=n,Qu=r}function oh(t){return th.reset(),ol(t,eh),+th}var ah=[null,null],sh={type:"LineString",coordinates:ah};function ch(t,e){return ah[0]=t,ah[1]=e,oh(sh)}var lh={Feature:function(t,e){return hh(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(hh(n[r].geometry,e))return!0;return!1}},uh={Sphere:function(){return!0},Point:function(t,e){return fh(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(fh(n[r],e))return!0;return!1},LineString:function(t,e){return dh(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(dh(n[r],e))return!0;return!1},Polygon:function(t,e){return ph(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ph(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(hh(n[r],e))return!0;return!1}};function hh(t,e){return!(!t||!uh.hasOwnProperty(t.type))&&uh[t.type](t,e)}function fh(t,e){return 0===ch(t,e)}function dh(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=ch(t[o],e)))return!0;if(o>0&&(i=ch(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Ac*i)return!0;n=r}return!1}function ph(t,e){return!!Hu(t.map(gh),mh(e))}function gh(t){return(t=t.map(mh)).pop(),t}function mh(t){return[t[0]*jc,t[1]*jc]}function yh(t,e){return(t&&lh.hasOwnProperty(t.type)?lh[t.type]:hh)(t,e)}function bh(t,e,n){var r=E(t,e-Rc,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function vh(t,e,n){var r=E(t,e-Rc,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function _h(){var t,e,n,r,i,o,a,s,c,l,u,h,f=10,d=f,p=90,g=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return E(Uc(r/p)*p,n,p).map(u).concat(E(Uc(s/g)*g,a,g).map(h)).concat(E(Uc(e/f)*f,t,f).filter((function(t){return Fc(t%p)>Rc})).map(c)).concat(E(Uc(o/d)*d,i,d).filter((function(t){return Fc(t%g)>Rc})).map(l))}return y.lines=function(){return b().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(h(a).slice(1),u(n).reverse().slice(1),h(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),y.precision(m)):[[r,s],[n,a]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),y.precision(m)):[[e,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],y):[p,g]},y.stepMinor=function(t){return arguments.length?(f=+t[0],d=+t[1],y):[f,d]},y.precision=function(f){return arguments.length?(m=+f,c=bh(o,i,90),l=vh(e,t,m),u=bh(s,a,90),h=vh(r,n,m),y):m},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function xh(){return _h()()}function wh(t,e){var n=t[0]*jc,r=t[1]*jc,i=e[0]*jc,o=e[1]*jc,a=Hc(r),s=Gc(r),c=Hc(o),l=Gc(o),u=a*Hc(n),h=a*Gc(n),f=c*Hc(i),d=c*Gc(i),p=2*Zc($c(Jc(o-r)+a*c*Jc(i-n))),g=Gc(p),m=p?function(t){var e=Gc(t*=p)/g,n=Gc(p-t)/g,r=n*u+e*f,i=n*h+e*d,o=n*s+e*l;return[zc(i,r)*Lc,zc(o,$c(r*r+i*i))*Lc]}:function(){return[n*Lc,r*Lc]};return m.distance=p,m}function Eh(t){return t}var Sh,Mh,Th,Ch,kh=Tc(),Oh=Tc(),Rh={point:Qc,lineStart:Qc,lineEnd:Qc,polygonStart:function(){Rh.lineStart=Ah,Rh.lineEnd=Ph},polygonEnd:function(){Rh.lineStart=Rh.lineEnd=Rh.point=Qc,kh.add(Fc(Oh)),Oh.reset()},result:function(){var t=kh/2;return kh.reset(),t}};function Ah(){Rh.point=Nh}function Nh(t,e){Rh.point=Dh,Sh=Th=t,Mh=Ch=e}function Dh(t,e){Oh.add(Ch*t-Th*e),Th=t,Ch=e}function Ph(){Dh(Sh,Mh)}const Ih=Rh;var Lh=Infinity,jh=Lh,Fh=-Lh,Bh=Fh,zh={point:function(t,e){t<Lh&&(Lh=t);t>Fh&&(Fh=t);e<jh&&(jh=e);e>Bh&&(Bh=e)},lineStart:Qc,lineEnd:Qc,polygonStart:Qc,polygonEnd:Qc,result:function(){var t=[[Lh,jh],[Fh,Bh]];return Fh=Bh=-(jh=Lh=Infinity),t}};const Hh=zh;var Uh,Vh,Wh,qh,Gh=0,Yh=0,$h=0,Kh=0,Xh=0,Zh=0,Jh=0,Qh=0,tf=0,ef={point:nf,lineStart:rf,lineEnd:sf,polygonStart:function(){ef.lineStart=cf,ef.lineEnd=lf},polygonEnd:function(){ef.point=nf,ef.lineStart=rf,ef.lineEnd=sf},result:function(){var t=tf?[Jh/tf,Qh/tf]:Zh?[Kh/Zh,Xh/Zh]:$h?[Gh/$h,Yh/$h]:[NaN,NaN];return Gh=Yh=$h=Kh=Xh=Zh=Jh=Qh=tf=0,t}};function nf(t,e){Gh+=t,Yh+=e,++$h}function rf(){ef.point=of}function of(t,e){ef.point=af,nf(Wh=t,qh=e)}function af(t,e){var n=t-Wh,r=e-qh,i=$c(n*n+r*r);Kh+=i*(Wh+t)/2,Xh+=i*(qh+e)/2,Zh+=i,nf(Wh=t,qh=e)}function sf(){ef.point=nf}function cf(){ef.point=uf}function lf(){hf(Uh,Vh)}function uf(t,e){ef.point=hf,nf(Uh=Wh=t,Vh=qh=e)}function hf(t,e){var n=t-Wh,r=e-qh,i=$c(n*n+r*r);Kh+=i*(Wh+t)/2,Xh+=i*(qh+e)/2,Zh+=i,Jh+=(i=qh*t-Wh*e)*(Wh+t),Qh+=i*(qh+e),tf+=3*i,nf(Wh=t,qh=e)}const ff=ef;function df(t){this._context=t}df.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ic)}},result:Qc};var pf,gf,mf,yf,bf,vf=Tc(),_f={point:Qc,lineStart:function(){_f.point=xf},lineEnd:function(){pf&&wf(gf,mf),_f.point=Qc},polygonStart:function(){pf=!0},polygonEnd:function(){pf=null},result:function(){var t=+vf;return vf.reset(),t}};function xf(t,e){_f.point=wf,gf=yf=t,mf=bf=e}function wf(t,e){yf-=t,bf-=e,vf.add($c(yf*yf+bf*bf)),yf=t,bf=e}const Ef=_f;function Sf(){this._string=[]}function Mf(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Tf(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),ol(t,n(r))),r.result()}return o.area=function(t){return ol(t,n(Ih)),Ih.result()},o.measure=function(t){return ol(t,n(Ef)),Ef.result()},o.bounds=function(t){return ol(t,n(Hh)),Hh.result()},o.centroid=function(t){return ol(t,n(ff)),ff.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Eh):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new Sf):new df(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function Cf(t){return{stream:kf(t)}}function kf(t){return function(e){var n=new Of;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Of(){}function Rf(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),ol(n,t.stream(Hh)),e(Hh.result()),null!=r&&t.clipExtent(r),t}function Af(t,e,n){return Rf(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function Nf(t,e,n){return Af(t,[[0,0],e],n)}function Df(t,e,n){return Rf(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function Pf(t,e,n){return Rf(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}Sf.prototype={_radius:4.5,_circle:Mf(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Mf(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Of.prototype={constructor:Of,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var If=Hc(30*jc);function Lf(t,e){return+e?function(t,e){function n(r,i,o,a,s,c,l,u,h,f,d,p,g,m){var y=l-r,b=u-i,v=y*y+b*b;if(v>4*e&&g--){var _=a+f,x=s+d,w=c+p,E=$c(_*_+x*x+w*w),S=Zc(w/=E),M=Fc(Fc(w)-1)<Rc||Fc(o-h)<Rc?(o+h)/2:zc(x,_),T=t(M,S),C=T[0],k=T[1],O=C-r,R=k-i,A=b*O-y*R;(A*A/v>e||Fc((y*O+b*R)/v-.5)>.3||a*f+s*d+c*p<If)&&(n(r,i,o,a,s,c,C,k,M,_/=E,x/=E,w,g,m),m.point(C,k),n(C,k,M,_,x,w,l,u,h,f,d,p,g,m))}}return function(e){var r,i,o,a,s,c,l,u,h,f,d,p,g={point:m,lineStart:y,lineEnd:v,polygonStart:function(){e.polygonStart(),g.lineStart=_},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){u=NaN,g.point=b,e.lineStart()}function b(r,i){var o=_l([r,i]),a=t(r,i);n(u,h,l,f,d,p,u=a[0],h=a[1],l=r,f=o[0],d=o[1],p=o[2],16,e),e.point(u,h)}function v(){g.point=m,e.lineEnd()}function _(){y(),g.point=x,g.lineEnd=w}function x(t,e){b(r=t,e),i=u,o=h,a=f,s=d,c=p,g.point=b}function w(){n(u,h,l,f,d,p,i,o,r,a,s,c,16,e),g.lineEnd=v,v()}return g}}(t,e):function(t){return kf({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var jf=kf({point:function(t,e){this.stream.point(t*jc,e*jc)}});function Ff(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}function Bf(t,e,n,r,i,o){var a=Hc(o),s=Gc(o),c=a*t,l=s*t,u=a/t,h=s/t,f=(s*n-a*e)/t,d=(s*e+a*n)/t;function p(t,o){return[c*(t*=r)-l*(o*=i)+e,n-l*t-c*o]}return p.invert=function(t,e){return[r*(u*t-h*e+f),i*(d-h*t-u*e)]},p}function zf(t){return Hf((function(){return t}))()}function Hf(t){var e,n,r,i,o,a,s,c,l,u,h=150,f=480,d=250,p=0,g=0,m=0,y=0,b=0,v=0,_=1,x=1,w=null,E=qu,S=null,M=Eh,T=.5;function C(t){return c(t[0]*jc,t[1]*jc)}function k(t){return(t=c.invert(t[0],t[1]))&&[t[0]*Lc,t[1]*Lc]}function O(){var t=Bf(h,0,0,_,x,v).apply(null,e(p,g)),r=(v?Bf:Ff)(h,f-t[0],d-t[1],_,x,v);return n=Tu(m,y,b),s=Su(e,r),c=Su(n,s),a=Lf(s,T),R()}function R(){return l=u=null,C}return C.stream=function(t){return l&&u===t?l:l=jf(function(t){return kf({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(E(a(M(u=t)))))},C.preclip=function(t){return arguments.length?(E=t,w=undefined,R()):E},C.postclip=function(t){return arguments.length?(M=t,S=r=i=o=null,R()):M},C.clipAngle=function(t){return arguments.length?(E=+t?Gu(w=t*jc):(w=null,qu),R()):w*Lc},C.clipExtent=function(t){return arguments.length?(M=null==t?(S=r=i=o=null,Eh):Ku(S=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),R()):null==S?null:[[S,r],[i,o]]},C.scale=function(t){return arguments.length?(h=+t,O()):h},C.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],O()):[f,d]},C.center=function(t){return arguments.length?(p=t[0]%360*jc,g=t[1]%360*jc,O()):[p*Lc,g*Lc]},C.rotate=function(t){return arguments.length?(m=t[0]%360*jc,y=t[1]%360*jc,b=t.length>2?t[2]%360*jc:0,O()):[m*Lc,y*Lc,b*Lc]},C.angle=function(t){return arguments.length?(v=t%360*jc,O()):v*Lc},C.reflectX=function(t){return arguments.length?(_=t?-1:1,O()):_<0},C.reflectY=function(t){return arguments.length?(x=t?-1:1,O()):x<0},C.precision=function(t){return arguments.length?(a=Lf(s,T=t*t),R()):$c(T)},C.fitExtent=function(t,e){return Af(C,t,e)},C.fitSize=function(t,e){return Nf(C,t,e)},C.fitWidth=function(t,e){return Df(C,t,e)},C.fitHeight=function(t,e){return Pf(C,t,e)},function(){return e=t.apply(this,arguments),C.invert=e.invert&&k,O()}}function Uf(t){var e=0,n=Nc/3,r=Hf(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*jc,n=t[1]*jc):[e*Lc,n*Lc]},i}function Vf(t,e){var n=Gc(t),r=(n+Gc(e))/2;if(Fc(r)<Rc)return function(t){var e=Hc(t);function n(t,n){return[t*e,Gc(n)/e]}return n.invert=function(t,n){return[t/e,Zc(n*e)]},n}(t);var i=1+n*(2*r-n),o=$c(i)/r;function a(t,e){var n=$c(i-2*r*Gc(e))/r;return[n*Gc(t*=r),o-n*Hc(t)]}return a.invert=function(t,e){var n=o-e,a=zc(t,Fc(n))*Yc(n);return n*r<0&&(a-=Nc*Yc(t)*Yc(n)),[a/r,Zc((i-(t*t+n*n)*r*r)/(2*r))]},a}function Wf(){return Uf(Vf).scale(155.424).center([0,33.6442])}function qf(){return Wf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Gf(){var t,e,n,r,i,o,a=qf(),s=Wf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=Wf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){o=[t,e]}};function u(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function h(){return t=e=null,u}return u.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:a).invert(t)},u.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),s.stream(n),c.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},u.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),c.precision(t),h()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),c.scale(t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],u=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,u-.238*e],[o+.455*e,u+.238*e]]).stream(l),r=s.translate([o-.307*e,u+.201*e]).clipExtent([[o-.425*e+Rc,u+.12*e+Rc],[o-.214*e-Rc,u+.234*e-Rc]]).stream(l),i=c.translate([o-.205*e,u+.212*e]).clipExtent([[o-.214*e+Rc,u+.166*e+Rc],[o-.115*e-Rc,u+.234*e-Rc]]).stream(l),h()},u.fitExtent=function(t,e){return Af(u,t,e)},u.fitSize=function(t,e){return Nf(u,t,e)},u.fitWidth=function(t,e){return Df(u,t,e)},u.fitHeight=function(t,e){return Pf(u,t,e)},u.scale(1070)}function Yf(t){return function(e,n){var r=Hc(e),i=Hc(n),o=t(r*i);return[o*i*Gc(e),o*Gc(n)]}}function $f(t){return function(e,n){var r=$c(e*e+n*n),i=t(r),o=Gc(i),a=Hc(i);return[zc(e*o,r*a),Zc(r&&n*o/r)]}}var Kf=Yf((function(t){return $c(2/(1+t))}));function Xf(){return zf(Kf).scale(124.75).clipAngle(179.999)}Kf.invert=$f((function(t){return 2*Zc(t/2)}));var Zf=Yf((function(t){return(t=Xc(t))&&t/Gc(t)}));function Jf(){return zf(Zf).scale(79.4188).clipAngle(179.999)}function Qf(t,e){return[t,Wc(Kc((Dc+e)/2))]}function td(){return ed(Qf).scale(961/Ic)}function ed(t){var e,n,r,i=zf(t),o=i.center,a=i.scale,s=i.translate,c=i.clipExtent,l=null;function u(){var o=Nc*a(),s=i(Ru(i.rotate()).invert([0,0]));return c(null==l?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Qf?[[Math.max(s[0]-o,l),e],[Math.min(s[0]+o,n),r]]:[[l,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),u()):a()},i.translate=function(t){return arguments.length?(s(t),u()):s()},i.center=function(t){return arguments.length?(o(t),u()):o()},i.clipExtent=function(t){return arguments.length?(null==t?l=e=n=r=null:(l=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),u()):null==l?null:[[l,e],[n,r]]},u()}function nd(t){return Kc((Dc+t)/2)}function rd(t,e){var n=Hc(t),r=t===e?Gc(t):Wc(n/Hc(e))/Wc(nd(e)/nd(t)),i=n*qc(nd(t),r)/r;if(!r)return Qf;function o(t,e){i>0?e<-Dc+Rc&&(e=-Dc+Rc):e>Dc-Rc&&(e=Dc-Rc);var n=i/qc(nd(e),r);return[n*Gc(r*t),i-n*Hc(r*t)]}return o.invert=function(t,e){var n=i-e,o=Yc(r)*$c(t*t+n*n),a=zc(t,Fc(n))*Yc(n);return n*r<0&&(a-=Nc*Yc(t)*Yc(n)),[a/r,2*Bc(qc(i/o,1/r))-Dc]},o}function id(){return Uf(rd).scale(109.5).parallels([30,30])}function od(t,e){return[t,e]}function ad(){return zf(od).scale(152.63)}function sd(t,e){var n=Hc(t),r=t===e?Gc(t):(n-Hc(e))/(e-t),i=n/r+t;if(Fc(r)<Rc)return od;function o(t,e){var n=i-e,o=r*t;return[n*Gc(o),i-n*Hc(o)]}return o.invert=function(t,e){var n=i-e,o=zc(t,Fc(n))*Yc(n);return n*r<0&&(o-=Nc*Yc(t)*Yc(n)),[o/r,i-Yc(r)*$c(t*t+n*n)]},o}function cd(){return Uf(sd).scale(131.154).center([0,13.9389])}Zf.invert=$f((function(t){return t})),Qf.invert=function(t,e){return[t,2*Bc(Vc(e))-Dc]},od.invert=od;var ld=1.340264,ud=-.081106,hd=893e-6,fd=.003796,dd=$c(3)/2;function pd(t,e){var n=Zc(dd*Gc(e)),r=n*n,i=r*r*r;return[t*Hc(n)/(dd*(ld+3*ud*r+i*(7*hd+9*fd*r))),n*(ld+ud*r+i*(hd+fd*r))]}function gd(){return zf(pd).scale(177.158)}function md(t,e){var n=Hc(e),r=Hc(t)*n;return[n*Gc(t)/r,Gc(e)/r]}function yd(){return zf(md).scale(144.049).clipAngle(60)}function bd(){var t,e,n,r,i,o,a,s=1,c=0,l=0,u=1,h=1,f=0,d=null,p=1,g=1,m=kf({point:function(t,e){var n=v([t,e]);this.stream.point(n[0],n[1])}}),y=Eh;function b(){return p=s*u,g=s*h,o=a=null,v}function v(n){var r=n[0]*p,i=n[1]*g;if(f){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+c,i+l]}return v.invert=function(n){var r=n[0]-c,i=n[1]-l;if(f){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/g]},v.stream=function(t){return o&&a===t?o:o=m(y(a=t))},v.postclip=function(t){return arguments.length?(y=t,d=n=r=i=null,b()):y},v.clipExtent=function(t){return arguments.length?(y=null==t?(d=n=r=i=null,Eh):Ku(d=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),b()):null==d?null:[[d,n],[r,i]]},v.scale=function(t){return arguments.length?(s=+t,b()):s},v.translate=function(t){return arguments.length?(c=+t[0],l=+t[1],b()):[c,l]},v.angle=function(n){return arguments.length?(e=Gc(f=n%360*jc),t=Hc(f),b()):f*Lc},v.reflectX=function(t){return arguments.length?(u=t?-1:1,b()):u<0},v.reflectY=function(t){return arguments.length?(h=t?-1:1,b()):h<0},v.fitExtent=function(t,e){return Af(v,t,e)},v.fitSize=function(t,e){return Nf(v,t,e)},v.fitWidth=function(t,e){return Df(v,t,e)},v.fitHeight=function(t,e){return Pf(v,t,e)},v}function vd(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function _d(){return zf(vd).scale(175.295)}function xd(t,e){return[Hc(e)*Gc(t),Gc(e)]}function wd(){return zf(xd).scale(249.5).clipAngle(90.000001)}function Ed(t,e){var n=Hc(e),r=1+Hc(t)*n;return[n*Gc(t)/r,Gc(e)/r]}function Sd(){return zf(Ed).scale(250).clipAngle(142)}function Md(t,e){return[Wc(Kc((Dc+e)/2)),-t]}function Td(){var t=ed(Md),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function Cd(t,e){return t.parent===e.parent?1:2}function kd(t,e){return t+e.x}function Od(t,e){return Math.max(t,e.y)}function Rd(){var t=Cd,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(kd,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Od,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),c=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),l=s.x-t(s,c)/2,u=c.x+t(c,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-l)/(u-l)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Ad(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Nd(t,e){var n,r,i,o,a,s=new Ld(t),c=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=Dd);n=l.pop();)if(c&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new Ld(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Id)}function Dd(t){return t.children}function Pd(t){t.data=t.data.data}function Id(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Ld(t){this.data=t,this.depth=this.height=0,this.parent=null}pd.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(ld+ud*i+o*(hd+fd*i))-e)/(ld+3*ud*i+o*(7*hd+9*fd*i)))*r)*i*i,!(Fc(n)<Ac));++a);return[dd*t*(ld+3*ud*i+o*(7*hd+9*fd*i))/Hc(r),Zc(Gc(r)/dd)]},md.invert=$f(Bc),vd.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Fc(n)>Rc&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},xd.invert=$f(Zc),Ed.invert=$f((function(t){return 2*Bc(t)})),Md.invert=function(t,e){return[-e,2*Bc(Vc(t))-Dc]},Ld.prototype=Nd.prototype={constructor:Ld,count:function(){return this.eachAfter(Ad)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Nd(this).eachBefore(Pd)}};var jd=Array.prototype.slice;function Fd(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(jd.call(t))).length,o=[];r<i;)e=t[r],n&&Hd(n,e)?++r:(n=Vd(o=Bd(o,e)),r=0);return n}function Bd(t,e){var n,r;if(Ud(e,t))return[e];for(n=0;n<t.length;++n)if(zd(e,t[n])&&Ud(Wd(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(zd(Wd(t[n],t[r]),e)&&zd(Wd(t[n],e),t[r])&&zd(Wd(t[r],e),t[n])&&Ud(qd(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function zd(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Hd(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Ud(t,e){for(var n=0;n<e.length;++n)if(!Hd(t,e[n]))return!1;return!0}function Vd(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Wd(t[0],t[1]);case 3:return qd(t[0],t[1],t[2])}}function Wd(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,c=o-n,l=a-r,u=s-i,h=Math.sqrt(c*c+l*l);return{x:(n+o+c/h*u)/2,y:(r+a+l/h*u)/2,r:(h+i+s)/2}}function qd(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,c=e.r,l=n.x,u=n.y,h=n.r,f=r-a,d=r-l,p=i-s,g=i-u,m=c-o,y=h-o,b=r*r+i*i-o*o,v=b-a*a-s*s+c*c,_=b-l*l-u*u+h*h,x=d*p-f*g,w=(p*_-g*v)/(2*x)-r,E=(g*m-p*y)/x,S=(d*v-f*_)/(2*x)-i,M=(f*y-d*m)/x,T=E*E+M*M-1,C=2*(o+w*E+S*M),k=w*w+S*S-o*o,O=-(T?(C+Math.sqrt(C*C-4*T*k))/(2*T):k/C);return{x:r+w+E*O,y:i+S+M*O,r:O}}function Gd(t,e,n){var r,i,o,a,s=t.x-e.x,c=t.y-e.y,l=s*s+c*c;l?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=t.x-r*s-o*c,n.y=t.y-r*c+o*s):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=e.x+r*s-o*c,n.y=e.y+r*c+o*s)):(n.x=e.x+n.r,n.y=e.y)}function Yd(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function $d(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Kd(t){this._=t,this.next=null,this.previous=null}function Xd(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,c,l,u,h;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Gd(n,e,r=t[2]),e=new Kd(e),n=new Kd(n),r=new Kd(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Gd(e._,n._,r=t[s]),r=new Kd(r),c=n.next,l=e.previous,u=n._.r,h=e._.r;do{if(u<=h){if(Yd(c._,r._)){n=c,e.next=n,n.previous=e,--s;continue t}u+=c._.r,c=c.next}else{if(Yd(l._,r._)){(e=l).next=n,n.previous=e,--s;continue t}h+=l._.r,l=l.previous}}while(c!==l.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=$d(e);(r=r.next)!==n;)(a=$d(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Fd(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function Zd(t){return Xd(t),t}function Jd(t){return null==t?null:Qd(t)}function Qd(t){if("function"!=typeof t)throw new Error;return t}function tp(){return 0}function ep(t){return function(){return t}}function np(t){return Math.sqrt(t.value)}function rp(){var t=null,e=1,n=1,r=tp;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(ip(t)).eachAfter(op(r,.5)).eachBefore(ap(1)):i.eachBefore(ip(np)).eachAfter(op(tp,1)).eachAfter(op(r,i.r/Math.min(e,n))).eachBefore(ap(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=Jd(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:ep(+t),i):r},i}function ip(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function op(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=Xd(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function ap(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function sp(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function cp(t,e,n,r,i){for(var o,a=t.children,s=-1,c=a.length,l=t.value&&(r-e)/t.value;++s<c;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l}function lp(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&cp(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(sp),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}var up={depth:-1},hp={};function fp(t){return t.id}function dp(t){return t.parentId}function pp(){var t=fp,e=dp;function n(n){var r,i,o,a,s,c,l,u=n.length,h=new Array(u),f={};for(i=0;i<u;++i)r=n[i],s=h[i]=new Ld(r),null!=(c=t(r,i,n))&&(c+="")&&(f[l="$"+(s.id=c)]=l in f?hp:s);for(i=0;i<u;++i)if(s=h[i],null!=(c=e(n[i],i,n))&&(c+="")){if(!(a=f["$"+c]))throw new Error("missing: "+c);if(a===hp)throw new Error("ambiguous: "+c);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=up,o.eachBefore((function(t){t.depth=t.parent.depth+1,--u})).eachBefore(Id),o.parent=null,u>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=Qd(e),n):t},n.parentId=function(t){return arguments.length?(e=Qd(t),n):e},n}function gp(t,e){return t.parent===e.parent?1:2}function mp(t){var e=t.children;return e?e[0]:t.t}function yp(t){var e=t.children;return e?e[e.length-1]:t.t}function bp(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function vp(t,e,n){return t.a.parent===e.parent?t.a:n}function _p(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function xp(){var t=gp,e=1,n=1,r=null;function i(i){var c=function(t){for(var e,n,r,i,o,a=new _p(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new _p(r[i],i)),n.parent=e;return(a.parent=new _p(null,0)).children=[a],a}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)i.eachBefore(s);else{var l=i,u=i,h=i;i.eachBefore((function(t){t.x<l.x&&(l=t),t.x>u.x&&(u=t),t.depth>h.depth&&(h=t)}));var f=l===u?1:t(l,u)/2,d=f-l.x,p=e/(u.x+f+d),g=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*g}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,c=o.parent.children[0],l=o.m,u=a.m,h=s.m,f=c.m;s=yp(s),o=mp(o),s&&o;)c=mp(c),(a=yp(a)).a=e,(i=s.z+h-o.z-l+t(s._,o._))>0&&(bp(vp(s,e,r),e,i),l+=i,u+=i),h+=s.m,l+=o.m,f+=c.m,u+=a.m;s&&!yp(a)&&(a.t=s,a.m+=h-u),o&&!mp(c)&&(c.t=o,c.m+=l-f,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function wp(t,e,n,r,i){for(var o,a=t.children,s=-1,c=a.length,l=t.value&&(i-n)/t.value;++s<c;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l}_p.prototype=Object.create(Ld.prototype);var Ep=(1+Math.sqrt(5))/2;function Sp(t,e,n,r,i,o){for(var a,s,c,l,u,h,f,d,p,g,m,y=[],b=e.children,v=0,_=0,x=b.length,w=e.value;v<x;){c=i-n,l=o-r;do{u=b[_++].value}while(!u&&_<x);for(h=f=u,m=u*u*(g=Math.max(l/c,c/l)/(w*t)),p=Math.max(f/m,m/h);_<x;++_){if(u+=s=b[_].value,s<h&&(h=s),s>f&&(f=s),m=u*u*g,(d=Math.max(f/m,m/h))>p){u-=s;break}p=d}y.push(a={value:u,dice:c<l,children:b.slice(v,_)}),a.dice?cp(a,n,r,i,w?r+=l*u/w:o):wp(a,n,r,w?n+=c*u/w:i,o),w-=u,v=_}return y}const Mp=function AS(t){function e(e,n,r,i,o){Sp(t,e,n,r,i,o)}return e.ratio=function(t){return AS((t=+t)>1?t:1)},e}(Ep);function Tp(){var t=Mp,e=!1,n=1,r=1,i=[0],o=tp,a=tp,s=tp,c=tp,l=tp;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(sp),t}function h(e){var n=i[e.depth],r=e.x0+n,u=e.y0+n,h=e.x1-n,f=e.y1-n;h<r&&(r=h=(r+h)/2),f<u&&(u=f=(u+f)/2),e.x0=r,e.y0=u,e.x1=h,e.y1=f,e.children&&(n=i[e.depth+1]=o(e)/2,r+=l(e)-n,u+=a(e)-n,(h-=s(e)-n)<r&&(r=h=(r+h)/2),(f-=c(e)-n)<u&&(u=f=(u+f)/2),t(e,r,u,h,f))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],r=+t[1],u):[n,r]},u.tile=function(e){return arguments.length?(t=Qd(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:ep(+t),u):o},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:ep(+t),u):a},u.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:ep(+t),u):s},u.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:ep(+t),u):c},u.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:ep(+t),u):l},u}function Cp(t,e,n,r,i){var o,a,s=t.children,c=s.length,l=new Array(c+1);for(l[0]=a=o=0;o<c;++o)l[o+1]=a+=s[o].value;!function u(t,e,n,r,i,o,a){if(t>=e-1){var c=s[t];return c.x0=r,c.y0=i,c.x1=o,void(c.y1=a)}var h=l[t],f=n/2+h,d=t+1,p=e-1;for(;d<p;){var g=d+p>>>1;l[g]<f?d=g+1:p=g}f-l[d-1]<l[d]-f&&t+1<d&&--d;var m=l[d]-h,y=n-m;if(o-r>a-i){var b=(r*y+o*m)/n;u(t,d,m,r,i,b,a),u(d,e,y,b,i,o,a)}else{var v=(i*y+a*m)/n;u(t,d,m,r,i,o,v),u(d,e,y,r,v,o,a)}}(0,c,t.value,e,n,r,i)}function kp(t,e,n,r,i){(1&t.depth?wp:cp)(t,e,n,r,i)}const Op=function NS(t){function e(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,c,l,u,h=-1,f=a.length,d=e.value;++h<f;){for(c=(s=a[h]).children,l=s.value=0,u=c.length;l<u;++l)s.value+=c[l].value;s.dice?cp(s,n,r,i,r+=(o-r)*s.value/d):wp(s,n,r,n+=(i-n)*s.value/d,o),d-=s.value}else e._squarify=a=Sp(t,e,n,r,i,o),a.ratio=t}return e.ratio=function(t){return NS((t=+t)>1?t:1)},e}(Ep);function Rp(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Ap(t,e){var n=dn(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}function Np(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Dp=Math.SQRT2;function Pp(t){return((t=Math.exp(t))+1/t)/2}function Ip(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],c=e[1],l=e[2],u=s-i,h=c-o,f=u*u+h*h;if(f<1e-12)r=Math.log(l/a)/Dp,n=function(t){return[i+t*u,o+t*h,a*Math.exp(Dp*t*r)]};else{var d=Math.sqrt(f),p=(l*l-a*a+4*f)/(2*a*2*d),g=(l*l-a*a-4*f)/(2*l*2*d),m=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);r=(y-m)/Dp,n=function(t){var e=t*r,n=Pp(m),s=a/(2*d)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Dp*e+m)-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+s*u,o+s*h,a*n/Pp(Dp*e+m)]}}return n.duration=1e3*r,n}function Lp(t){return function(e,n){var r=t((e=on(e)).h,(n=on(n)).h),i=gn(e.s,n.s),o=gn(e.l,n.l),a=gn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}const jp=Lp(dn);var Fp=Lp(gn);function Bp(t,e){var n=gn((t=To(t)).l,(e=To(e)).l),r=gn(t.a,e.a),i=gn(t.b,e.b),o=gn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function zp(t){return function(e,n){var r=t((e=Po(e)).h,(n=Po(n)).h),i=gn(e.c,n.c),o=gn(e.l,n.l),a=gn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}const Hp=zp(dn);var Up=zp(gn);function Vp(t){return function e(n){function r(e,r){var i=t((e=Go(e)).h,(r=Go(r)).h),o=gn(e.s,r.s),a=gn(e.l,r.l),s=gn(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}const Wp=Vp(dn);var qp=Vp(gn);function Gp(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function Yp(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function $p(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}function Kp(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],c=0;++r<i;)e=s,s=t[r],c+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(c*=3),a/c]}function Xp(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Zp(t,e){return t[0]-e[0]||t[1]-e[1]}function Jp(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&Xp(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Qp(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(Zp),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=Jp(r),a=Jp(i),s=a[0]===o[0],c=a[a.length-1]===o[o.length-1],l=[];for(e=o.length-1;e>=0;--e)l.push(t[r[o[e]][2]]);for(e=+s;e<a.length-c;++e)l.push(t[r[a[e]][2]]);return l}function tg(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],c=o[0],l=o[1],u=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>s!=l>s&&a<(c-n)*(s-r)/(l-r)+n&&(u=!u),c=n,l=r;return u}function eg(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],c=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],c+=Math.sqrt(e*e+n*n);return c}function ng(){return Math.random()}const rg=function DS(t){function e(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return e.source=DS,e}(ng),ig=function PS(t){function e(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*t()-1,o=2*t()-1,i=r*r+o*o}while(!i||i>1);return e+n*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=PS,e}(ng),og=function IS(t){function e(){var e=ig.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return e.source=IS,e}(ng),ag=function LS(t){function e(e){return function(){for(var n=0,r=0;r<e;++r)n+=t();return n}}return e.source=LS,e}(ng),sg=function jS(t){function e(e){var n=ag.source(t)(e);return function(){return n()/e}}return e.source=jS,e}(ng),cg=function FS(t){function e(e){return function(){return-Math.log(1-t())/e}}return e.source=FS,e}(ng);function lg(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function ug(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var hg=Array.prototype,fg=hg.map,dg=hg.slice,pg={name:"implicit"};function gg(){var t=ro(),e=[],n=[],r=pg;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==pg)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=ro();for(var r,o,a=-1,s=n.length;++a<s;)t.has(o=(r=n[a])+"")||t.set(o,e.push(r));return i},i.range=function(t){return arguments.length?(n=dg.call(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return gg(e,n).unknown(r)},lg.apply(i,arguments),i}function mg(){var t,e,n=gg().unknown(undefined),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,c=0,l=.5;function u(){var n=r().length,u=o[1]<o[0],h=o[u-0],f=o[1-u];t=(f-h)/Math.max(1,n-s+2*c),a&&(t=Math.floor(t)),h+=(f-h-t*(n-s))*l,e=t*(1-s),a&&(h=Math.round(h),e=Math.round(e));var d=E(n).map((function(e){return h+t*e}));return i(u?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),u()):r()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],u()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,u()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,u()):a},n.padding=function(t){return arguments.length?(s=Math.min(1,c=+t),u()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),u()):s},n.paddingOuter=function(t){return arguments.length?(c=+t,u()):c},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),u()):l},n.copy=function(){return mg(r(),o).round(a).paddingInner(s).paddingOuter(c).align(l)},lg.apply(u(),arguments)}function yg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yg(e())},t}function bg(){return yg(mg.apply(null,arguments).paddingInner(1))}function vg(t){return+t}var _g=[0,1];function xg(t){return t}function wg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Eg(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Sg(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=wg(i,r),o=n(a,o)):(r=wg(r,i),o=n(o,a)),function(t){return o(r(t))}}function Mg(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=wg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=l(t,e,1,r)-1;return o[n](i[n](e))}}function Tg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Cg(){var t,e,n,r,i,o,a=_g,s=_g,c=Rn,l=xg;function u(){return r=Math.min(a.length,s.length)>2?Mg:Sg,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,c)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=r(s,a.map(t),Mn)))(n)))},h.domain=function(t){return arguments.length?(a=fg.call(t,vg),l===xg||(l=Eg(a)),u()):a.slice()},h.range=function(t){return arguments.length?(s=dg.call(t),u()):s.slice()},h.rangeRound=function(t){return s=dg.call(t),c=Np,u()},h.clamp=function(t){return arguments.length?(l=t?Eg(a):xg,h):l!==xg},h.interpolate=function(t){return arguments.length?(c=t,u()):c},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function kg(t,e){return Cg()(t,e)}function Og(t,e,n,r){var i,o=O(t,e,n);switch((r=hc(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Sc(o,a))||(r.precision=i),bc(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Mc(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Ec(o))||(r.precision=i-2*("%"===r.type))}return yc(r)}function Rg(t){var e=t.domain;return t.ticks=function(t){var n=e();return C(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Og(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],c=i[a];return c<s&&(r=s,s=c,c=r,r=o,o=a,a=r),(r=k(s,c,n))>0?r=k(s=Math.floor(s/r)*r,c=Math.ceil(c/r)*r,n):r<0&&(r=k(s=Math.ceil(s*r)/r,c=Math.floor(c*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(c/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(c*r)/r,e(i)),t},t}function Ag(){var t=kg(xg,xg);return t.copy=function(){return Tg(t,Ag())},lg.apply(t,arguments),Rg(t)}function Ng(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=fg.call(e,vg),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Ng(t).unknown(e)},t=arguments.length?fg.call(t,vg):[0,1],Rg(n)}function Dg(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Pg(t){return Math.log(t)}function Ig(t){return Math.exp(t)}function Lg(t){return-Math.log(-t)}function jg(t){return-Math.exp(-t)}function Fg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Bg(t){return function(e){return-t(-e)}}function zg(t){var e,n,r=t(Pg,Ig),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?Fg:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=Bg(e),n=Bg(n),t(Lg,jg)):t(Pg,Ig),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),s=a[0],c=a[a.length-1];(r=c<s)&&(f=s,s=c,c=f);var l,u,h,f=e(s),d=e(c),p=null==t?10:+t,g=[];if(!(o%1)&&d-f<p){if(f=Math.round(f)-1,d=Math.round(d)+1,s>0){for(;f<d;++f)for(u=1,l=n(f);u<o;++u)if(!((h=l*u)<s)){if(h>c)break;g.push(h)}}else for(;f<d;++f)for(u=o-1,l=n(f);u>=1;--u)if(!((h=l*u)<s)){if(h>c)break;g.push(h)}}else g=C(f,d,Math.min(d-f,p)).map(n);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=yc(i)),t===Infinity)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(Dg(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function Hg(){var t=zg(Cg()).domain([1,10]);return t.copy=function(){return Tg(t,Hg()).base(t.base())},lg.apply(t,arguments),t}function Ug(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Vg(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Wg(t){var e=1,n=t(Ug(e),Vg(e));return n.constant=function(n){return arguments.length?t(Ug(e=+n),Vg(e)):e},Rg(n)}function qg(){var t=Wg(Cg());return t.copy=function(){return Tg(t,qg()).constant(t.constant())},lg.apply(t,arguments)}function Gg(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Yg(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $g(t){return t<0?-t*t:t*t}function Kg(t){var e=t(xg,xg),n=1;function r(){return 1===n?t(xg,xg):.5===n?t(Yg,$g):t(Gg(n),Gg(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Rg(e)}function Xg(){var t=Kg(Cg());return t.copy=function(){return Tg(t,Xg()).exponent(t.exponent())},lg.apply(t,arguments),t}function Zg(){return Xg.apply(null,arguments).exponent(.5)}function Jg(){var t,e=[],n=[],r=[];function o(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=N(e,t/i);return a}function a(e){return isNaN(e=+e)?t:n[l(r,e)]}return a.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,a=t.length;r<a;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(i),o()},a.range=function(t){return arguments.length?(n=dg.call(t),o()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return Jg().domain(e).range(n).unknown(t)},lg.apply(a,arguments)}function Qg(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return e<=e?o[l(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=dg.call(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Qg().domain([e,n]).range(o).unknown(t)},lg.apply(Rg(a),arguments)}function tm(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[l(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=dg.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=dg.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return tm().domain(e).range(n).unknown(t)},lg.apply(i,arguments)}var em=new Date,nm=new Date;function rm(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return rm((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return em.setTime(+e),nm.setTime(+r),t(em),t(nm),Math.floor(n(em,nm))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var im=rm((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));im.every=function(t){return isFinite(t=Math.floor(t))&&t>0?rm((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const om=im;var am=im.range,sm=rm((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));const cm=sm;var lm=sm.range,um=1e3,hm=6e4,fm=36e5,dm=864e5,pm=6048e5;function gm(t){return rm((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hm)/pm}))}var mm=gm(0),ym=gm(1),bm=gm(2),vm=gm(3),_m=gm(4),xm=gm(5),wm=gm(6),Em=mm.range,Sm=ym.range,Mm=bm.range,Tm=vm.range,Cm=_m.range,km=xm.range,Om=wm.range,Rm=rm((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hm)/dm}),(function(t){return t.getDate()-1}));const Am=Rm;var Nm=Rm.range,Dm=rm((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*um-t.getMinutes()*hm)}),(function(t,e){t.setTime(+t+e*fm)}),(function(t,e){return(e-t)/fm}),(function(t){return t.getHours()}));const Pm=Dm;var Im=Dm.range,Lm=rm((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*um)}),(function(t,e){t.setTime(+t+e*hm)}),(function(t,e){return(e-t)/hm}),(function(t){return t.getMinutes()}));const jm=Lm;var Fm=Lm.range,Bm=rm((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*um)}),(function(t,e){return(e-t)/um}),(function(t){return t.getUTCSeconds()}));const zm=Bm;var Hm=Bm.range,Um=rm((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Um.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?rm((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Um:null};const Vm=Um;var Wm=Um.range;function qm(t){return rm((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/pm}))}var Gm=qm(0),Ym=qm(1),$m=qm(2),Km=qm(3),Xm=qm(4),Zm=qm(5),Jm=qm(6),Qm=Gm.range,ty=Ym.range,ey=$m.range,ny=Km.range,ry=Xm.range,iy=Zm.range,oy=Jm.range,ay=rm((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/dm}),(function(t){return t.getUTCDate()-1}));const sy=ay;var cy=ay.range,ly=rm((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));ly.every=function(t){return isFinite(t=Math.floor(t))&&t>0?rm((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const uy=ly;var hy=ly.range;function fy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function py(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function gy(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,c=t.shortMonths,l=Cy(i),u=ky(i),h=Cy(o),f=ky(o),d=Cy(a),p=ky(a),g=Cy(s),m=ky(s),y=Cy(c),b=ky(c),v={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Ky,e:Ky,f:tb,g:hb,G:db,H:Xy,I:Zy,j:Jy,L:Qy,m:eb,M:nb,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Lb,s:jb,S:rb,u:ib,U:ob,V:sb,w:cb,W:lb,x:null,X:null,y:ub,Y:fb,Z:pb,"%":Ib},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:gb,e:gb,f:_b,g:Ab,G:Db,H:mb,I:yb,j:bb,L:vb,m:xb,M:wb,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Lb,s:jb,S:Eb,u:Sb,U:Mb,V:Cb,w:kb,W:Ob,x:null,X:null,y:Rb,Y:Nb,Z:Pb,"%":Ib},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=b[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return S(t,e,n,r)},d:By,e:By,f:qy,g:Iy,G:Py,H:Hy,I:Hy,j:zy,L:Wy,m:Fy,M:Uy,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:jy,Q:Yy,s:$y,S:Vy,u:Ry,U:Ay,V:Ny,w:Oy,W:Dy,x:function(t,e,r){return S(t,n,e,r)},X:function(t,e,n){return S(t,r,e,n)},y:Iy,Y:Py,Z:Ly,"%":Gy};function w(t,e){return function(n){var r,i,o,a=[],s=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(c,s)),null!=(i=xy[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(t.slice(c,s)),a.join("")}}function E(t,e){return function(n){var r,i,o=py(1900,undefined,1);if(S(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),o.m===undefined&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=dy(py(o.y,0,1))).getUTCDay(),r=i>4||0===i?Ym.ceil(r):Ym(r),r=sy.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=fy(py(o.y,0,1))).getDay(),r=i>4||0===i?ym.ceil(r):ym(r),r=Am.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?dy(py(o.y,0,1)).getUTCDay():fy(py(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,dy(o)):fy(o)}}function S(t,e,n,r){for(var i,o,a=0,s=e.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in xy?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=w(n,v),v.X=w(r,v),v.c=w(e,v),_.x=w(n,_),_.X=w(r,_),_.c=w(e,_),{format:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t+="",!0);return e.toString=function(){return t},e}}}var my,yy,by,vy,_y,xy={"-":"",_:" ",0:"0"},wy=/^\s*\d+/,Ey=/^%/,Sy=/[\\^$*+?|[\]().{}]/g;function My(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ty(t){return t.replace(Sy,"\\$&")}function Cy(t){return new RegExp("^(?:"+t.map(Ty).join("|")+")","i")}function ky(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Oy(t,e,n){var r=wy.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ry(t,e,n){var r=wy.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ay(t,e,n){var r=wy.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ny(t,e,n){var r=wy.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Dy(t,e,n){var r=wy.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Py(t,e,n){var r=wy.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Iy(t,e,n){var r=wy.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ly(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function jy(t,e,n){var r=wy.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Fy(t,e,n){var r=wy.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function By(t,e,n){var r=wy.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function zy(t,e,n){var r=wy.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Hy(t,e,n){var r=wy.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Uy(t,e,n){var r=wy.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Vy(t,e,n){var r=wy.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Wy(t,e,n){var r=wy.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function qy(t,e,n){var r=wy.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Gy(t,e,n){var r=Ey.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Yy(t,e,n){var r=wy.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $y(t,e,n){var r=wy.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ky(t,e){return My(t.getDate(),e,2)}function Xy(t,e){return My(t.getHours(),e,2)}function Zy(t,e){return My(t.getHours()%12||12,e,2)}function Jy(t,e){return My(1+Am.count(om(t),t),e,3)}function Qy(t,e){return My(t.getMilliseconds(),e,3)}function tb(t,e){return Qy(t,e)+"000"}function eb(t,e){return My(t.getMonth()+1,e,2)}function nb(t,e){return My(t.getMinutes(),e,2)}function rb(t,e){return My(t.getSeconds(),e,2)}function ib(t){var e=t.getDay();return 0===e?7:e}function ob(t,e){return My(mm.count(om(t)-1,t),e,2)}function ab(t){var e=t.getDay();return e>=4||0===e?_m(t):_m.ceil(t)}function sb(t,e){return t=ab(t),My(_m.count(om(t),t)+(4===om(t).getDay()),e,2)}function cb(t){return t.getDay()}function lb(t,e){return My(ym.count(om(t)-1,t),e,2)}function ub(t,e){return My(t.getFullYear()%100,e,2)}function hb(t,e){return My((t=ab(t)).getFullYear()%100,e,2)}function fb(t,e){return My(t.getFullYear()%1e4,e,4)}function db(t,e){var n=t.getDay();return My((t=n>=4||0===n?_m(t):_m.ceil(t)).getFullYear()%1e4,e,4)}function pb(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+My(e/60|0,"0",2)+My(e%60,"0",2)}function gb(t,e){return My(t.getUTCDate(),e,2)}function mb(t,e){return My(t.getUTCHours(),e,2)}function yb(t,e){return My(t.getUTCHours()%12||12,e,2)}function bb(t,e){return My(1+sy.count(uy(t),t),e,3)}function vb(t,e){return My(t.getUTCMilliseconds(),e,3)}function _b(t,e){return vb(t,e)+"000"}function xb(t,e){return My(t.getUTCMonth()+1,e,2)}function wb(t,e){return My(t.getUTCMinutes(),e,2)}function Eb(t,e){return My(t.getUTCSeconds(),e,2)}function Sb(t){var e=t.getUTCDay();return 0===e?7:e}function Mb(t,e){return My(Gm.count(uy(t)-1,t),e,2)}function Tb(t){var e=t.getUTCDay();return e>=4||0===e?Xm(t):Xm.ceil(t)}function Cb(t,e){return t=Tb(t),My(Xm.count(uy(t),t)+(4===uy(t).getUTCDay()),e,2)}function kb(t){return t.getUTCDay()}function Ob(t,e){return My(Ym.count(uy(t)-1,t),e,2)}function Rb(t,e){return My(t.getUTCFullYear()%100,e,2)}function Ab(t,e){return My((t=Tb(t)).getUTCFullYear()%100,e,2)}function Nb(t,e){return My(t.getUTCFullYear()%1e4,e,4)}function Db(t,e){var n=t.getUTCDay();return My((t=n>=4||0===n?Xm(t):Xm.ceil(t)).getUTCFullYear()%1e4,e,4)}function Pb(){return"+0000"}function Ib(){return"%"}function Lb(t){return+t}function jb(t){return Math.floor(+t/1e3)}function Fb(t){return my=gy(t),yy=my.format,by=my.parse,vy=my.utcFormat,_y=my.utcParse,my}Fb({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Bb=1e3,zb=6e4,Hb=36e5,Ub=864e5,Vb=2592e6,Wb=31536e6;function qb(t){return new Date(t)}function Gb(t){return t instanceof Date?+t:+new Date(+t)}function Yb(t,e,n,r,i,a,s,c,l){var u=kg(xg,xg),h=u.invert,f=u.domain,d=l(".%L"),p=l(":%S"),g=l("%I:%M"),m=l("%I %p"),y=l("%a %d"),b=l("%b %d"),v=l("%B"),_=l("%Y"),x=[[s,1,Bb],[s,5,5e3],[s,15,15e3],[s,30,3e4],[a,1,zb],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,Hb],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Ub],[r,2,1728e5],[n,1,6048e5],[e,1,Vb],[e,3,7776e6],[t,1,Wb]];function w(o){return(s(o)<o?d:a(o)<o?p:i(o)<o?g:r(o)<o?m:e(o)<o?n(o)<o?y:b:t(o)<o?v:_)(o)}function E(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(r-n)/e,s=o((function(t){return t[2]})).right(x,a);s===x.length?(i=O(n/Wb,r/Wb,e),e=t):s?(i=(s=x[a/x[s-1][2]<x[s][2]/a?s-1:s])[1],e=s[0]):(i=Math.max(O(n,r,e),1),e=c)}return null==i?e:e.every(i)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?f(fg.call(t,Gb)):f().map(qb)},u.ticks=function(t,e){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=E(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},u.tickFormat=function(t,e){return null==e?w:l(e)},u.nice=function(t,e){var n=f();return(t=E(t,n[0],n[n.length-1],e))?f(Dg(n,t)):u},u.copy=function(){return Tg(u,Yb(t,e,n,r,i,a,s,c,l))},u}function $b(){return lg.apply(Yb(om,cm,mm,Am,Pm,jm,zm,Vm,yy).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Kb=rm((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const Xb=Kb;var Zb=Kb.range,Jb=rm((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*fm)}),(function(t,e){return(e-t)/fm}),(function(t){return t.getUTCHours()}));const Qb=Jb;var tv=Jb.range,ev=rm((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*hm)}),(function(t,e){return(e-t)/hm}),(function(t){return t.getUTCMinutes()}));const nv=ev;var rv=ev.range;function iv(){return lg.apply(Yb(uy,Xb,Gm,sy,Qb,nv,zm,Vm,vy).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ov(){var t,e,n,r,i,o=0,a=1,s=xg,c=!1;function l(e){return isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,c?Math.max(0,Math.min(1,e)):e))}return l.domain=function(i){return arguments.length?(t=r(o=+i[0]),e=r(a=+i[1]),n=t===e?0:1/(e-t),l):[o,a]},l.clamp=function(t){return arguments.length?(c=!!t,l):c},l.interpolator=function(t){return arguments.length?(s=t,l):s},l.unknown=function(t){return arguments.length?(i=t,l):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),l}}function av(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sv(){var t=Rg(ov()(xg));return t.copy=function(){return av(t,sv())},ug.apply(t,arguments)}function cv(){var t=zg(ov()).domain([1,10]);return t.copy=function(){return av(t,cv()).base(t.base())},ug.apply(t,arguments)}function lv(){var t=Wg(ov());return t.copy=function(){return av(t,lv()).constant(t.constant())},ug.apply(t,arguments)}function uv(){var t=Kg(ov());return t.copy=function(){return av(t,uv()).exponent(t.exponent())},ug.apply(t,arguments)}function hv(){return uv.apply(null,arguments).exponent(.5)}function fv(){var t=[],e=xg;function n(n){if(!isNaN(n=+n))return e((l(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var r,o=0,a=e.length;o<a;++o)null==(r=e[o])||isNaN(r=+r)||t.push(r);return t.sort(i),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return fv(e).domain(t)},ug.apply(n,arguments)}function dv(){var t,e,n,r,i,o,a,s=0,c=.5,l=1,u=xg,h=!1;function f(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(t<e?r:i),u(h?Math.max(0,Math.min(1,t)):t))}return f.domain=function(a){return arguments.length?(t=o(s=+a[0]),e=o(c=+a[1]),n=o(l=+a[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),f):[s,c,l]},f.clamp=function(t){return arguments.length?(h=!!t,f):h},f.interpolator=function(t){return arguments.length?(u=t,f):u},f.unknown=function(t){return arguments.length?(a=t,f):a},function(a){return o=a,t=a(s),e=a(c),n=a(l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),f}}function pv(){var t=Rg(dv()(xg));return t.copy=function(){return av(t,pv())},ug.apply(t,arguments)}function gv(){var t=zg(dv()).domain([.1,1,10]);return t.copy=function(){return av(t,gv()).base(t.base())},ug.apply(t,arguments)}function mv(){var t=Wg(dv());return t.copy=function(){return av(t,mv()).constant(t.constant())},ug.apply(t,arguments)}function yv(){var t=Kg(dv());return t.copy=function(){return av(t,yv()).exponent(t.exponent())},ug.apply(t,arguments)}function bv(){return yv.apply(null,arguments).exponent(.5)}function vv(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}const _v=vv("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),xv=vv("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),wv=vv("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Ev=vv("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Sv=vv("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Mv=vv("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Tv=vv("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Cv=vv("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),kv=vv("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Ov=vv("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Rv(t){return bn(t[t.length-1])}var Av=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(vv);const Nv=Rv(Av);var Dv=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(vv);const Pv=Rv(Dv);var Iv=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(vv);const Lv=Rv(Iv);var jv=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(vv);const Fv=Rv(jv);var Bv=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(vv);const zv=Rv(Bv);var Hv=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(vv);const Uv=Rv(Hv);var Vv=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(vv);const Wv=Rv(Vv);var qv=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(vv);const Gv=Rv(qv);var Yv=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(vv);const $v=Rv(Yv);var Kv=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(vv);const Xv=Rv(Kv);var Zv=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(vv);const Jv=Rv(Zv);var Qv=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(vv);const t_=Rv(Qv);var e_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(vv);const n_=Rv(e_);var r_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(vv);const i_=Rv(r_);var o_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(vv);const a_=Rv(o_);var s_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(vv);const c_=Rv(s_);var l_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(vv);const u_=Rv(l_);var h_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(vv);const f_=Rv(h_);var d_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(vv);const p_=Rv(d_);var g_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(vv);const m_=Rv(g_);var y_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(vv);const b_=Rv(y_);var v_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(vv);const __=Rv(v_);var x_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(vv);const w_=Rv(x_);var E_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(vv);const S_=Rv(E_);var M_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(vv);const T_=Rv(M_);var C_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(vv);const k_=Rv(C_);var O_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(vv);const R_=Rv(O_);function A_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const N_=qp(Go(300,.5,0),Go(-240,.5,1));var D_=qp(Go(-100,.75,.35),Go(80,1.5,.8)),P_=qp(Go(260,.75,.35),Go(80,1.5,.8)),I_=Go();function L_(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return I_.h=360*t-100,I_.s=1.5-1.5*e,I_.l=.8-.9*e,I_+""}var j_=Ze(),F_=Math.PI/3,B_=2*Math.PI/3;function z_(t){var e;return t=(.5-t)*Math.PI,j_.r=255*(e=Math.sin(t))*e,j_.g=255*(e=Math.sin(t+F_))*e,j_.b=255*(e=Math.sin(t+B_))*e,j_+""}function H_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function U_(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const V_=U_(vv("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var W_=U_(vv("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),q_=U_(vv("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),G_=U_(vv("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Y_(t){return Se(ie(t).call(document.documentElement))}var $_=0;function K_(){return new X_}function X_(){this._="@"+(++$_).toString(36)}function Z_(t){return"string"==typeof t?new xe([document.querySelectorAll(t)],[document.documentElement]):new xe([null==t?[]:t],_e)}function J_(t,e){null==e&&(e=An().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Nn(t,e[n]);return i}function Q_(t){return function(){return t}}X_.prototype=K_.prototype={constructor:X_,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var tx=Math.abs,ex=Math.atan2,nx=Math.cos,rx=Math.max,ix=Math.min,ox=Math.sin,ax=Math.sqrt,sx=1e-12,cx=Math.PI,lx=cx/2,ux=2*cx;function hx(t){return t>1?0:t<-1?cx:Math.acos(t)}function fx(t){return t>=1?lx:t<=-1?-lx:Math.asin(t)}function dx(t){return t.innerRadius}function px(t){return t.outerRadius}function gx(t){return t.startAngle}function mx(t){return t.endAngle}function yx(t){return t&&t.padAngle}function bx(t,e,n,r,i,o,a,s){var c=n-t,l=r-e,u=a-i,h=s-o,f=h*c-u*l;if(!(f*f<sx))return[t+(f=(u*(e-o)-h*(t-i))/f)*c,e+f*l]}function vx(t,e,n,r,i,o,a){var s=t-n,c=e-r,l=(a?o:-o)/ax(s*s+c*c),u=l*c,h=-l*s,f=t+u,d=e+h,p=n+u,g=r+h,m=(f+p)/2,y=(d+g)/2,b=p-f,v=g-d,_=b*b+v*v,x=i-o,w=f*g-p*d,E=(v<0?-1:1)*ax(rx(0,x*x*_-w*w)),S=(w*v-b*E)/_,M=(-w*b-v*E)/_,T=(w*v+b*E)/_,C=(-w*b+v*E)/_,k=S-m,O=M-y,R=T-m,A=C-y;return k*k+O*O>R*R+A*A&&(S=T,M=C),{cx:S,cy:M,x01:-u,y01:-h,x11:S*(i/x-1),y11:M*(i/x-1)}}function _x(){var t=dx,e=px,n=Q_(0),r=null,i=gx,o=mx,a=yx,s=null;function c(){var c,l,u=+t.apply(this,arguments),h=+e.apply(this,arguments),f=i.apply(this,arguments)-lx,d=o.apply(this,arguments)-lx,p=tx(d-f),g=d>f;if(s||(s=c=Yi()),h<u&&(l=h,h=u,u=l),h>sx)if(p>ux-sx)s.moveTo(h*nx(f),h*ox(f)),s.arc(0,0,h,f,d,!g),u>sx&&(s.moveTo(u*nx(d),u*ox(d)),s.arc(0,0,u,d,f,g));else{var m,y,b=f,v=d,_=f,x=d,w=p,E=p,S=a.apply(this,arguments)/2,M=S>sx&&(r?+r.apply(this,arguments):ax(u*u+h*h)),T=ix(tx(h-u)/2,+n.apply(this,arguments)),C=T,k=T;if(M>sx){var O=fx(M/u*ox(S)),R=fx(M/h*ox(S));(w-=2*O)>sx?(_+=O*=g?1:-1,x-=O):(w=0,_=x=(f+d)/2),(E-=2*R)>sx?(b+=R*=g?1:-1,v-=R):(E=0,b=v=(f+d)/2)}var A=h*nx(b),N=h*ox(b),D=u*nx(x),P=u*ox(x);if(T>sx){var I,L=h*nx(v),j=h*ox(v),F=u*nx(_),B=u*ox(_);if(p<cx&&(I=bx(A,N,F,B,L,j,D,P))){var z=A-I[0],H=N-I[1],U=L-I[0],V=j-I[1],W=1/ox(hx((z*U+H*V)/(ax(z*z+H*H)*ax(U*U+V*V)))/2),q=ax(I[0]*I[0]+I[1]*I[1]);C=ix(T,(u-q)/(W-1)),k=ix(T,(h-q)/(W+1))}}E>sx?k>sx?(m=vx(F,B,A,N,h,k,g),y=vx(L,j,D,P,h,k,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),k<T?s.arc(m.cx,m.cy,k,ex(m.y01,m.x01),ex(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,k,ex(m.y01,m.x01),ex(m.y11,m.x11),!g),s.arc(0,0,h,ex(m.cy+m.y11,m.cx+m.x11),ex(y.cy+y.y11,y.cx+y.x11),!g),s.arc(y.cx,y.cy,k,ex(y.y11,y.x11),ex(y.y01,y.x01),!g))):(s.moveTo(A,N),s.arc(0,0,h,b,v,!g)):s.moveTo(A,N),u>sx&&w>sx?C>sx?(m=vx(D,P,L,j,u,-C,g),y=vx(A,N,F,B,u,-C,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),C<T?s.arc(m.cx,m.cy,C,ex(m.y01,m.x01),ex(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,C,ex(m.y01,m.x01),ex(m.y11,m.x11),!g),s.arc(0,0,u,ex(m.cy+m.y11,m.cx+m.x11),ex(y.cy+y.y11,y.cx+y.x11),g),s.arc(y.cx,y.cy,C,ex(y.y11,y.x11),ex(y.y01,y.x01),!g))):s.arc(0,0,u,x,_,g):s.lineTo(D,P)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-cx/2;return[nx(r)*n,ox(r)*n]},c.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Q_(+e),c):t},c.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Q_(+t),c):e},c.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Q_(+t),c):n},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Q_(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Q_(+t),c):i},c.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Q_(+t),c):o},c.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Q_(+t),c):a},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c}function xx(t){this._context=t}function wx(t){return new xx(t)}function Ex(t){return t[0]}function Sx(t){return t[1]}function Mx(){var t=Ex,e=Sx,n=Q_(!0),r=null,i=wx,o=null;function a(a){var s,c,l,u=a.length,h=!1;for(null==r&&(o=i(l=Yi())),s=0;s<=u;++s)!(s<u&&n(c=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,s,a),+e(c,s,a));if(l)return o=null,l+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:Q_(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Q_(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Q_(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function Tx(){var t=Ex,e=null,n=Q_(0),r=Sx,i=Q_(!0),o=null,a=wx,s=null;function c(c){var l,u,h,f,d,p=c.length,g=!1,m=new Array(p),y=new Array(p);for(null==o&&(s=a(d=Yi())),l=0;l<=p;++l){if(!(l<p&&i(f=c[l],l,c))===g)if(g=!g)u=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=u;--h)s.point(m[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(m[l]=+t(f,l,c),y[l]=+n(f,l,c),s.point(e?+e(f,l,c):m[l],r?+r(f,l,c):y[l]))}if(d)return s=null,d+""||null}function l(){return Mx().defined(i).curve(a).context(o)}return c.x=function(n){return arguments.length?(t="function"==typeof n?n:Q_(+n),e=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:Q_(+e),c):t},c.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Q_(+t),c):e},c.y=function(t){return arguments.length?(n="function"==typeof t?t:Q_(+t),r=null,c):n},c.y0=function(t){return arguments.length?(n="function"==typeof t?t:Q_(+t),c):n},c.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Q_(+t),c):r},c.lineX0=c.lineY0=function(){return l().x(t).y(n)},c.lineY1=function(){return l().x(t).y(r)},c.lineX1=function(){return l().x(e).y(n)},c.defined=function(t){return arguments.length?(i="function"==typeof t?t:Q_(!!t),c):i},c.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),c):o},c}function Cx(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function kx(t){return t}function Ox(){var t=kx,e=Cx,n=null,r=Q_(0),i=Q_(ux),o=Q_(0);function a(a){var s,c,l,u,h,f=a.length,d=0,p=new Array(f),g=new Array(f),m=+r.apply(this,arguments),y=Math.min(ux,Math.max(-ux,i.apply(this,arguments)-m)),b=Math.min(Math.abs(y)/f,o.apply(this,arguments)),v=b*(y<0?-1:1);for(s=0;s<f;++s)(h=g[p[s]=s]=+t(a[s],s,a))>0&&(d+=h);for(null!=e?p.sort((function(t,n){return e(g[t],g[n])})):null!=n&&p.sort((function(t,e){return n(a[t],a[e])})),s=0,l=d?(y-f*v)/d:0;s<f;++s,m=u)c=p[s],u=m+((h=g[c])>0?h*l:0)+v,g[c]={data:a[c],index:s,value:h,startAngle:m,endAngle:u,padAngle:b};return g}return a.value=function(e){return arguments.length?(t="function"==typeof e?e:Q_(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Q_(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Q_(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Q_(+t),a):o},a}xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Rx=Nx(wx);function Ax(t){this._curve=t}function Nx(t){function e(e){return new Ax(t(e))}return e._curve=t,e}function Dx(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Nx(t)):e()._curve},t}function Px(){return Dx(Mx().curve(Rx))}function Ix(){var t=Tx().curve(Rx),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Dx(n())},delete t.lineX0,t.lineEndAngle=function(){return Dx(r())},delete t.lineX1,t.lineInnerRadius=function(){return Dx(i())},delete t.lineY0,t.lineOuterRadius=function(){return Dx(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Nx(t)):e()._curve},t}function Lx(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Ax.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var jx=Array.prototype.slice;function Fx(t){return t.source}function Bx(t){return t.target}function zx(t){var e=Fx,n=Bx,r=Ex,i=Sx,o=null;function a(){var a,s=jx.call(arguments),c=e.apply(this,s),l=n.apply(this,s);if(o||(o=a=Yi()),t(o,+r.apply(this,(s[0]=c,s)),+i.apply(this,s),+r.apply(this,(s[0]=l,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Q_(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Q_(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function Hx(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Ux(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Vx(t,e,n,r,i){var o=Lx(e,n),a=Lx(e,n=(n+i)/2),s=Lx(r,n),c=Lx(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],c[0],c[1])}function Wx(){return zx(Hx)}function qx(){return zx(Ux)}function Gx(){var t=zx(Vx);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const Yx={draw:function(t,e){var n=Math.sqrt(e/cx);t.moveTo(n,0),t.arc(0,0,n,0,ux)}},$x={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var Kx=Math.sqrt(1/3),Xx=2*Kx;const Zx={draw:function(t,e){var n=Math.sqrt(e/Xx),r=n*Kx;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var Jx=Math.sin(cx/10)/Math.sin(7*cx/10),Qx=Math.sin(ux/10)*Jx,tw=-Math.cos(ux/10)*Jx;const ew={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Qx*n,i=tw*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=ux*o/5,s=Math.cos(a),c=Math.sin(a);t.lineTo(c*n,-s*n),t.lineTo(s*r-c*i,c*r+s*i)}t.closePath()}},nw={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var rw=Math.sqrt(3);const iw={draw:function(t,e){var n=-Math.sqrt(e/(3*rw));t.moveTo(0,2*n),t.lineTo(-rw*n,-n),t.lineTo(rw*n,-n),t.closePath()}};var ow=-.5,aw=Math.sqrt(3)/2,sw=1/Math.sqrt(12),cw=3*(sw/2+1);const lw={draw:function(t,e){var n=Math.sqrt(e/cw),r=n/2,i=n*sw,o=r,a=n*sw+n,s=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,c),t.lineTo(ow*r-aw*i,aw*r+ow*i),t.lineTo(ow*o-aw*a,aw*o+ow*a),t.lineTo(ow*s-aw*c,aw*s+ow*c),t.lineTo(ow*r+aw*i,ow*i-aw*r),t.lineTo(ow*o+aw*a,ow*a-aw*o),t.lineTo(ow*s+aw*c,ow*c-aw*s),t.closePath()}};var uw=[Yx,$x,Zx,nw,ew,iw,lw];function hw(){var t=Q_(Yx),e=Q_(64),n=null;function r(){var r;if(n||(n=r=Yi()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:Q_(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:Q_(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}function fw(){}function dw(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function pw(t){this._context=t}function gw(t){return new pw(t)}function mw(t){this._context=t}function yw(t){return new mw(t)}function bw(t){this._context=t}function vw(t){return new bw(t)}function _w(t,e){this._basis=new pw(t),this._beta=e}pw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dw(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},mw.prototype={areaStart:fw,areaEnd:fw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dw(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},bw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dw(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},_w.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*a),this._beta*e[c]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const xw=function BS(t){function e(e){return 1===t?new pw(e):new _w(e,t)}return e.beta=function(t){return BS(+t)},e}(.85);function ww(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Ew(t,e){this._context=t,this._k=(1-e)/6}Ew.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ww(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ww(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Sw=function zS(t){function e(e){return new Ew(e,t)}return e.tension=function(t){return zS(+t)},e}(0);function Mw(t,e){this._context=t,this._k=(1-e)/6}Mw.prototype={areaStart:fw,areaEnd:fw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ww(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Tw=function HS(t){function e(e){return new Mw(e,t)}return e.tension=function(t){return HS(+t)},e}(0);function Cw(t,e){this._context=t,this._k=(1-e)/6}Cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ww(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const kw=function US(t){function e(e){return new Cw(e,t)}return e.tension=function(t){return US(+t)},e}(0);function Ow(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>sx){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>sx){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Rw(t,e){this._context=t,this._alpha=e}Rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ow(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Aw=function VS(t){function e(e){return t?new Rw(e,t):new Ew(e,0)}return e.alpha=function(t){return VS(+t)},e}(.5);function Nw(t,e){this._context=t,this._alpha=e}Nw.prototype={areaStart:fw,areaEnd:fw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ow(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Dw=function WS(t){function e(e){return t?new Nw(e,t):new Mw(e,0)}return e.alpha=function(t){return WS(+t)},e}(.5);function Pw(t,e){this._context=t,this._alpha=e}Pw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ow(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Iw=function qS(t){function e(e){return t?new Pw(e,t):new Cw(e,0)}return e.alpha=function(t){return qS(+t)},e}(.5);function Lw(t){this._context=t}function jw(t){return new Lw(t)}function Fw(t){return t<0?-1:1}function Bw(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Fw(o)+Fw(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function zw(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Hw(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Uw(t){this._context=t}function Vw(t){this._context=new Ww(t)}function Ww(t){this._context=t}function qw(t){return new Uw(t)}function Gw(t){return new Vw(t)}function Yw(t){this._context=t}function $w(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Kw(t){return new Yw(t)}function Xw(t,e){this._context=t,this._t=e}function Zw(t){return new Xw(t,.5)}function Jw(t){return new Xw(t,0)}function Qw(t){return new Xw(t,1)}function tE(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function eE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function nE(t,e){return t[e]}function rE(){var t=Q_([]),e=eE,n=tE,r=nE;function i(i){var o,a,s=t.apply(this,arguments),c=i.length,l=s.length,u=new Array(l);for(o=0;o<l;++o){for(var h,f=s[o],d=u[o]=new Array(c),p=0;p<c;++p)d[p]=h=[0,+r(i[p],f,p,i)],h.data=i[p];d.key=f}for(o=0,a=e(u);o<l;++o)u[a[o]].index=o;return n(u,a),u}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:Q_(jx.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Q_(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?eE:"function"==typeof t?t:Q_(jx.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?tE:t,i):n},i}function iE(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}tE(t,e)}}function oE(t,e){if((s=t.length)>0)for(var n,r,i,o,a,s,c=0,l=t[e[0]].length;c<l;++c)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][c])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function aE(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}tE(t,e)}}function sE(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,c=0,l=0;s<i;++s){for(var u=t[e[s]],h=u[a][1]||0,f=(h-(u[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];f+=(p[a][1]||0)-(p[a-1][1]||0)}c+=h,l+=f*h}n[a-1][1]+=n[a-1][0]=o,c&&(o-=l/c)}n[a-1][1]+=n[a-1][0]=o,tE(t,e)}}function cE(t){var e=t.map(lE);return eE(t).sort((function(t,n){return e[t]-e[n]}))}function lE(t){for(var e,n=-1,r=0,i=t.length,o=-Infinity;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function uE(t){var e=t.map(hE);return eE(t).sort((function(t,n){return e[t]-e[n]}))}function hE(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function fE(t){return uE(t).reverse()}function dE(t){var e,n,r=t.length,i=t.map(hE),o=cE(t),a=0,s=0,c=[],l=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],c.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(c)}function pE(t){return eE(t).reverse()}Lw.prototype={areaStart:fw,areaEnd:fw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hw(this,this._t0,zw(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hw(this,zw(this,n=Bw(this,t,e)),n);break;default:Hw(this,this._t0,n=Bw(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Vw.prototype=Object.create(Uw.prototype)).point=function(t,e){Uw.prototype.point.call(this,e,t)},Ww.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Yw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=$w(t),i=$w(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Xw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var gE="%Y-%m-%dT%H:%M:%S.%LZ";var mE=Date.prototype.toISOString?function(t){return t.toISOString()}:vy(gE);const yE=mE;var bE=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:_y(gE);const vE=bE;function _E(t,e,n){var r=new Yn,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?qn():+n,r.restart((function o(a){a+=i,r.restart(o,i+=e,n),t(a)}),e,n),r)}function xE(t){return function(){return t}}function wE(t){return t[0]}function EE(t){return t[1]}function SE(){this._=null}function ME(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function TE(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function CE(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function kE(t){for(;t.L;)t=t.L;return t}SE.prototype={constructor:SE,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=kE(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(TE(this,n),n=(t=n).U),n.C=!1,r.C=!0,CE(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(CE(this,n),n=(t=n).U),n.C=!1,r.C=!0,TE(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?kE(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,TE(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,CE(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,TE(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,CE(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,TE(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,CE(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};const OE=SE;function RE(t,e,n,r){var i=[null,null],o=tS.push(i)-1;return i.left=t,i.right=e,n&&NE(i,t,e,n),r&&NE(i,e,t,r),JE[t.index].halfedges.push(o),JE[e.index].halfedges.push(o),i}function AE(t,e,n){var r=[e,n];return r.left=t,r}function NE(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function DE(t,e,n,r,i){var o,a=t[0],s=t[1],c=a[0],l=a[1],u=0,h=1,f=s[0]-c,d=s[1]-l;if(o=e-c,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>u&&(u=o)}if(o=r-c,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<h&&(h=o)}if(o=n-l,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>u&&(u=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<h&&(h=o)}return!(u>0||h<1)||(u>0&&(t[0]=[c+u*f,l+u*d]),h<1&&(t[1]=[c+h*f,l+h*d]),!0)}}}}}function PE(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,c=t[0],l=t.left,u=t.right,h=l[0],f=l[1],d=u[0],p=u[1],g=(h+d)/2,m=(f+p)/2;if(p===f){if(g<e||g>=r)return;if(h>d){if(c){if(c[1]>=i)return}else c=[g,n];o=[g,i]}else{if(c){if(c[1]<n)return}else c=[g,i];o=[g,n]}}else if(s=m-(a=(h-d)/(p-f))*g,a<-1||a>1)if(h>d){if(c){if(c[1]>=i)return}else c=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(c){if(c[1]<n)return}else c=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<p){if(c){if(c[0]>=r)return}else c=[e,a*e+s];o=[r,a*r+s]}else{if(c){if(c[0]<e)return}else c=[r,a*r+s];o=[e,a*e+s]}return t[0]=c,t[1]=o,!0}function IE(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function LE(t,e){return e[+(e.left!==t.site)]}function jE(t,e){return e[+(e.left===t.site)]}var FE,BE=[];function zE(){ME(this),this.x=this.y=this.arc=this.site=this.cy=null}function HE(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],c=r[0]-a,l=r[1]-s,u=o[0]-a,h=o[1]-s,f=2*(c*h-l*u);if(!(f>=-nS)){var d=c*c+l*l,p=u*u+h*h,g=(h*d-l*p)/f,m=(c*p-u*d)/f,y=BE.pop()||new zE;y.arc=t,y.site=i,y.x=g+a,y.y=(y.cy=m+s)+Math.sqrt(g*g+m*m),t.circle=y;for(var b=null,v=QE._;v;)if(y.y<v.y||y.y===v.y&&y.x<=v.x){if(!v.L){b=v.P;break}v=v.L}else{if(!v.R){b=v;break}v=v.R}QE.insert(b,y),b||(FE=y)}}}}function UE(t){var e=t.circle;e&&(e.P||(FE=e.N),QE.remove(e),BE.push(e),ME(e),t.circle=null)}var VE=[];function WE(){ME(this),this.edge=this.site=this.circle=null}function qE(t){var e=VE.pop()||new WE;return e.site=t,e}function GE(t){UE(t),ZE.remove(t),VE.push(t),ME(t)}function YE(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];GE(t);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<eS&&Math.abs(r-c.circle.cy)<eS;)o=c.P,s.unshift(c),GE(c),c=o;s.unshift(c),UE(c);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<eS&&Math.abs(r-l.circle.cy)<eS;)a=l.N,s.push(l),GE(l),l=a;s.push(l),UE(l);var u,h=s.length;for(u=1;u<h;++u)l=s[u],c=s[u-1],NE(l.edge,c.site,l.site,i);c=s[0],(l=s[h-1]).edge=RE(c.site,l.site,null,i),HE(c),HE(l)}function $E(t){for(var e,n,r,i,o=t[0],a=t[1],s=ZE._;s;)if((r=KE(s,a)-o)>eS)s=s.L;else{if(!((i=o-XE(s,a))>eS)){r>-eS?(e=s.P,n=s):i>-eS?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){JE[t.index]={site:t,halfedges:[]}}(t);var c=qE(t);if(ZE.insert(e,c),e||n){if(e===n)return UE(e),n=qE(e.site),ZE.insert(c,n),c.edge=n.edge=RE(e.site,c.site),HE(e),void HE(n);if(n){UE(e),UE(n);var l=e.site,u=l[0],h=l[1],f=t[0]-u,d=t[1]-h,p=n.site,g=p[0]-u,m=p[1]-h,y=2*(f*m-d*g),b=f*f+d*d,v=g*g+m*m,_=[(m*b-d*v)/y+u,(f*v-g*b)/y+h];NE(n.edge,l,p,_),c.edge=RE(l,t,null,_),n.edge=RE(t,p,null,_),HE(e),HE(n)}else c.edge=RE(e.site,c.site)}}function KE(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-Infinity;var s=(n=a.site)[0],c=n[1],l=c-e;if(!l)return s;var u=s-r,h=1/o-1/l,f=u/l;return h?(-f+Math.sqrt(f*f-2*h*(u*u/(-2*l)-c+l/2+i-o/2)))/h+r:(r+s)/2}function XE(t,e){var n=t.N;if(n)return KE(n,e);var r=t.site;return r[1]===e?r[0]:Infinity}var ZE,JE,QE,tS,eS=1e-6,nS=1e-12;function rS(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function iS(t,e){return e[1]-t[1]||e[0]-t[0]}function oS(t,e){var n,r,i,o=t.sort(iS).pop();for(tS=[],JE=new Array(t.length),ZE=new OE,QE=new OE;;)if(i=FE,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||($E(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;YE(i.arc)}if(function(){for(var t,e,n,r,i=0,o=JE.length;i<o;++i)if((t=JE[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=IE(t,tS[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],c=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=tS.length;o--;)PE(i=tS[o],t,e,n,r)&&DE(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>eS||Math.abs(i[0][1]-i[1][1])>eS)||delete tS[o]}(a,s,c,l),function(t,e,n,r){var i,o,a,s,c,l,u,h,f,d,p,g,m=JE.length,y=!0;for(i=0;i<m;++i)if(o=JE[i]){for(a=o.site,s=(c=o.halfedges).length;s--;)tS[c[s]]||c.splice(s,1);for(s=0,l=c.length;s<l;)p=(d=jE(o,tS[c[s]]))[0],g=d[1],h=(u=LE(o,tS[c[++s%l]]))[0],f=u[1],(Math.abs(p-h)>eS||Math.abs(g-f)>eS)&&(c.splice(s,0,tS.push(AE(a,d,Math.abs(p-t)<eS&&r-g>eS?[t,Math.abs(h-t)<eS?f:r]:Math.abs(g-r)<eS&&n-p>eS?[Math.abs(f-r)<eS?h:n,r]:Math.abs(p-n)<eS&&g-e>eS?[n,Math.abs(h-n)<eS?f:e]:Math.abs(g-e)<eS&&p-t>eS?[Math.abs(f-e)<eS?h:t,e]:null))-1),++l);l&&(y=!1)}if(y){var b,v,_,x=Infinity;for(i=0,y=null;i<m;++i)(o=JE[i])&&(_=(b=(a=o.site)[0]-t)*b+(v=a[1]-e)*v)<x&&(x=_,y=o);if(y){var w=[t,e],E=[t,r],S=[n,r],M=[n,e];y.halfedges.push(tS.push(AE(a=y.site,w,E))-1,tS.push(AE(a,E,S))-1,tS.push(AE(a,S,M))-1,tS.push(AE(a,M,w))-1)}}for(i=0;i<m;++i)(o=JE[i])&&(o.halfedges.length||delete JE[i])}(a,s,c,l)}this.edges=tS,this.cells=JE,ZE=QE=tS=JE=null}function aS(){var t=wE,e=EE,n=null;function r(r){return new oS(r.map((function(n,i){var o=[Math.round(t(n,i,r)/eS)*eS,Math.round(e(n,i,r)/eS)*eS];return o.index=i,o.data=n,o})),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:xE(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:xE(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}function sS(t){return function(){return t}}function cS(t,e,n){this.target=t,this.type=e,this.transform=n}function lS(t,e,n){this.k=t,this.x=e,this.y=n}oS.prototype={constructor:oS,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return LE(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,c=-1,l=e[i[o-1]],u=l.left===s?l.right:l.left;++c<o;)a=u,u=(l=e[i[c]]).left===s?l.right:l.left,a&&u&&r<a.index&&r<u.index&&rS(s,a,u)<0&&t.push([s.data,a.data,u.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var c=t-i.site[0],l=e-i.site[1],u=c*c+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var c=t-s[0],l=e-s[1],h=c*c+l*l;h<u&&(u=h,a=s.index)}}))}while(null!==a);return o._found=r,null==n||u<=n*n?i.site:null}},lS.prototype={constructor:lS,scale:function(t){return 1===t?this:new lS(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new lS(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var uS=new lS(1,0,0);function hS(t){for(;!t.__zoom;)if(!(t=t.parentNode))return uS;return t.__zoom}function fS(){ue.stopImmediatePropagation()}function dS(){ue.preventDefault(),ue.stopImmediatePropagation()}function pS(){return!ue.ctrlKey&&!ue.button}function gS(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function mS(){return this.__zoom||uS}function yS(){return-ue.deltaY*(1===ue.deltaMode?.05:ue.deltaMode?1:.002)}function bS(){return navigator.maxTouchPoints||"ontouchstart"in this}function vS(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function _S(){var t,e,n=pS,r=gS,i=vS,o=yS,a=bS,s=[0,Infinity],c=[[-Infinity,-Infinity],[Infinity,Infinity]],l=250,u=Ip,h=ft("start","zoom","end"),f=500,d=0;function p(t){t.property("__zoom",mS).on("wheel.zoom",x).on("mousedown.zoom",w).on("dblclick.zoom",E).filter(a).on("touchstart.zoom",S).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new lS(e,t.x,t.y)}function m(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new lS(t.k,r,i)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,e,n){t.on("start.zoom",(function(){v(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){v(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=v(t,i),a=r.apply(t,i),s=null==n?y(a):"function"==typeof n?n.apply(t,i):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,h="function"==typeof e?e.apply(t,i):e,f=u(l.invert(s).concat(c/l.k),h.invert(s).concat(c/h.k));return function(t){if(1===t)t=h;else{var e=f(t),n=c/e[2];t=new lS(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}}))}function v(t,e,n){return!n&&t.__zooming||new _(t,e)}function _(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function x(){if(n.apply(this,arguments)){var t=v(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=Pn(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],ar(this),t.start()}dS(),t.wheel=setTimeout(l,150),t.zoom("mouse",i(m(g(e,r),t.mouse[0],t.mouse[1]),t.extent,c))}function l(){t.wheel=null,t.end()}}function w(){if(!e&&n.apply(this,arguments)){var t=v(this,arguments,!0),r=Se(ue.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",u,!0),o=Pn(this),a=ue.clientX,s=ue.clientY;Ce(ue.view),fS(),t.mouse=[o,this.__zoom.invert(o)],ar(this),t.start()}function l(){if(dS(),!t.moved){var e=ue.clientX-a,n=ue.clientY-s;t.moved=e*e+n*n>d}t.zoom("mouse",i(m(t.that.__zoom,t.mouse[0]=Pn(t.that),t.mouse[1]),t.extent,c))}function u(){r.on("mousemove.zoom mouseup.zoom",null),ke(ue.view,t.moved),dS(),t.end()}}function E(){if(n.apply(this,arguments)){var t=this.__zoom,e=Pn(this),o=t.invert(e),a=t.k*(ue.shiftKey?.5:2),s=i(m(g(t,a),e,o),r.apply(this,arguments),c);dS(),l>0?Se(this).transition().duration(l).call(b,s,e):Se(this).call(p.transform,s)}}function S(){if(n.apply(this,arguments)){var e,r,i,o,a=ue.touches,s=a.length,c=v(this,arguments,ue.changedTouches.length===s);for(fS(),r=0;r<s;++r)o=[o=Dn(this,a,(i=a[r]).identifier),this.__zoom.invert(o),i.identifier],c.touch0?c.touch1||c.touch0[2]===o[2]||(c.touch1=o,c.taps=0):(c.touch0=o,e=!0,c.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(c.taps<2&&(t=setTimeout((function(){t=null}),f)),ar(this),c.start())}}function M(){if(this.__zooming){var e,n,r,o,a=v(this,arguments),s=ue.changedTouches,l=s.length;for(dS(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<l;++e)r=Dn(this,s,(n=s[e]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var u=a.touch0[0],h=a.touch0[1],f=a.touch1[0],d=a.touch1[1],p=(p=f[0]-u[0])*p+(p=f[1]-u[1])*p,y=(y=d[0]-h[0])*y+(y=d[1]-h[1])*y;n=g(n,Math.sqrt(p/y)),r=[(u[0]+f[0])/2,(u[1]+f[1])/2],o=[(h[0]+d[0])/2,(h[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(m(n,r,o),a.extent,c))}}function T(){if(this.__zooming){var t,n,r=v(this,arguments),i=ue.changedTouches,o=i.length;for(fS(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),f),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=Se(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return p.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",mS),t!==r?b(t,e,n):r.interrupt().each((function(){v(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},p.scaleBy=function(t,e,n){p.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n)},p.scaleTo=function(t,e,n){p.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==n?y(t):"function"==typeof n?n.apply(this,arguments):n,s=o.invert(a),l="function"==typeof e?e.apply(this,arguments):e;return i(m(g(o,l),a,s),t,c)}),n)},p.translateBy=function(t,e,n){p.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}))},p.translateTo=function(t,e,n,o){p.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,s=null==o?y(t):"function"==typeof o?o.apply(this,arguments):o;return i(uS.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),o)},_.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){me(new cS(p,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},p.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:sS(+t),p):o},p.filter=function(t){return arguments.length?(n="function"==typeof t?t:sS(!!t),p):n},p.touchable=function(t){return arguments.length?(a="function"==typeof t?t:sS(!!t),p):a},p.extent=function(t){return arguments.length?(r="function"==typeof t?t:sS([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):r},p.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],p):[s[0],s[1]]},p.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],p):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},p.constrain=function(t){return arguments.length?(i=t,p):i},p.duration=function(t){return arguments.length?(l=+t,p):l},p.interpolate=function(t){return arguments.length?(u=t,p):u},p.on=function(){var t=h.on.apply(h,arguments);return t===h?p:t},p.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,p):Math.sqrt(d)},p}hS.prototype=lS.prototype},63:t=>{"use strict";t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},145:(t,e)=>{"use strict";function n(t){return"object"!=typeof t||"toString"in t?t:Object.prototype.toString.call(t).slice(8,-1)}Object.defineProperty(e,"__esModule",{value:!0});var r="object"==typeof process&&!0;function i(t,e){if(!t){if(r)throw new Error("Invariant failed");throw new Error(e())}}e.invariant=i;var o=Object.prototype.hasOwnProperty,a=Array.prototype.splice,s=Object.prototype.toString;function c(t){return s.call(t).slice(8,-1)}var l=Object.assign||function(t,e){return u(e).forEach((function(n){o.call(e,n)&&(t[n]=e[n])})),t},u="function"==typeof Object.getOwnPropertySymbols?function(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.keys(t)};function h(t){return Array.isArray(t)?l(t.constructor(t.length),t):"Map"===c(t)?new Map(t):"Set"===c(t)?new Set(t):t&&"object"==typeof t?l(Object.create(Object.getPrototypeOf(t)),t):t}var f=function(){function t(){this.commands=l({},d),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(t,e){return t===e},this.update.newContext=function(){return(new t).update}}return Object.defineProperty(t.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(t){this.update.isEquals=t},enumerable:!0,configurable:!0}),t.prototype.extend=function(t,e){this.commands[t]=e},t.prototype.update=function(t,e){var n=this,r="function"==typeof e?{$apply:e}:e;Array.isArray(t)&&Array.isArray(r)||i(!Array.isArray(r),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),i("object"==typeof r&&null!==r,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."}));var a=t;return u(r).forEach((function(e){if(o.call(n.commands,e)){var i=t===a;a=n.commands[e](r[e],a,r,t),i&&n.isEquals(a,t)&&(a=t)}else{var s="Map"===c(t)?n.update(t.get(e),r[e]):n.update(t[e],r[e]),l="Map"===c(a)?a.get(e):a[e];n.isEquals(s,l)&&(void 0!==s||o.call(t,e))||(a===t&&(a=h(t)),"Map"===c(a)?a.set(e,s):a[e]=s)}})),a},t}();e.Context=f;var d={$push:function(t,e,n){return g(e,n,"$push"),t.length?e.concat(t):e},$unshift:function(t,e,n){return g(e,n,"$unshift"),t.length?t.concat(e):e},$splice:function(t,e,r,o){return function(t,e){i(Array.isArray(t),(function(){return"Expected $splice target to be an array; got "+n(t)})),y(e.$splice)}(e,r),t.forEach((function(t){y(t),e===o&&t.length&&(e=h(o)),a.apply(e,t)})),e},$set:function(t,e,n){return function(t){i(1===Object.keys(t).length,(function(){return"Cannot have more than one key in an object with $set"}))}(n),t},$toggle:function(t,e){m(t,"$toggle");var n=t.length?h(e):e;return t.forEach((function(t){n[t]=!e[t]})),n},$unset:function(t,e,n,r){return m(t,"$unset"),t.forEach((function(t){Object.hasOwnProperty.call(e,t)&&(e===r&&(e=h(r)),delete e[t])})),e},$add:function(t,e,n,r){return b(e,"$add"),m(t,"$add"),"Map"===c(e)?t.forEach((function(t){var n=t[0],i=t[1];e===r&&e.get(n)!==i&&(e=h(r)),e.set(n,i)})):t.forEach((function(t){e!==r||e.has(t)||(e=h(r)),e.add(t)})),e},$remove:function(t,e,n,r){return b(e,"$remove"),m(t,"$remove"),t.forEach((function(t){e===r&&e.has(t)&&(e=h(r)),e["delete"](t)})),e},$merge:function(t,e,r,o){var a,s;return a=e,i((s=t)&&"object"==typeof s,(function(){return"update(): $merge expects a spec of type 'object'; got "+n(s)})),i(a&&"object"==typeof a,(function(){return"update(): $merge expects a target of type 'object'; got "+n(a)})),u(t).forEach((function(n){t[n]!==e[n]&&(e===o&&(e=h(o)),e[n]=t[n])})),e},$apply:function(t,e){var r;return i("function"==typeof(r=t),(function(){return"update(): expected spec of $apply to be a function; got "+n(r)+"."})),t(e)}},p=new f;function g(t,e,r){i(Array.isArray(t),(function(){return"update(): expected target of "+n(r)+" to be an array; got "+n(t)+"."})),m(e[r],r)}function m(t,e){i(Array.isArray(t),(function(){return"update(): expected spec of "+n(e)+" to be an array; got "+n(t)+". Did you forget to wrap your parameter in an array?"}))}function y(t){i(Array.isArray(t),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+n(t)+". Did you forget to wrap your parameters in an array?"}))}function b(t,e){var r=c(t);i("Map"===r||"Set"===r,(function(){return"update(): "+n(e)+" expects a target of type Set or Map; got "+n(r)}))}e.isEquals=p.update.isEquals,e.extend=p.extend,e["default"]=p.update,e["default"]["default"]=t.exports=l(e["default"],e)},418:t=>{"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null===t||t===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,o){for(var a,s,c=i(t),l=1;l<arguments.length;l++){for(var u in a=Object(arguments[l]))n.call(a,u)&&(c[u]=a[u]);if(e){s=e(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(c[s[h]]=a[s[h]])}}return c}},703:(t,e,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:(t,e,n)=>{t.exports=n(703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r,i=(r=n(611))&&r.__esModule?r:{"default":r},o=n(363);var a=function(t){var e,n,r=(0,o.useRef)(null);return e=t,n=r.current,i["default"].isEqual(e,n)&&(r.current=t),r.current},s=function(t,e){(0,o.useEffect)(t,[a(e),t])};e["default"]=s},95:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=c();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n["default"]=t,e&&e.set(t,n);return n}(n(363)),i=n(693),o=s(n(697)),a=s(n(5));function s(t){return t&&t.__esModule?t:{"default":t}}function c(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return c=function(){return t},t}var l=-Math.PI/2,u=Math.PI/2,h=["marginInPercent","arcPadding","percent","nrOfLevels","animDelay"],f=function(t){var e=(0,r.useRef)({}),n=(0,r.useRef)({}),o=(0,r.useRef)({}),s=(0,r.useRef)({}),c=(0,r.useRef)({}),f=(0,r.useRef)({}),d=(0,r.useRef)({}),m=(0,r.useRef)({}),y=(0,r.useRef)({}),b=(0,r.useRef)(0),v=(0,r.useRef)([]),_=(0,r.useRef)((0,i.arc)()),x=(0,r.useRef)([]),w=(0,r.useRef)((0,i.pie)()),E=(0,r.useRef)(t),S=(0,r.useRef)({}),M=(0,r.useCallback)((function(r){var i=arguments.length>1&&arguments[1]!==undefined&&arguments[1],a=arguments.length>2?arguments[2]:undefined;r||(y.current.select("svg").remove(),e.current=y.current.append("svg"),n.current=e.current.append("g"),c.current=n.current.append("g").attr("class","doughnut"),w.current.value((function(t){return t.value})).startAngle(l).endAngle(u).sort(null),f.current=n.current.append("g").attr("class","needle")),g(i,a,o,m,s,d,n,c,_,f,w,e,t,y,x)}),[t]);(0,r.useLayoutEffect)((function(){p(t,b,v,x),y.current=(0,i.select)(S),M()}),[t,M]),(0,a["default"])((function(){(t.nrOfLevels||E.current.arcsLength.every((function(e){return t.arcsLength.includes(e)}))||E.current.colors.every((function(e){return t.colors.includes(e)})))&&p(t,b,v,x);var e=!h.some((function(e){return E.current[e]!==t[e]}));M(!0,e,E.current),E.current=t}),[t.nrOfLevels,t.arcsLength,t.colors,t.percent,t.needleColor,t.needleBaseColor]),(0,r.useEffect)((function(){var r=function(){g(!0,E,o,m,s,d,n,c,_,f,w,e,t,y,x)};return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[t]);var T=t.id,C=t.style,k=t.className;return r["default"].createElement("div",{id:T,className:k,style:C,ref:function(t){return S=t}})},d=f;e["default"]=d,f.defaultProps={style:{width:"100%"},marginInPercent:.05,cornerRadius:6,nrOfLevels:3,percent:.4,arcPadding:.05,arcWidth:.2,colors:["#00FF00","#FF0000"],textColor:"#fff",needleColor:"#464A4F",needleBaseColor:"#464A4F",hideText:!1,animate:!0,animDelay:500,formatTextValue:null,fontSize:null,animateDuration:3e3},f.propTypes={id:o["default"].string,className:o["default"].string,style:o["default"].object,marginInPercent:o["default"].number,cornerRadius:o["default"].number,nrOfLevels:o["default"].number,percent:o["default"].number,arcPadding:o["default"].number,arcWidth:o["default"].number,arcsLength:o["default"].array,colors:o["default"].array,textColor:o["default"].string,needleColor:o["default"].string,needleBaseColor:o["default"].string,hideText:o["default"].bool,animate:o["default"].bool,formatTextValue:o["default"].func,fontSize:o["default"].string,animateDuration:o["default"].number,animDelay:o["default"].number};var p=function(t,e,n,r){e.current=t.arcsLength?t.arcsLength.length:t.nrOfLevels,e.current===t.colors.length?n.current=t.colors:n.current=m(t,e),r.current=[];for(var i=0;i<e.current;i++){var o={value:t.arcsLength&&t.arcsLength.length>i?t.arcsLength[i]:1,color:n.current[i]};r.current.push(o)}},g=function(t,e,n,r,i,o,a,s,c,l,u,h,f,d,p){S(f,d,r,n,i),h.current.attr("width",n.current+r.current.left+r.current.right).attr("height",i.current+r.current.top+r.current.bottom),a.current.attr("transform","translate("+r.current.left+", "+r.current.top+")"),w(n,i,o,r,a),s.current.attr("transform","translate("+o.current+", "+o.current+")"),c.current.outerRadius(o.current).innerRadius(o.current*(1-f.arcWidth)).cornerRadius(f.cornerRadius).padAngle(f.arcPadding),s.current.selectAll(".arc").remove(),l.current.selectAll("*").remove(),a.current.selectAll(".text-group").remove(),s.current.selectAll(".arc").data(u.current(p.current)).enter().append("g").attr("class","arc").append("path").attr("d",c.current).style("fill",(function(t){return t.data.color})),y(t,e,f,n,l,d,o,a),l.current.attr("transform","translate("+o.current+", "+o.current+")")},m=function(t,e){for(var n=t.colors,r=(0,i.scaleLinear)().domain([1,e.current]).range([n[0],n[n.length-1]]).interpolate(i.interpolateHsl),o=[],a=1;a<=e.current;a++)o.push(r(a));return o},y=function(t,e,n,r,o,a,s,c){var l=n.percent,u=n.needleColor,h=n.needleBaseColor,f=n.hideText,d=n.animate,p=r.current/500*15,g=[0,-p/2],m=e?e.percent:0,y=b(m||l,s,r);o.current.append("path").attr("d",y).attr("fill",u),o.current.append("circle").attr("cx",g[0]).attr("cy",g[1]).attr("r",p).attr("fill",h),f||_(l,n,s,r,c),!t&&d?o.current.transition().delay(n.animDelay).ease(i.easeElastic).duration(n.animateDuration).tween("progress",(function(){var t=(0,i.interpolateNumber)(m,l);return function(e){var n=t(e);return a.current.select(".needle path").attr("d",b(n,s,r))}})):a.current.select(".needle path").attr("d",b(l,s,r))},b=function(t,e,n){var r=.55*e.current,i=n.current/500*15,o=v(t),a=[0,-i/2],s=[a[0]-r*Math.cos(o),a[1]-r*Math.sin(o)],c=[a[0]-i*Math.cos(o-Math.PI/2),a[1]-i*Math.sin(o-Math.PI/2)],l=[a[0]-i*Math.cos(o+Math.PI/2),a[1]-i*Math.sin(o+Math.PI/2)];return"M ".concat(c[0]," ").concat(c[1]," L ").concat(s[0]," ").concat(s[1]," L ").concat(l[0]," ").concat(l[1])},v=function(t){return t*Math.PI},_=function(t,e,n,r,i){var o=e.formatTextValue,a=e.fontSize,s=o?o(x(t)):x(t)+"%";i.current.append("g").attr("class","text-group").attr("transform","translate(".concat(n.current,", ").concat(n.current/2+20,")")).append("text").text(s).style("font-size",(function(){return a||"".concat(r.current/11/(s.length>10?s.length/10:1),"px")})).style("fill",e.textColor).style("text-anchor","middle")},x=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;return Math.round(100*t*Math.pow(10,e))/Math.pow(10,e)},w=function(t,e,n,r,i){t.current<2*e.current?n.current=(t.current-r.current.left-r.current.right)/2:n.current=e.current-r.current.top-r.current.bottom,E(t,i,n,r)},E=function(t,e,n,r){r.current.left=t.current/2-n.current+r.current.right,e.current.attr("transform","translate("+r.current.left+", "+r.current.top+")")},S=function(t,e,n,r,i){var o=t.marginInPercent,a=e.current.node().getBoundingClientRect(),s=a.width,c=a.height;n.current.left=s*o,n.current.right=s*o,r.current=s-n.current.left-n.current.right,n.current.top=c*o,n.current.bottom=c*o,i.current=r.current/2-n.current.top-n.current.bottom}},394:(t,e,n)=>{"use strict";var r;e.Z=void 0;var i=((r=n(95))&&r.__esModule?r:{"default":r})["default"];e.Z=i},251:(t,e,n)=>{"use strict";
/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
n(418);var r=n(363),i=60103;if(60107,"function"==typeof Symbol&&Symbol["for"]){var o=Symbol["for"];i=o("react.element"),o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(u=e.ref),e)s.call(e,r)&&!c.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:l,ref:u,props:o,_owner:a.current}}e.jsx=l},521:(t,e,n)=>{"use strict";t.exports=n(251)},939:t=>{var e=/[a-zA-Z0-9_\u0392-\u03c9\u00c0-\u00ff\u0600-\u06ff]+|[\u4e00-\u9fff\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g;t.exports=function(t){var n=t.match(e),r=0;if(!n)return 0;for(var i=0;i<n.length;i++)n[i].charCodeAt(0)>=19968?r+=n[i].length:r+=1;return r}},363:t=>{"use strict";t.exports=React},611:t=>{"use strict";t.exports=_}},e={};function n(r){var i=e[r];if(i!==undefined)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};n.r(t),n.d(t,{ColorByStatScore:()=>Gt,ContentAnalysis:()=>w,WPEditorTopButtons:()=>qt,WebSourceAnalysis:()=>D});var e={};n.r(e),n.d(e,{Decoder:()=>mh,Encoder:()=>gh,PacketType:()=>ph,protocol:()=>dh});var r={};n.r(r),n.d(r,{FILE:()=>Vp,HTML:()=>Gp,TEXT:()=>qp,URL:()=>Wp});var i=n(939),o=n.n(i);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}(t,e,"get");return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,n)}var g=new WeakMap,m=new WeakMap,y=new WeakMap,b=new WeakMap,v=new WeakMap,_=new WeakMap,x=new WeakMap,w=h((function Cy(t,e){var n,r,i=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Cy),d(this,"feedbacks",{problems:[],results:[],improvements:[]}),d(this,"allStats",{wordStats:{},headingStats:{},paragraphStats:{},imageStats:{},keywordStats:{},mainKeywordStats:{},linkStats:{}}),d(this,"totalContentStats",{target:0,completion:0,result:{count:0,percent:0}}),f(this,g,{writable:!0,value:function(){var t,e,n,r,a,s,c,l=null===(t=i.analyzedKeywordStats)||void 0===t?void 0:t.HtmlTagUsage,u=l.wordUsage,h=l.headingUsage,f=l.paragraphUsage,d=l.imageUsage,g=(null===(e=i.generatedContent.match(/<img [^>]*src="[^"]*"[^>]*>/gi))||void 0===e?void 0:e.length)&&(null===(n=i.generatedContent.match(/<img [^>]*src="[^"]*"[^>]*>/gi))||void 0===n?void 0:n.length),y=null===(r=i.generatedContent.match(/<p>/gm))||void 0===r?void 0:r.length,b=null===(a=i.generatedContent.match(/<\/a>/gm))||void 0===a?void 0:a.length,v=(null===(s=i.generatedContent.match(/<(h2|h3)>/gm))||void 0===s?void 0:s.length)!==undefined&&(null===(c=i.generatedContent.match(/<(h2|h3)>/gm))||void 0===c?void 0:c.length),_=o()(i.generatedContent.replace(/<[^>]*>/gim,"")),x=[0,0];i.allStats.wordStats={analyzedRecommendation:u||x,count:_||0,title:"Words"},i.allStats.headingStats={analyzedRecommendation:h||x,count:v||0,title:"Headings"},i.allStats.paragraphStats={analyzedRecommendation:f||x,count:y||0,title:"Paragraphs"},i.allStats.imageStats={analyzedRecommendation:d||x,count:g||0,title:"Images"},i.allStats.linkStats={count:b||0,title:"Link"},p(i,m).call(i)}}),f(this,m,{writable:!0,value:function(){var t=["linkStats","keywordStats","mainKeywordStats"];Object.keys(i.allStats).forEach((function(e){if(-1===t.indexOf(e)){var n=i.allStats[e];i.allStats[e]=l(l({},i.allStats[e]),{},{quality:p(i,_).call(i,n.analyzedRecommendation,n.count),formatAvgMax:function(t){return p(i,x).call(i,n.analyzedRecommendation,t)},targetCompletion:p(i,v).call(i,n.analyzedRecommendation,n.count,e)})}i[e+"Callback"]&&i[e+"Callback"](i.allStats[e])}))}}),d(this,"wordStatsCallback",(function(t){var e=t.analyzedRecommendation,n=t.count,r=e[0],o=e[1];if(n<r){var a="You need to increase the content length by minimum ".concat(r-n," words");p(i,y).call(i,a,"problems")}else if(n>=r&&n<=o){p(i,y).call(i,"Your content length is good enough to get ranked","results")}else if(n>o){p(i,y).call(i,"You need to reduce your content a little bit.","improvements")}})),d(this,"headingStatsCallback",(function(t){var e=t.analyzedRecommendation,n=t.count,r=e[0],o=e[1];if(n<r){var a="You need to add at least ".concat(r-n," title/heading (from H1 to H6) in the content");p(i,y).call(i,a,"problems")}if(n>=r&&n<=o){p(i,y).call(i,"Number of headings matches recommendation to get good results","results")}})),d(this,"paragraphStatsCallback",(function(t){var e=t.analyzedRecommendation,n=t.count,r=e[0],o=e[1];if(n<r){var a="You need to have at least ".concat(r-n," paragraph in the content");p(i,y).call(i,a,"problems")}if(n>=r&&n<=o){p(i,y).call(i,"Number of paragraphs matches recommendation to get good results","results")}})),d(this,"imageStatsCallback",(function(t){var e=t.analyzedRecommendation,n=t.count,r=e[0],o=e[1];if(n<r){var a="You need to have at least ".concat(r-n," images in the content");p(i,y).call(i,a,"problems")}if(n>=r&&n<=o){p(i,y).call(i,"Number of images matches recommendation to get good results","results")}})),d(this,"linkStatsCallback",(function(t){var e=t.count;if(e<3){p(i,y).call(i,"You should have more than 3 Internal links or External links in 1 post","improvements")}if(e>=3){p(i,y).call(i,"You have at least 3 Internal links or External link in your post","results")}})),d(this,"mainKeywordStatsCallback",(function(){var t,e,n,r,o,a,s,c,l,u=(new DOMParser).parseFromString(i.generatedContent,"text/html"),h=i.analyzedKeywordStats.keywords.find((function(t){return t.keyword===i.mainKeyword}))||{},f=jQuery(u).find("h2, h3").text(),d=jQuery(u).find("p").text(),p=0,g=new RegExp(i.mainKeyword,"gmi"),m={};m.keyword=i.mainKeyword,m.headingKeyword=i.mainKeyword,m.contentKeyword=i.mainKeyword,l=null!==(t=f.match(g))&&void 0!==t&&t.length?null===(e=f.match(g))||void 0===e?void 0:e.length:0,c=null!==(n=d.match(g))&&void 0!==n&&n.length?null===(r=d.match(g))||void 0===r?void 0:r.length:0,s=null!==(o=i.generatedContent.match(g))&&void 0!==o&&o.length?null===(a=i.generatedContent.match(g))||void 0===a?void 0:a.length:0,m.headingUsed="".concat(l," / ").concat(null!=h&&h.headingUsage?null==h?void 0:h.headingUsage[0]:3);var y=h.usage,b=h.contentUsage;b&&Array.isArray(d)?null!=b&&b[1]?m.contentUsed="".concat(c," / ").concat(b.join(" - ")):m.contentUsed="".concat(c," / ").concat(b[0]):m.contentUsed="".concat(c," / 3");var v=null==y?void 0:y[1];v?(m.used="".concat(s," / ").concat(y.join(" - ")),p=s<=v?s/v*100:100-(s-v)):(m.used="".concat(s," / ").concat(y?null==y?void 0:y[0]:3),p=1);i.allStats.mainKeywordStats=m,i.allStats.mainKeywordStats.targetCompletion=p})),d(this,"keywordStatsCallback",(function(){var t=[],e=i.analyzedKeywordStats.keywords.filter((function(t){return t.keyword!==i.mainKeyword})),n=(new DOMParser).parseFromString(i.generatedContent,"text/html"),r=jQuery(n).find("h2, h3").text(),o=jQuery(n).find("p").text(),a=0,s=0,c=0,l=0,u=0,h=0,f=0;if(0!==e.length){for(var d=0;d<e.length;d++){var g,m,b,v,_={},x=new RegExp(e[d].keyword,"gmi"),w=void 0;if(e[d].headingKeyword){var E,S,M;_.headingKeyword=e[d].headingKeyword;var T=new RegExp(e[d].headingKeyword,"gmi");w=null!==(E=r.match(T))&&void 0!==E&&E.length?null===(S=r.match(T))||void 0===S?void 0:S.length:0,_.headingUsed="".concat(w," / ").concat(null===(M=e[d])||void 0===M?void 0:M.headingUsage[0])}var C=void 0;if(e[d].contentKeyword){var k,O,R;_.contentKeyword=e[d].contentKeyword;var A,N,D=new RegExp(e[d].contentKeyword,"gmi");if(C=null!==(k=o.match(D))&&void 0!==k&&k.length?null===(O=o.match(D))||void 0===O?void 0:O.length:0,null===(null===(R=e[d])||void 0===R?void 0:R.usage[1]))_.contentUsed="".concat(C," / ").concat(null===(A=e[d])||void 0===A?void 0:A.contentUsage[0]);else _.contentUsed="".concat(C," / ").concat(null===(N=e[d])||void 0===N?void 0:N.contentUsage.join(" - "))}var P,I,L=null!==(g=i.generatedContent.match(x))&&void 0!==g&&g.length?null===(m=i.generatedContent.match(x))||void 0===m?void 0:m.length:0;if(_.keyword=e[d].keyword,null===(null===(b=e[d])||void 0===b?void 0:b.usage[1]))_.used="".concat(L," / ").concat(null===(P=e[d])||void 0===P?void 0:P.usage[0]);else _.used="".concat(L," / ").concat(null===(I=e[d])||void 0===I?void 0:I.usage.join(" - "));if(null!==(v=e[d])&&void 0!==v&&v.usage[1]){var j,F,B;if(h++,L<=(null===(j=e[d])||void 0===j?void 0:j.usage[1]))u+=null===(B=e[d])||void 0===B?void 0:B.usage[1],l+=L,f++;if(L>(null===(F=e[d])||void 0===F?void 0:F.usage[1])){var z;null===(z=e[d])||void 0===z||z.usage[1];l+=0}}C>0&&a++,w>0&&s++,L>0&&c++,e.length<3&&(a=C,s=w),t.push(_)}if(i.allStats.keywordStats={count:c,usageStats:t,targetCompletion:Math.ceil(l/u*100)*(f/h)},a<3){p(i,y).call(i,"You need to complete keywords that should be in the article content","problems")}if(s<3){p(i,y).call(i,"You need to complete keywords that should be in the article heading","problems")}if(a>=3&&s>=3){p(i,y).call(i,"You have completed recommended keywords and good to go!","results")}}})),f(this,y,{writable:!0,value:function(t,e){if(!t||!e)return!1;-1===i.feedbacks[e].indexOf(t)&&i.feedbacks[e].push(t)}}),f(this,b,{writable:!0,value:function(){for(var t=0,e=Object.entries({wordStats:15,headingStats:15,imageStats:15,paragraphStats:15,mainKeywordStats:10,keywordStats:30});t<e.length;t++){var n=a(e[t],2),r=n[0],o=n[1],s=i.allStats[r].targetCompletion;i.totalContentStats.result.count+=(s||0)/100*o}i.totalContentStats.result.count<0&&(i.totalContentStats.result.count=0),i.totalContentStats.result.count=Math.ceil(+i.totalContentStats.result.count.toFixed(2)),i.totalContentStats.result.percent=+(i.totalContentStats.result.count/100).toFixed(2)}}),f(this,v,{writable:!0,value:function(t){var e,n,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;arguments.length>2||undefined;if(2!==t.length||0===t[1])return 0;e=t[0];var i=null!==(n=t[1])&&void 0!==n?n:0,o=100;if(r<=i)o=r/i*100;else if(r>i){var a=r/i;o=100-a}return o}}),f(this,_,{writable:!0,value:function(t,e){return t[0]>e?"low":t[0]<=e&&e<=t[1]?"good":"high"}}),f(this,x,{writable:!0,value:function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"-";return null===t[0]&&(t[0]=0),t.join(e)}}),!t||0===Object.keys(t).length)return!1;this.analyzedKeywordStats=t,this.generatedContent=e,this.mainKeyword=null===(n=wp.data.select("getgenie").getTemplateInputs())||void 0===n||null===(r=n.blogWizard)||void 0===r?void 0:r.keyword,p(this,g).call(this),p(this,b).call(this)})),E=n(107);function S(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function O(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function R(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}(t,e,"get");return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,n)}var A=new WeakMap,N=new WeakSet,D=function(){function t(){var e,n,r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),k(e=this,n=N),n.add(e),function(t,e,n){k(t,e),e.set(t,n)}(this,A,{writable:!0,value:{numberOfPTag:0,maxNumberOfPTag:0,maxHtags:0,totalHtags:0,maxImgTags:0,totalImgTags:0,maxNumberOfWords:0,totalNumberOfWords:0}}),C(this,"cleanText",(function(t){return(t=(t=(t=t.replace(/\s\s+/gm," ")).replace(/  +/gm," ")).replace(/\n+/gm,"\n")).trim()})),C(this,"getStat",(function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],n={},i=[];if(0!==e.length){for(var o=function(n){var r={},o=e[n].trim().toLowerCase(),a=0,s=0,c=0,l=0,u=0,h=0,f=0,d=0;t.map((function(t){var e=0,n=0,r=0;t.content.map((function(t){var i,a,s,c,l=((null==t?void 0:t.title)||"").toLowerCase(),f=((null==t?void 0:t.text)||"").toLowerCase();(l&&u++,f&&h++,l&&l.indexOf(o)>-1)&&(e+=(null===(i=l.split(o))||void 0===i?void 0:i.length)-1||0,n+=(null===(a=l.split(o))||void 0===a?void 0:a.length)-1||0);f&&f.indexOf(o)>-1&&(e+=(null===(s=f.split(o))||void 0===s?void 0:s.length)-1||0,r+=(null===(c=f.split(o))||void 0===c?void 0:c.length)-1||0)})),s<n&&(s=n),c<r&&(c=r),a<e&&(a=e),l+=e,f+=n,d+=r})),s>0&&(r.headingKeyword=e[n],r.headingUsage=[Math.ceil(f/u),s]),c>0&&(r.contentKeyword=e[n],r.contentUsage=[Math.ceil(d/h),c]),a>0&&(r.keyword=e[n],r.usage=[Math.ceil(l/t.length),a],i.push(r))},a=0;a<e.length;a++)o(a);n.keywords=i,n.HtmlTagUsage={},n.HtmlTagUsage.paragraphUsage=[Math.round(R(r,A).numberOfPTag/t.length)||0,R(r,A).maxNumberOfPTag],n.HtmlTagUsage.headingUsage=[Math.round(R(r,A).totalHtags/t.length)||0,R(r,A).maxHtags],n.HtmlTagUsage.imageUsage=[Math.round(R(r,A).totalImgTags/t.length)||0,R(r,A).maxImgTags],n.HtmlTagUsage.wordUsage=[Math.round(R(r,A).totalNumberOfWords/t.length)||0,R(r,A).maxNumberOfWords]}return n}))}var e,n,r;return e=t,n=[{key:"scrapping",value:function(t){var e,n={content:[]},r=0,i=S(t);try{for(i.s();!(e=i.n()).done;){var o,a,s,c,l,u,h,f=e.value,d={},p=(new DOMParser).parseFromString(f.html,"text/html"),g=new E.Readability(p).parse();if(null!==g&&g!==undefined){d.rank=r+1,d.url=f.url,d.title=null==g?void 0:g.title,d.description=null==g?void 0:g.excerpt,d.favicon=(null===(o=p.querySelector("link[rel~='icon']"))||void 0===o?void 0:o.href)||"",d.favicon.startsWith(null===(a=location)||void 0===a?void 0:a.origin)&&(d.favicon=""),d.numberOfImage=(null==g||null===(s=g.content.match(/<img [^>]*src="[^"]*"[^>]*>/gi))||void 0===s?void 0:s.length)>0?null==g||null===(c=g.content.match(/<img [^>]*src="[^"]*"[^>]*>/gi))||void 0===c?void 0:c.length:0;var m=null==g?void 0:g.content.replace(/<(\/?(ul|ol|li|div|br|hr)|>)[^>]*>/gim,"\n").replace(/<(?!\/?(h1|h2|h3|h4|h5|h6|a|p)|>)[^>]*>/gim,"");if(m!==undefined&&null!==m&&""!==m){d.numberOfImage=(null==g||null===(l=g.content.match(/<img [^>]*src="[^"]*"[^>]*>/gi))||void 0===l?void 0:l.length)>0?null==g||null===(u=g.content.match(/<img [^>]*src="[^"]*"[^>]*>/gi))||void 0===u?void 0:u.length:0,R(this,A).totalImgTags+=d.numberOfImage,R(this,A).maxImgTags<d.numberOfImage&&(R(this,A).maxImgTags=d.numberOfImage);var y=null==g||null===(h=g.content.match(/<(h2|h3)>/gm))||void 0===h?void 0:h.length;R(this,A).totalHtags+=y||0,y&&R(this,A).maxHtags<y&&(R(this,A).maxHtags=y);var b=O(this,N,P).call(this,m);if(b){R(this,A).numberOfPTag+=+b.numberOfPTag,R(this,A).maxNumberOfPTag<+b.numberOfPTag&&(R(this,A).maxNumberOfPTag=+b.numberOfPTag);var v=b.wordCounts;0!==b.length&&(R(this,A).totalNumberOfWords+=v,R(this,A).maxNumberOfWords<v&&(R(this,A).maxNumberOfWords=v),d.numberOfHeadings=y,d.wordCount=v,d.content=b.content,n.content.push(d),r++)}}}}}catch(_){i.e(_)}finally{i.f()}return n.content}}],n&&T(e.prototype,n),r&&T(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function P(t){var e=this.cleanText,n=0,r=0,i=document.createElement("div");i.innerHTML=t;var a=jQuery(i).find("h2, h3"),s=[];return r=0,n=0,a.each((function(){var t=jQuery(this).prop("tagName").toLowerCase(),i=jQuery(this).text(),a="";if(jQuery(this).nextUntil("h2, h3").each((function(){a+=jQuery(this).html()})),!(""===(i=(i=e(i.replace(/<(\/?(a)|>)[^>]*>/gim,""))).replace(/\&nbsp;/g,""))||i.length<10||i.match(/\d*(,|\/)\d*/gi)&&i.match(/(\w+)/gi).length<10||""===(a=e(a.replace(/<(\/?(p)|>)[^>]*>/gim,"\n"))))){var c=jQuery(this).nextUntil("h2, h3").filter((function(){return 0!==jQuery(this).text().trim().length})).length;r+=c,n+=o()(i),n+=o()(a),s.push({tag:t,title:i,text:a})}})),{content:s,numberOfPTag:r,wordCounts:n}}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||z(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t){return function(t){if(Array.isArray(t))return H(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||z(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){if(t){if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(t,e):void 0}}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U=window.getGenie.Components.Common,V=U.Libs,W=U.ContentFeedback,q=U.Utilities,G=window.antd,Y=G.Alert,$=G.Form,K=G.Tooltip,X=window.getGenie.Components.Common.RequestManager,Z=X.HandleFetch,J=X.HandleResponse,Q=X.EndPoints,tt=window.getGenie.Components.Common.ReduxManager.ComposeComponents,et=q.GenieHelpers,nt=wp.element,rt=nt.useState,it=nt.useEffect,ot=wp.i18n.__,at=[{name:"templateContext",label:"Context",type:"textarea",placeholder:"Enter your text here",required:!0}];tt((function(t){var e=t.setSidebar,n=t.templates,r=t.sidebar,i=t.getInputs,o=t.setInput,a=i.generatedTemplateContents||[];a=B(new Set(a));var s=F(rt([]),2),c=s[0],l=s[1],u=F(rt(""),2),h=u[0],f=u[1],d=F(rt(!1),2),p=d[0],g=d[1],m=F(rt(at),2),y=m[0],b=m[1],v=F(rt(!1),2),_=v[0],x=v[1],w=F(rt([]),2),E=w[0],S=w[1];it((function(){var t=n.list.map((function(t){return{value:t.templateSlug,label:t.title,inputFields:(null==t?void 0:t.inputFields)||[]}}));l(t),e({analyzeKeyword:{open:!1},generatedOutlines:L(L({},r.generatedOutlines),{},{open:!1})})}),[]),it((function(){var t,e,i;if(r.open){var a=n.list.find((function(t){return t.templateSlug===r.currentTemplate})),s=null==a?void 0:a.inputFields;s&&0!==s.length||(s=at);var c=null===(t=s[0])||void 0===t?void 0:t.name;b(s),S(null==a?void 0:a.unsupportedLanguages),r.existingInputValue&&o(c,r.existingInputValue);var l=null===(e=wp.data.select("core/block-editor"))||void 0===e?void 0:e.getSelectedBlock();if(l){var u=(null==l||null===(i=l.attributes)||void 0===i?void 0:i.content)||"";if("next-paragraph"===r.currentTemplate)(u=u.replace(/<br\s*[\/]?>/g,"")).length>1e3&&(u=u.substring(0,1e3)),o(c,u);else if("next-sentence"===r.currentTemplate){var h=document.getSelection(),f=h.focusNode.data||"",d=f.substring(0,h.focusOffset);""===(d=(d=d.substring(0,d.lastIndexOf("."))).substring(d.lastIndexOf(".")+1)).length&&(d=f.substring(0,d.indexOf("."))),""===d.length&&(d=f.substring(0,h.focusOffset)),o(c,d)}}}}),[r.currentTemplate,r.open]);it((function(){r.open||r.rootContainer.querySelectorAll(".ant-tooltip.generated-content-copied-text").forEach((function(t){return t.style.visibility="hidden"}))}),[r.open]);var M=window.getGenie.config.isBlockEditor;return React.createElement(React.Fragment,null,React.createElement(V.DrawerHeader,null),React.createElement($,{layout:"vertical",className:"getgenie-sidebar-writing-form",onFinish:function(t){var e,n={},a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=z(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}(y);try{for(a.s();!(e=a.n()).done;){var s=e.value;n[s.name]=i[s.name]||""}}catch(l){a.e(l)}finally{a.f()}var c={input:n,templateSlug:r.currentTemplate,creativity:i.templateCreativityLevel,resultCount:i.templateResultLimit};delete c.templateCreativityLevel,delete c.templateResultLimit,x(!0),Z((function(t){x(!1),J(t,(function(){var e,n=t.data.map((function(t){return{title:t,like:!1,dislike:!1}}));o("generatedTemplateContents",n),g(!0),setTimeout((function(){return g(!1)}),4e3);var r=c;null==r||delete r.resultCount,r.output=t.data,r.templateType="writer-default",fetch(Q.createHistoryUrl,{method:"POST",body:JSON.stringify(r),headers:{"Content-type":"application/json; charset=UTF-8","X-WP-Nonce":(null===(e=window.getGenie.config)||void 0===e?void 0:e.restNonce)||""}})}))}),"writeTemplates",c)}},React.createElement("div",{className:"getgenie-sidebar-writing"},React.createElement(V.Select,{handleOnChange:function(t){e({currentTemplate:t})},name:"selectedTemplate",className:"getgenie-template-select",defaultValue:r.currentTemplate,label:"Select template",options:c}),y.map((function(t){return React.createElement(V.Textarea,{label:React.createElement("span",null,(null==t?void 0:t.label)||""," ",null!=t&&t.required?React.createElement("span",{style:{display:"inline-block",color:"red"}},"*"):"(".concat(ot("Optional","getgenie"),")")),name:null==t?void 0:t.name,rows:4,placeholder:null==t?void 0:t.placeholder,required:null==t?void 0:t.required})})),React.createElement(V.Select,{className:"getgenie-language",handleOnChange:function(t){return et.saveCurrentLanguage(t)},name:"selectedLanguage",except:E,label:ot("Select language","getgenie"),options:r.languages,defaultValue:r.currentLanguage}),React.createElement(V.Slider,{name:"templateCreativityLevel",label:React.createElement(React.Fragment,null,ot("Creativity Level","getgenie")," ",React.createElement(V.Tooltip,{title:ot("How much creative you want genie to be","getgenie"),placement:"top"},"i")),message:!1,defaultValue:4}),React.createElement(V.NumberInput,{name:"templateResultLimit",max:4,type:"text",defaultValue:2,label:React.createElement(React.Fragment,null,ot("Set Result Limit","getgenie")," ",React.createElement(V.Tooltip,{title:ot("Maximum content you want to generate","getgenie"),placement:"top"},"i")),required:!0,errorMessage:ot("Please choose valid limit","getgenie")}),React.createElement(V.Button,{htmlType:"submit",type:"primary",loading:_},ot("Write","getgenie"))),React.createElement("div",{className:"getgenie-card-container editor",style:{backgroundColor:0===a.length&&"transparent"}},React.createElement(V.Card,{list:a,handleClick:function(t,e){r.rootContainer.querySelectorAll(".ant-tooltip.generated-content-copied-text").forEach((function(t){return t.style.visibility="visible"}));var n=e.title.replace(/<br\/>/g,"");et.copyToClipboard(n).then((function(){f(e.title),setTimeout((function(){f(null)}),2e3)}))["catch"]((function(){return console.log("error")}))},column:1,skeleton:_?function(){return React.createElement(V.SkeletonSingle,{count:5})}:""},(function(t){var e;return React.createElement(React.Fragment,null,React.createElement(K,{overlayClassName:"generated-content-copied-text",placement:"right",title:h===t.title&&"Copied",visible:h===t.title&&r.open,zIndex:999999},React.createElement("h5",{className:"generated-content"},React.createElement("div",{dangerouslySetInnerHTML:{__html:t.title}}))),React.createElement(W,{content:t,input:i[null===(e=y[0])||void 0===e?void 0:e.name]||"",creativityLevel:i.templateCreativityLevel,listName:"generatedTemplateContents"}),M&&React.createElement(K,{title:"Insert this content",placement:"topLeft"},React.createElement("span",{className:"getgenie-insert-content getgenie-icon-plus",onClick:function(e){return function(t,e){t.stopPropagation(),r.insertTextCallback&&r.insertTextCallback(e,r.insertTextField)}(e,t.title)}})))})),p&&React.createElement(Y,{className:"template-screen-alert",message:ot("Click on the text to copy","getgenie"),closeText:ot("Okay","getgenie"),closable:!0}))),r.toolbarWriting||"#write-for-me"===window.location.hash?"":React.createElement(V.DrawerFooter,{prevScreen:"TemplateListScreen"}))}),["setSidebar","templates","sidebar","getInputs","setInput"]);const st=[{title:"Blog Wizard",templateSlug:"blogWizard",description:"Get your blog article SERP-ready — from analyzing the keywords to generating content that ranks",categories:{general:{title:"General",slug:"general"}}},{title:"WooCommerce Wizard",templateSlug:"wooWizard",description:"Get conversion-friendly & SEO-optimized content for WooCommerce Product pages",categories:{general:{title:"General",slug:"general"}}}];function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){ut(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ht(t){return function(t){if(Array.isArray(t))return pt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||dt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||dt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(t,e){if(t){if("string"==typeof t)return pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(t,e):void 0}}function pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gt=window.getGenie.Components.Common,mt=gt.Libs,yt=gt.LicenseNotice,bt=window.antd,vt=bt.Divider,_t=bt.Typography,xt=bt.Input,wt=window.getGenie.Components.Common.ReduxManager.ComposeComponents,Et=wp.element,St=Et.useEffect,Mt=Et.useState,Tt=wp.i18n.__;wt((function(t){var e=t.templates,n=t.setSidebar,r=t.sidebar,i=t.setInput,o=t.getTemplateInputs,a=t.resetTemplateInputs,s=ft(Mt(e.list),2),c=s[0],l=s[1],u=[].concat(ht(st),ht(c));St((function(){n({analyzeKeyword:{open:!1},generatedOutlines:lt(lt({},r.generatedOutlines),{},{open:!1})}),n({toolbarWriting:!1}),i("updateContent","")}),[]);return React.createElement(React.Fragment,null,React.createElement(mt.DrawerHeader,null),React.createElement("div",{className:"getgenie-sidebar-template"},React.createElement(yt,null),React.createElement(_t.Title,{level:3},Tt("What are we writing","getgenie")),React.createElement(vt,null),React.createElement("div",{className:"getgenie-template-list"},React.createElement(xt,{onChange:function(t){var n=t.target.value.toLowerCase(),r=e.list.filter((function(t){return t.title.toLowerCase().includes(n)}));l(r)},bordered:!1,className:"search-container",placeholder:"".concat(Tt("Search","getgenie"),"..."),suffix:React.createElement("span",{className:"getgenie-icon-search"})}),React.createElement(mt.Card,{list:u,handleClick:function(t,e){var r,i,s,c,l="WriteTemplatesScreen";if("blogWizard"==e.templateSlug){if(l="TitleScreen","post"!==(null===(i=window.getGenie.config)||void 0===i?void 0:i.wizardScreen))return void window.open(null===(s=window.getGenie.config)||void 0===s||null===(c=s.wizardScreenUrl)||void 0===c?void 0:c.post,"_blank")}else if("wooWizard"==e.templateSlug){var u,h,f,d;if(null===(u=window.getGenie.config)||void 0===u||!u.wcActivated)return void mt.ErrorModal({title:Tt("Plugin not found!","getgenie"),content:Tt("WooCommerce is not installed or activated yet.","getgenie")});if(l="wooProductTitle","woo_product"!==(null===(h=window.getGenie.config)||void 0===h?void 0:h.wizardScreen))return void window.open(null===(f=window.getGenie.config)||void 0===f||null===(d=f.wizardScreenUrl)||void 0===d?void 0:d.woo_product,"_blank")}var p=function(){n({component:l,currentTemplate:e.templateSlug})};null!==(r=o[e.templateSlug])&&void 0!==r&&r.keyword?mt.ConfirmModal(Tt("This wizard has generated data","getgenie"),Tt("Do you want to erase that data?","getgenie"),(function(){a(e.templateSlug),p()}),p):p()}},(function(t){return React.createElement(React.Fragment,null,React.createElement("div",{className:"card-container"},React.createElement("div",{className:"card-icon"},React.createElement("span",{className:"getgenie-icon-Edit"})),React.createElement("div",{className:"card-heading"},React.createElement("h5",{"data-slug":null==t?void 0:t.templateSlug},null==t?void 0:t.title),React.createElement("p",null,null==t?void 0:t.description))))})))))}),["setSidebar","sidebar","templates","setInput","getInputs","resetTemplateInputs","getTemplateInputs"]);var Ct=window.getGenie.Components.Common.Libs,kt=wp.i18n.__,Ot={insertTemplateInPostEditor:function(t){var e,n,r=wp.data.select("getgenie").sidebar(),i=wp.data.select("core/block-editor").getSelectedBlock(),o=null==i?void 0:i.clientId,a=null==i||null===(e=i.attributes)||void 0===e?void 0:e.content,s=wp.data.select("core/block-editor").getBlocks().findIndex((function(t){return t.clientId===o})),c=t.replace(/<br\s*[\/]?>/g,"\n");if(r.toolbarWriting&&["sentence-rewriter","paragraph-rewriter","paragraph-answer"].includes(r.currentTemplate))(null===(n=wp.data.select("getgenie").getInputs())||void 0===n?void 0:n.updateContent)(c);else if("next-paragraph"===r.currentTemplate)wp.data.dispatch("core/block-editor").insertBlocks(wp.blocks.createBlock("core/paragraph",{content:c}),s+1);else{if(!o)return wp.data.dispatch("getgenie").setSidebar({open:!1}),void Ct.ErrorModal({title:kt("Insertion Failed!","getgenie"),content:kt("Please select a block in current editor","getgenie")});c=t,a&&(c=" "+c),wp.data.dispatch("core/block-editor").updateBlock(o,{attributes:{content:a+c}}),wp.data.dispatch("getgenie").setSidebar({open:!1})}}};const Rt=Ot;function At(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(Object(n),!0).forEach((function(e){Dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return It(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lt=window.antd,jt=Lt.Button,Ft=Lt.Tooltip,Bt=wp.element,zt=Bt.useEffect,Ht=Bt.useState,Ut=window.getGenie.Components.Common.ReduxManager.ComposeComponents,Vt=wp.i18n.__,Wt=["TitleScreen","IntroScreen","OutlineScreen"];const qt=Ut((function(t){var e,n,r=t.setSidebar,i=t.sidebar,o=t.getInputs,a=t.setInput,s=t.getTemplateInputs,c=i.analyzedContent.totalContentStats,l=null==c||null===(e=c.result)||void 0===e?void 0:e.count,u=Pt(Ht({}),2),h=u[0],f=u[1],d=Pt(Ht(!1),2),p=d[0],g=d[1],m=i.component;zt((function(){if("StatisticsScreen"!==m&&!i.toolbarWriting){var t=Wt.includes(m)?"blogWizard":i.currentTemplate;f({component:m,template:t})}}),[i.component,i.currentTemplate]),zt((function(){"#getgenie-open-blogwizard"===window.location.hash&&(y(),r({component:"TitleScreen",currentTemplate:"blogWizard"}))}),[]);var y=function(){r({toolbarWriting:!1,insertTextCallback:Rt.insertTemplateInPostEditor}),a("updateContent",""),r("StatisticsScreen"!==m&&"WriteTemplatesScreen"!==m?{open:!i.open,component:m||"TemplateListScreen"}:{open:!0,component:(null==h?void 0:h.component)||"TemplateListScreen",currentTemplate:(null==h?void 0:h.template)||i.currentTemplate})},b=(o.competitorData||l)&&(null==s||null===(n=s.blogWizard)||void 0===n?void 0:n.keyword);return React.createElement(React.Fragment,null,React.createElement(jt,{onClick:y,type:"primary",className:"getgenie-toolbar-write-btn"},React.createElement("span",{className:"getgenie-icon-Edit"}),Vt("Write for me","getgenie")),b?React.createElement(Ft,{placement:"bottom",trigger:"click",getPopupContainer:function(t){return document.querySelector(".getgenie-main-container")||document.body},title:"No post content found!",visible:p},React.createElement(jt,{onClick:function(){if(!i.currentPostContent&&o.competitorData&&(g(!0),setTimeout((function(){g(!1)}),2e3)),0===Object.keys(i.statisticsData).length||!i.currentPostContent)return!1;var t=!i.open;"StatisticsScreen"!==m&&(t=!0),r({open:t,component:"StatisticsScreen",analyzeKeyword:{open:!1},generatedOutlines:Nt(Nt({},i.generatedOutlines),{},{open:!1})})},style:{backgroundColor:Gt(l||0)},loading:i.statisticsScreen.loading,type:"primary",className:"getgenie-toolbar-write-btn stat"},React.createElement("span",{className:"getgenie-icon-meter_icon score"}),l,"/100")):"")}),["setSidebar","setInput","sidebar","getInputs","getTemplateInputs"]);const Gt=function(t){var e="#FF4131";return t>25&&t<=50?e="#FDC500":t>50&&t<80?e="#84C300":t>=80&&(e="#00B81D"),e};function Yt(t){return function(t){if(Array.isArray(t))return $t(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return $t(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $t(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kt=window.getGenie.Components.Common.Libs,Xt=window.antd,Zt=Xt.Button,Jt=Xt.Card,Qt=Xt.Checkbox,te=Xt.Col,ee=Xt.Divider,ne=Xt.Row,re=Xt.Typography,ie=window.getGenie.Components.Common.ReduxManager.ComposeComponents,oe=wp.i18n.__,ae=ie((function(t){var e=t.data,n=t.loading,r=t.getInputs,i=t.setInput,o=t.sidebar,a=r.selectedOutlines||[],s=r.competitorData||null,c=function(t){var e=document.createElement("div");return e.innerHTML=t,e.querySelectorAll("a").forEach((function(t){t.setAttribute("target","_blank")})),e.innerHTML};return React.createElement(React.Fragment,null,!s&&n,React.createElement("div",{className:"getgenie-competitor-tab"},e&&0===e.length?React.createElement(re.Title,{level:5,className:"getgenie-not-found-title"},oe("No related data was found.","getgenie")):null==e?void 0:e.map((function(t,n){var r,s,l,u;return React.createElement(React.Fragment,null,React.createElement("div",{key:n},React.createElement(ne,{className:"getgenie-competitor-overview",gutter:8},React.createElement(te,{className:"gutter-row"},React.createElement("div",{className:"getgenie-text"},oe("Words:","getgenie")," ",null==t?void 0:t.wordCount)),React.createElement(te,{className:"gutter-row"},React.createElement("div",{className:"getgenie-text"},oe("Heading:","getgenie")," ",null==t?void 0:t.numberOfHeadings)),React.createElement(te,{className:"gutter-row"},React.createElement("div",{className:"getgenie-text"},oe("Images:","getgenie")," ",null==t?void 0:t.numberOfImage))),React.createElement(Jt,{className:"getgenie-competitor-card"},React.createElement("a",{href:null==t?void 0:t.url,className:"getgenie-competitor-link",target:"_blank"},null!=t&&t.favicon&&-1===(null==t?void 0:t.favicon.indexOf("localhost"))?React.createElement("img",{className:"page-favicon",src:null==t?void 0:t.favicon}):React.createElement("span",{className:"page-url getgenie-icon-earth"}),React.createElement("span",{className:"page-url"},null==t?void 0:t.url)),React.createElement(re.Title,{level:5,className:"getgenie-competitor-title"},t.title),React.createElement("p",{className:"getgenie-competitor-text",dangerouslySetInnerHTML:{__html:c(null==t?void 0:t.description)}}),React.createElement(Kt.Popover,{content:React.createElement("div",{className:"getgenie-tags-popover"},React.createElement(Kt.Collapse,{collapsible:"header",showArrow:!1,accordion:!0},null==t||null===(r=t.content)||void 0===r?void 0:r.map((function(t,e){return React.createElement(React.Fragment,null,"OutlineScreen"===o.component?React.createElement(Kt.Collapse.Panel,{header:React.createElement(React.Fragment,null,React.createElement("div",{className:"getgenie-competitor-tag-container",onClick:function(t){return t.stopPropagation()}},React.createElement(Qt,{checked:-1!=a.indexOf(t.title),onChange:function(e){return n=t.title,-1!=(r=Yt(a)).indexOf(n)?r.splice(r.indexOf(n),1):r.push(n),void i("selectedOutlines",r);var n,r}},React.createElement("div",{className:"tag-content",onClick:function(t){return t.stopPropagation()}},React.createElement("h5",{className:"tag-name"},null==t?void 0:t.tag),React.createElement("h5",{className:"tag-title"},null==t?void 0:t.title)))),React.createElement("span",{className:"custom-collapse-icon getgenie-icon-arrow_down"})),key:e},React.createElement("p",{dangerouslySetInnerHTML:{__html:c(null==t?void 0:t.text)}})):React.createElement(Kt.Collapse.Panel,{header:React.createElement("div",{className:"getgenie-competitor-tag-container"},React.createElement("div",{className:"tag-content",onClick:function(t){return t.stopPropagation()}},React.createElement("h5",{className:"tag-name"},null==t?void 0:t.tag),React.createElement("h5",{className:"tag-title"},null==t?void 0:t.title)),React.createElement("span",{className:"custom-collapse-icon getgenie-icon-arrow_down"})),key:e},React.createElement("p",{dangerouslySetInnerHTML:{__html:c(null==t?void 0:t.text)}})))})))),overlayStyle:{width:"500px",height:"350px"},overlayClassName:"getgenie-competitor-popover",placement:"left"},React.createElement("div",{className:"getgenie-competitor-tag"},React.createElement("div",{className:"getgenie-competitor-tag-list"},React.createElement(re.Title,{level:5,className:"getgenie-competitor-tag-name"},null==t||null===(s=t.content[0])||void 0===s?void 0:s.tag),React.createElement(re.Title,{level:5,className:"getgenie-competitor-tag-content"},null==t||null===(l=t.content[0])||void 0===l?void 0:l.title)),React.createElement(Zt,{disabled:0===(null==t||null===(u=t.content)||void 0===u?void 0:u.length),className:"getgenie-competitor-tag-moreBtn",type:"link"},oe("more details","getgenie"),React.createElement("span",{className:"getgenie-icon-arrow-up-right"})))))),n!==(null==e?void 0:e.length)-1&&React.createElement(ee,null))}))))}),["sidebar","getInputs","setInput"]),se=window.antd,ce=se.Col,le=se.Row,ue=se.Typography,he=se.Divider,fe=window.getGenie.Components.Common.ReduxManager.ComposeComponents,de=wp.i18n.__,pe=fe((function(t){var e,n,r,i,o,a,s,c,l,u,h=t.getInputs.searchVolume,f=[{title:"Last Month",value:null==h||null===(e=h.searchVolume)||void 0===e?void 0:e.lastMonth},{title:"Average 12 month",value:null==h||null===(n=h.searchVolume)||void 0===n?void 0:n.avg12Month},{title:"Highest",value:null==h||null===(r=h.searchVolume)||void 0===r?void 0:r.highest},{title:"Lowest",value:null==h||null===(i=h.searchVolume)||void 0===i?void 0:i.lowest}];return React.createElement("div",{className:"getgenie-keyword-analysis"},React.createElement(ue.Title,{level:4,className:"getgenie-title"},de("Keyword Analysis","getgenie")),h?React.createElement(React.Fragment,null,React.createElement(le,{gutter:6},React.createElement(ce,{className:"gutter-row",flex:"auto"},React.createElement("div",{className:"getgenie-keyword-result volume"},React.createElement(ue.Title,{level:5,className:"getgenie-title"},de("Search Volume","getgenie")),React.createElement("div",{className:"getgenie-result-item"},React.createElement(ue.Text,{className:"getgenie-text"},null==h||null===(o=h.searchVolume)||void 0===o?void 0:o.total),React.createElement("span",{className:"getgenie-icon-Search_icon"})))),React.createElement(ce,{className:"gutter-row",flex:"auto"},React.createElement("div",{className:"getgenie-keyword-result competition"},React.createElement(ue.Title,{level:5,className:"getgenie-title"},de("Competition","getgenie")),React.createElement("div",{className:"getgenie-result-item"},React.createElement(ue.Text,{className:"getgenie-text"},null==h||null===(a=h.searchVolume)||void 0===a?void 0:a.competition),React.createElement("span",{className:"getgenie-icon-Competition_icon"})))),React.createElement(ce,{className:"gutter-row",flex:"auto"},React.createElement("div",{className:"getgenie-keyword-result cpc"},React.createElement(ue.Title,{level:5,className:"getgenie-title"},"CPC"),React.createElement("div",{className:"getgenie-result-item"},React.createElement(ue.Text,{className:"getgenie-text"},null==h||null===(s=h.searchVolume)||void 0===s||null===(c=s.cpc)||void 0===c?void 0:c.currency," ",null==h||null===(l=h.searchVolume)||void 0===l||null===(u=l.cpc)||void 0===u?void 0:u.value),React.createElement("span",{className:"getgenie-icon-CPC_icon"}))))),React.createElement("div",{className:"getgenie-list-data"},f.map((function(t,e){return React.createElement("div",{key:e},React.createElement("div",{className:"getgenie-list-data-container"},React.createElement(ue.Title,{level:5,className:"getgenie-list-data-title"},t.title),React.createElement(ue.Title,{level:5,className:"getgenie-list-data-value"},t.value)),e!==f.length-1&&React.createElement(he,null))})))):React.createElement(ue.Title,{level:5,className:"getgenie-not-found-title"},de("No magic found for this keyword. Maybe try a different one?","getgenie")))}),["getInputs"]);function ge(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return me(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ye=window.getGenie.Components.Common.Libs,be=wp.element,ve=be.useState,_e=be.memo,xe=be.useEffect,we=_e((function(t){var e=t.data,n=ge(ve(null),2),r=n[0],i=n[1],o=ge(ve(!0),2),a=o[0],s=o[1];xe((function(){if(e){var t=encodeURIComponent(e),n="https://trends.google.com:443/trends/embed/explore/TIMESERIES?req=%7B%22comparisonItem%22%3A%5B%7B%22keyword%22%3A%22#ENCODED_KEYWORD#%22%2C%22geo%22%3A%22%22%2C%22time%22%3A%22today%2012-m%22%7D%5D%2C%22category%22%3A0%2C%22property%22%3A%22%22%7D&tz=-360&eq=q%3D#DOUBLE_ENCODED_KEYWORD#%26date%3Dtoday%2012-m";n=(n=n.replace("#ENCODED_KEYWORD#",t)).replace("#DOUBLE_ENCODED_KEYWORD#",encodeURIComponent(t)),i(n)}}),[]);return r&&React.createElement(React.Fragment,null,React.createElement("iframe",{onLoad:function(t){t.target.style.display="block",s(!1)},id:"trends-widget-1",title:"trends-widget-1",src:r,className:"getgenie-chart",frameBorder:"0",scrolling:"0",style:{height:"370px",width:"300px",padding:0,display:"none"}}),a?React.createElement(ye.Loading,null):"")}));const Ee=we;
/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */
function Se(){}const Me=function(){let t=0;return function(){return t++}}();function Te(t){return null==t}function Ce(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function ke(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const Oe=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function Re(t,e){return Oe(t)?t:e}function Ae(t,e){return void 0===t?e:t}const Ne=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function De(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)}function Pe(t,e,n,r){let i,o,a;if(Ce(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(ke(t))for(a=Object.keys(t),o=a.length,i=0;i<o;i++)e.call(n,t[a[i]],a[i])}function Ie(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Le(t){if(Ce(t))return t.map(Le);if(ke(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Le(t[n[i]]);return e}return t}function je(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function Fe(t,e,n,r){if(!je(t))return;const i=e[t],o=n[t];ke(i)&&ke(o)?Be(i,o,r):e[t]=Le(o)}function Be(t,e,n){const r=Ce(e)?e:[e],i=r.length;if(!ke(t))return t;const o=(n=n||{}).merger||Fe;for(let a=0;a<i;++a){if(e=r[a],!ke(e))continue;const i=Object.keys(e);for(let r=0,a=i.length;r<a;++r)o(i[r],t,e,n)}return t}function ze(t,e){return Be(t,e,{merger:He})}function He(t,e,n){if(!je(t))return;const r=e[t],i=n[t];ke(r)&&ke(i)?ze(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Le(i))}const Ue={"":t=>t,x:t=>t.x,y:t=>t.y};function Ve(t,e){const n=Ue[e]||(Ue[e]=function(t){const e=function(t){const e=t.split("."),n=[];let r="";for(const t of e)r+=t,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function We(t){return t.charAt(0).toUpperCase()+t.slice(1)}const qe=t=>void 0!==t,Ge=t=>"function"==typeof t,Ye=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const $e=Math.PI,Ke=2*$e,Xe=Ke+$e,Ze=Number.POSITIVE_INFINITY,Je=$e/180,Qe=$e/2,tn=$e/4,en=2*$e/3,nn=Math.log10,rn=Math.sign;function on(t){const e=Math.round(t);t=sn(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(nn(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function an(t){return!isNaN(parseFloat(t))&&isFinite(t)}function sn(t,e,n){return Math.abs(t-e)<n}function cn(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ln(t){return t*($e/180)}function un(t){return t*(180/$e)}function hn(t){if(!Oe(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function fn(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*$e&&(o+=Ke),{angle:o,distance:i}}function dn(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function pn(t,e){return(t-e+Xe)%Ke-$e}function gn(t){return(t%Ke+Ke)%Ke}function mn(t,e,n,r){const i=gn(t),o=gn(e),a=gn(n),s=gn(o-i),c=gn(a-i),l=gn(i-o),u=gn(i-a);return i===o||i===a||r&&o===a||s>c&&l<u}function yn(t,e,n){return Math.max(e,Math.min(n,t))}function bn(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function vn(t,e,n){n=n||(n=>t[n]<e);let r,i=t.length-1,o=0;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const _n=(t,e,n,r)=>vn(t,n,r?r=>t[r][e]<=n:r=>t[r][e]<n),xn=(t,e,n)=>vn(t,n,(r=>t[r][e]>=n));const wn=["push","pop","shift","splice","unshift"];function En(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(wn.forEach((e=>{delete t[e]})),delete t._chartjs)}function Sn(t){const e=new Set;let n,r;for(n=0,r=t.length;n<r;++n)e.add(t[n]);return e.size===r?t:Array.from(e)}const Mn="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function Tn(t,e,n){const r=n||(t=>Array.prototype.slice.call(t));let i=!1,o=[];return function(...n){o=r(n),i||(i=!0,Mn.call(window,(()=>{i=!1,t.apply(e,o)})))}}const Cn=t=>"start"===t?"left":"end"===t?"right":"center",kn=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function On(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:a,_parsed:s}=t,c=a.axis,{min:l,max:u,minDefined:h,maxDefined:f}=a.getUserBounds();h&&(i=yn(Math.min(_n(s,a.axis,l).lo,n?r:_n(e,c,a.getPixelForValue(l)).lo),0,r-1)),o=f?yn(Math.max(_n(s,a.axis,u,!0).hi+1,n?0:_n(e,c,a.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:o}}function Rn(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const An=t=>0===t||1===t,Nn=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ke/n),Dn=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ke/n)+1,Pn={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Qe),easeOutSine:t=>Math.sin(t*Qe),easeInOutSine:t=>-.5*(Math.cos($e*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>An(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>An(t)?t:Nn(t,.075,.3),easeOutElastic:t=>An(t)?t:Dn(t,.075,.3),easeInOutElastic(t){const e=.1125;return An(t)?t:t<.5?.5*Nn(2*t,e,.45):.5+.5*Dn(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Pn.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*Pn.easeInBounce(2*t):.5*Pn.easeOutBounce(2*t-1)+.5};
/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */
function In(t){return t+.5|0}const Ln=(t,e,n)=>Math.max(Math.min(t,n),e);function jn(t){return Ln(In(2.55*t),0,255)}function Fn(t){return Ln(In(255*t),0,255)}function Bn(t){return Ln(In(t/2.55)/100,0,1)}function zn(t){return Ln(In(100*t),0,100)}const Hn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Un=[..."0123456789ABCDEF"],Vn=t=>Un[15&t],Wn=t=>Un[(240&t)>>4]+Un[15&t],qn=t=>(240&t)>>4==(15&t);function Gn(t){var e=(t=>qn(t.r)&&qn(t.g)&&qn(t.b)&&qn(t.a))(t)?Vn:Wn;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):undefined}const Yn=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $n(t,e,n){const r=e*Math.min(n,1-n),i=(e,i=(e+t/30)%12)=>n-r*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function Kn(t,e,n){const r=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function Xn(t,e,n){const r=$n(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Zn(t){const e=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(e,n,r),o=Math.min(e,n,r),a=(i+o)/2;let s,c,l;return i!==o&&(l=i-o,c=a>.5?l/(2-i-o):l/(i+o),s=function(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}(e,n,r,l,i),s=60*s+.5),[0|s,c||0,a]}function Jn(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Fn)}function Qn(t,e,n){return Jn($n,t,e,n)}function tr(t){return(t%360+360)%360}function er(t){const e=Yn.exec(t);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?jn(+e[5]):Fn(+e[5]));const i=tr(+e[2]),o=+e[3]/100,a=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Jn(Xn,t,e,n)}(i,o,a):"hsv"===e[1]?function(t,e,n){return Jn(Kn,t,e,n)}(i,o,a):Qn(i,o,a),{r:n[0],g:n[1],b:n[2],a:r}}const nr={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rr={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ir;function or(t){ir||(ir=function(){const t={},e=Object.keys(rr),n=Object.keys(nr);let r,i,o,a,s;for(r=0;r<e.length;r++){for(a=s=e[r],i=0;i<n.length;i++)o=n[i],s=s.replace(o,nr[o]);o=parseInt(rr[a],16),t[s]=[o>>16&255,o>>8&255,255&o]}return t}(),ir.transparent=[0,0,0,0]);const e=ir[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const ar=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const sr=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,cr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function lr(t,e,n){if(t){let r=Zn(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=Qn(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function ur(t,e){return t?Object.assign(e||{},t):t}function hr(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Fn(t[3]))):(e=ur(t,{r:0,g:0,b:0,a:1})).a=Fn(e.a),e}function fr(t){return"r"===t.charAt(0)?function(t){const e=ar.exec(t);let n,r,i,o=255;if(e){if(e[7]!==n){const t=+e[7];o=e[8]?jn(t):Ln(255*t,0,255)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?jn(n):Ln(n,0,255)),r=255&(e[4]?jn(r):Ln(r,0,255)),i=255&(e[6]?jn(i):Ln(i,0,255)),{r:n,g:r,b:i,a:o}}}(t):er(t)}class dr{constructor(t){if(t instanceof dr)return t;const e=typeof t;let n;var r,i,o;"object"===e?n=hr(t):"string"===e&&(o=(r=t).length,"#"===r[0]&&(4===o||5===o?i={r:255&17*Hn[r[1]],g:255&17*Hn[r[2]],b:255&17*Hn[r[3]],a:5===o?17*Hn[r[4]]:255}:7!==o&&9!==o||(i={r:Hn[r[1]]<<4|Hn[r[2]],g:Hn[r[3]]<<4|Hn[r[4]],b:Hn[r[5]]<<4|Hn[r[6]],a:9===o?Hn[r[7]]<<4|Hn[r[8]]:255})),n=i||or(t)||fr(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=ur(this._rgb);return t&&(t.a=Bn(t.a)),t}set rgb(t){this._rgb=hr(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Bn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):undefined;var t}hexString(){return this._valid?Gn(this._rgb):undefined}hslString(){return this._valid?function(t){if(!t)return;const e=Zn(t),n=e[0],r=zn(e[1]),i=zn(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Bn(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):undefined}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let i;const o=e===i?.5:e,a=2*o-1,s=n.a-r.a,c=((a*s==-1?a:(a+s)/(1+a*s))+1)/2;i=1-c,n.r=255&c*n.r+i*r.r+.5,n.g=255&c*n.g+i*r.g+.5,n.b=255&c*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const r=cr(Bn(t.r)),i=cr(Bn(t.g)),o=cr(Bn(t.b));return{r:Fn(sr(r+n*(cr(Bn(e.r))-r))),g:Fn(sr(i+n*(cr(Bn(e.g))-i))),b:Fn(sr(o+n*(cr(Bn(e.b))-o))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new dr(this.rgb)}alpha(t){return this._rgb.a=Fn(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=In(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return lr(this._rgb,2,t),this}darken(t){return lr(this._rgb,2,-t),this}saturate(t){return lr(this._rgb,1,t),this}desaturate(t){return lr(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=Zn(t);n[0]=tr(n[0]+e),n=Qn(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function pr(t){return new dr(t)}function gr(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function mr(t){return gr(t)?t:pr(t)}function yr(t){return gr(t)?t:pr(t).saturate(.5).darken(.1).hexString()}const br=Object.create(null),vr=Object.create(null);function _r(t,e){if(!e)return t;const n=e.split(".");for(let e=0,r=n.length;e<r;++e){const r=n[e];t=t[r]||(t[r]=Object.create(null))}return t}function xr(t,e,n){return"string"==typeof e?Be(_r(t,e),n):Be(_r(t,""),e)}var wr=new class{constructor(t){this.animation=undefined,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>yr(e.backgroundColor),this.hoverBorderColor=(t,e)=>yr(e.borderColor),this.hoverColor=(t,e)=>yr(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=undefined,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return xr(this,t,e)}get(t){return _r(this,t)}describe(t,e){return xr(vr,t,e)}override(t,e){return xr(br,t,e)}route(t,e,n,r){const i=_r(this,t),o=_r(this,n),a="_"+e;Object.defineProperties(i,{[a]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[a],e=o[r];return ke(t)?Object.assign({},e,t):Ae(t,e)},set(t){this[a]=t}}})}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Er(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function Sr(t,e,n,r){let i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const s=n.length;let c,l,u,h,f;for(c=0;c<s;c++)if(h=n[c],h!==undefined&&null!==h&&!0!==Ce(h))a=Er(t,i,o,a,h);else if(Ce(h))for(l=0,u=h.length;l<u;l++)f=h[l],f===undefined||null===f||Ce(f)||(a=Er(t,i,o,a,f));t.restore();const d=o.length/2;if(d>n.length){for(c=0;c<d;c++)delete i[o[c]];o.splice(0,d)}return a}function Mr(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Tr(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Cr(t,e,n,r){kr(t,e,n,r,null)}function kr(t,e,n,r,i){let o,a,s,c,l,u;const h=e.pointStyle,f=e.rotation,d=e.radius;let p=(f||0)*Je;if(h&&"object"==typeof h&&(o=h.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,r),t.rotate(p),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void t.restore();if(!(isNaN(d)||d<=0)){switch(t.beginPath(),h){default:i?t.ellipse(n,r,i/2,d,0,0,Ke):t.arc(n,r,d,0,Ke),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(p)*d,r-Math.cos(p)*d),p+=en,t.lineTo(n+Math.sin(p)*d,r-Math.cos(p)*d),p+=en,t.lineTo(n+Math.sin(p)*d,r-Math.cos(p)*d),t.closePath();break;case"rectRounded":l=.516*d,c=d-l,a=Math.cos(p+tn)*c,s=Math.sin(p+tn)*c,t.arc(n-a,r-s,l,p-$e,p-Qe),t.arc(n+s,r-a,l,p-Qe,p),t.arc(n+a,r+s,l,p,p+Qe),t.arc(n-s,r+a,l,p+Qe,p+$e),t.closePath();break;case"rect":if(!f){c=Math.SQRT1_2*d,u=i?i/2:c,t.rect(n-u,r-c,2*u,2*c);break}p+=tn;case"rectRot":a=Math.cos(p)*d,s=Math.sin(p)*d,t.moveTo(n-a,r-s),t.lineTo(n+s,r-a),t.lineTo(n+a,r+s),t.lineTo(n-s,r+a),t.closePath();break;case"crossRot":p+=tn;case"cross":a=Math.cos(p)*d,s=Math.sin(p)*d,t.moveTo(n-a,r-s),t.lineTo(n+a,r+s),t.moveTo(n+s,r-a),t.lineTo(n-s,r+a);break;case"star":a=Math.cos(p)*d,s=Math.sin(p)*d,t.moveTo(n-a,r-s),t.lineTo(n+a,r+s),t.moveTo(n+s,r-a),t.lineTo(n-s,r+a),p+=tn,a=Math.cos(p)*d,s=Math.sin(p)*d,t.moveTo(n-a,r-s),t.lineTo(n+a,r+s),t.moveTo(n+s,r-a),t.lineTo(n-s,r+a);break;case"line":a=i?i/2:Math.cos(p)*d,s=Math.sin(p)*d,t.moveTo(n-a,r-s),t.lineTo(n+a,r+s);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(p)*d,r+Math.sin(p)*d)}t.fill(),e.borderWidth>0&&t.stroke()}}function Or(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Rr(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ar(t){t.restore()}function Nr(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else"after"===i!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Dr(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Pr(t,e,n,r,i,o={}){const a=Ce(e)?e:[e],s=o.strokeWidth>0&&""!==o.strokeColor;let c,l;for(t.save(),t.font=i.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]);Te(e.rotation)||t.rotate(e.rotation);e.color&&(t.fillStyle=e.color);e.textAlign&&(t.textAlign=e.textAlign);e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,o),c=0;c<a.length;++c)l=a[c],s&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Te(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(l,n,r,o.maxWidth)),t.fillText(l,n,r,o.maxWidth),Ir(t,n,r,l,o),r+=i.lineHeight;t.restore()}function Ir(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),a=e-o.actualBoundingBoxLeft,s=e+o.actualBoundingBoxRight,c=n-o.actualBoundingBoxAscent,l=n+o.actualBoundingBoxDescent,u=i.strikethrough?(c+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,u),t.lineTo(s,u),t.stroke()}}function Lr(t,e){const{x:n,y:r,w:i,h:o,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,-Qe,$e,!0),t.lineTo(n,r+o-a.bottomLeft),t.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,$e,Qe,!0),t.lineTo(n+i-a.bottomRight,r+o),t.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,Qe,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-Qe,!0),t.lineTo(n+a.topLeft,r)}const jr=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Fr=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Br(t,e){const n=(""+t).match(jr);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}function zr(t,e){const n={},r=ke(e),i=r?Object.keys(e):e,o=ke(t)?r?n=>Ae(t[n],t[e[n]]):e=>t[e]:()=>t;for(const t of i)n[t]=+o(t)||0;return n}function Hr(t){return zr(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ur(t){return zr(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Vr(t){const e=Hr(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Wr(t,e){t=t||{},e=e||wr.font;let n=Ae(t.size,e.size);"string"==typeof n&&(n=parseInt(n,10));let r=Ae(t.style,e.style);r&&!(""+r).match(Fr)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:Ae(t.family,e.family),lineHeight:Br(Ae(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Ae(t.weight,e.weight),string:""};return i.string=function(t){return!t||Te(t.size)||Te(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function qr(t,e,n,r){let i,o,a,s=!0;for(i=0,o=t.length;i<o;++i)if(a=t[i],a!==undefined&&(e!==undefined&&"function"==typeof a&&(a=a(e),s=!1),n!==undefined&&Ce(a)&&(a=a[n%a.length],s=!1),a!==undefined))return r&&!s&&(r.cacheable=!1),a}function Gr(t,e){return Object.assign(Object.create(t),e)}function Yr(t,e=[""],n=t,r,i=(()=>t[0])){qe(r)||(r=ii("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:r,_getTarget:i,override:i=>Yr([i,...t],e,n,r)};return new Proxy(o,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,r)=>Jr(n,r,(()=>function(t,e,n,r){let i;for(const o of e)if(i=ii(Xr(o,t),n),qe(i))return Zr(t,i)?ni(n,r,t,i):i}(r,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>oi(t).includes(e),ownKeys:t=>oi(t),set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function $r(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Kr(t,r),setContext:e=>$r(t,e,n,r),override:i=>$r(t.override(i),e,n,r)};return new Proxy(i,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>Jr(t,e,(()=>function(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=t;let s=r[e];Ge(s)&&a.isScriptable(e)&&(s=function(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_stack:s}=n;if(s.has(t))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+t);s.add(t),e=e(o,a||r),s["delete"](t),Zr(t,e)&&(e=ni(i._scopes,i,t,e));return e}(e,s,t,n));Ce(s)&&s.length&&(s=function(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_descriptors:s}=n;if(qe(o.index)&&r(t))e=e[o.index%e.length];else if(ke(e[0])){const n=e,r=i._scopes.filter((t=>t!==n));e=[];for(const c of n){const n=ni(r,i,t,c);e.push($r(n,o,a&&a[t],s))}}return e}(e,s,t,a.isIndexable));Zr(e,s)&&(s=$r(s,i,o&&o[e],a));return s}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:undefined:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,r)=>(t[n]=r,delete e[n],!0)})}function Kr(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Ge(n)?n:()=>n,isIndexable:Ge(r)?r:()=>r}}const Xr=(t,e)=>t?t+We(e):e,Zr=(t,e)=>ke(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Jr(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function Qr(t,e,n){return Ge(t)?t(e,n):t}const ti=(t,e)=>!0===t?e:"string"==typeof t?Ve(e,t):undefined;function ei(t,e,n,r,i){for(const o of e){const e=ti(n,o);if(e){t.add(e);const o=Qr(e._fallback,n,i);if(qe(o)&&o!==n&&o!==r)return o}else if(!1===e&&qe(r)&&n!==r)return null}return!1}function ni(t,e,n,r){const i=e._rootScopes,o=Qr(e._fallback,n,r),a=[...t,...i],s=new Set;s.add(r);let c=ri(s,a,n,o||n,r);return null!==c&&((!qe(o)||o===n||(c=ri(s,a,o,c,r),null!==c))&&Yr(Array.from(s),[""],i,o,(()=>function(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];if(Ce(i)&&ke(n))return n;return i}(e,n,r))))}function ri(t,e,n,r,i){for(;n;)n=ei(t,e,n,r,i);return n}function ii(t,e){for(const n of e){if(!n)continue;const e=n[t];if(qe(e))return e}}function oi(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function ai(t,e,n,r){const{iScale:i}=t,{key:o="r"}=this._parsing,a=new Array(r);let s,c,l,u;for(s=0,c=r;s<c;++s)l=s+n,u=e[l],a[s]={r:i.parse(Ve(u,o),l)};return a}const si=Number.EPSILON||1e-14,ci=(t,e)=>e<t.length&&!t[e].skip&&t[e],li=t=>"x"===t?"y":"x";function ui(t,e,n,r){const i=t.skip?e:t,o=e,a=n.skip?e:n,s=dn(o,i),c=dn(a,o);let l=s/(s+c),u=c/(s+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;const h=r*l,f=r*u;return{previous:{x:o.x-h*(a.x-i.x),y:o.y-h*(a.y-i.y)},next:{x:o.x+f*(a.x-i.x),y:o.y+f*(a.y-i.y)}}}function hi(t,e="x"){const n=li(e),r=t.length,i=Array(r).fill(0),o=Array(r);let a,s,c,l=ci(t,0);for(a=0;a<r;++a)if(s=c,c=l,l=ci(t,a+1),c){if(l){const t=l[e]-c[e];i[a]=0!==t?(l[n]-c[n])/t:0}o[a]=s?l?rn(i[a-1])!==rn(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(t,e,n){const r=t.length;let i,o,a,s,c,l=ci(t,0);for(let u=0;u<r-1;++u)c=l,l=ci(t,u+1),c&&l&&(sn(e[u],0,si)?n[u]=n[u+1]=0:(i=n[u]/e[u],o=n[u+1]/e[u],s=Math.pow(i,2)+Math.pow(o,2),s<=9||(a=3/Math.sqrt(s),n[u]=i*a*e[u],n[u+1]=o*a*e[u])))}(t,i,o),function(t,e,n="x"){const r=li(n),i=t.length;let o,a,s,c=ci(t,0);for(let l=0;l<i;++l){if(a=s,s=c,c=ci(t,l+1),!s)continue;const i=s[n],u=s[r];a&&(o=(i-a[n])/3,s[`cp1${n}`]=i-o,s[`cp1${r}`]=u-o*e[l]),c&&(o=(c[n]-i)/3,s[`cp2${n}`]=i+o,s[`cp2${r}`]=u+o*e[l])}}(t,o,e)}function fi(t,e,n){return Math.max(Math.min(t,n),e)}function di(t,e,n,r,i){let o,a,s,c;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)hi(t,i);else{let n=r?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)s=t[o],c=ui(n,s,t[Math.min(o+1,a-(r?0:1))%a],e.tension),s.cp1x=c.previous.x,s.cp1y=c.previous.y,s.cp2x=c.next.x,s.cp2y=c.next.y,n=s}e.capBezierPoints&&function(t,e){let n,r,i,o,a,s=Or(t[0],e);for(n=0,r=t.length;n<r;++n)a=o,o=s,s=n<r-1&&Or(t[n+1],e),o&&(i=t[n],a&&(i.cp1x=fi(i.cp1x,e.left,e.right),i.cp1y=fi(i.cp1y,e.top,e.bottom)),s&&(i.cp2x=fi(i.cp2x,e.left,e.right),i.cp2y=fi(i.cp2y,e.top,e.bottom)))}(t,n)}function pi(){return"undefined"!=typeof window&&"undefined"!=typeof document}function gi(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function mi(t,e,n){let r;return"string"==typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const yi=t=>window.getComputedStyle(t,null);const bi=["top","right","bottom","left"];function vi(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=bi[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function _i(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=yi(n),o="border-box"===i.boxSizing,a=vi(i,"padding"),s=vi(i,"border","width"),{x:c,y:l,box:u}=function(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=r;let a,s,c=!1;if(((t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot))(i,o,t.target))a=i,s=o;else{const t=e.getBoundingClientRect();a=r.clientX-t.left,s=r.clientY-t.top,c=!0}return{x:a,y:s,box:c}}(t,n),h=a.left+(u&&s.left),f=a.top+(u&&s.top);let{width:d,height:p}=e;return o&&(d-=a.width+s.width,p-=a.height+s.height),{x:Math.round((c-h)/d*n.width/r),y:Math.round((l-f)/p*n.height/r)}}const xi=t=>Math.round(10*t)/10;function wi(t,e,n,r){const i=yi(t),o=vi(i,"margin"),a=mi(i.maxWidth,t,"clientWidth")||Ze,s=mi(i.maxHeight,t,"clientHeight")||Ze,c=function(t,e,n){let r,i;if(e===undefined||n===undefined){const o=gi(t);if(o){const t=o.getBoundingClientRect(),a=yi(o),s=vi(a,"border","width"),c=vi(a,"padding");e=t.width-c.width-s.width,n=t.height-c.height-s.height,r=mi(a.maxWidth,o,"clientWidth"),i=mi(a.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||Ze,maxHeight:i||Ze}}(t,e,n);let{width:l,height:u}=c;if("content-box"===i.boxSizing){const t=vi(i,"border","width"),e=vi(i,"padding");l-=e.width+t.width,u-=e.height+t.height}return l=Math.max(0,l-o.width),u=Math.max(0,r?Math.floor(l/r):u-o.height),l=xi(Math.min(l,a,c.maxWidth)),u=xi(Math.min(u,s,c.maxHeight)),l&&!u&&(u=xi(l/2)),{width:l,height:u}}function Ei(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=i/r,t.width=o/r;const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==r||a.height!==i||a.width!==o)&&(t.currentDevicePixelRatio=r,a.height=i,a.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0)}const Si=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return t}();function Mi(t,e){const n=function(t,e){return yi(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:undefined}function Ti(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Ci(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function ki(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=Ti(t,i,n),s=Ti(i,o,n),c=Ti(o,e,n),l=Ti(a,s,n),u=Ti(s,c,n);return Ti(l,u,n)}const Oi=new Map;function Ri(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Oi.get(n);return r||(r=new Intl.NumberFormat(t,e),Oi.set(n,r)),r}(e,n).format(t)}function Ai(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Ni(t,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Di(t,e){e!==undefined&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Pi(t){return"angle"===t?{between:mn,compare:pn,normalize:gn}:{between:bn,compare:(t,e)=>t-e,normalize:t=>t}}function Ii({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n==0,style:i}}function Li(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,a=e.length,{compare:s,between:c,normalize:l}=Pi(r),{start:u,end:h,loop:f,style:d}=function(t,e,n){const{property:r,start:i,end:o}=n,{between:a,normalize:s}=Pi(r),c=e.length;let l,u,{start:h,end:f,loop:d}=t;if(d){for(h+=c,f+=c,l=0,u=c;l<u&&a(s(e[h%c][r]),i,o);++l)h--,f--;h%=c,f%=c}return f<h&&(f+=c),{start:h,end:f,loop:d,style:t.style}}(t,e,n),p=[];let g,m,y,b=!1,v=null;const _=()=>b||c(i,y,g)&&0!==s(i,y),x=()=>!b||0===s(o,g)||c(o,y,g);for(let t=u,n=u;t<=h;++t)m=e[t%a],m.skip||(g=l(m[r]),g!==y&&(b=c(g,i,o),null===v&&_()&&(v=0===s(g,i)?t:n),null!==v&&x()&&(p.push(Ii({start:v,end:t,loop:f,count:a,style:d})),v=null),n=t,y=g));return null!==v&&p.push(Ii({start:v,end:h,loop:f,count:a,style:d})),p}function ji(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=Li(r[i],t.points,e);o.length&&n.push(...o)}return n}function Fi(t,e,n,r){return r&&r.setContext&&n?function(t,e,n,r){const i=t._chart.getContext(),o=Bi(t.options),{_datasetIndex:a,options:{spanGaps:s}}=t,c=n.length,l=[];let u=o,h=e[0].start,f=h;function d(t,e,r,i){const o=s?-1:1;if(t!==e){for(t+=c;n[t%c].skip;)t-=o;for(;n[e%c].skip;)e+=o;t%c!=e%c&&(l.push({start:t%c,end:e%c,loop:r,style:i}),u=i,h=e%c)}}for(const t of e){h=s?h:t.start;let e,o=n[h%c];for(f=h+1;f<=t.end;f++){const s=n[f%c];e=Bi(r.setContext(Gr(i,{type:"segment",p0:o,p1:s,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:a}))),zi(e,u)&&d(h,f-1,t.loop,u),o=s,u=e}h<f-1&&d(h,f-1,t.loop,u)}return l}(t,e,n,r):e}function Bi(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function zi(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}var Hi=new
/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */
class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=undefined}_notify(t,e,n,r){const i=e.listeners[r],o=e.duration;i.forEach((r=>r({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=Mn.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o,a=i.length-1,s=!1;for(;a>=0;--a)o=i[a],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(t),s=!0):(i[a]=i[i.length-1],i.pop());s&&(r.draw(),this._notify(r,n,t,"progress")),i.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=i.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts["delete"](t)}};const Ui="transparent",Vi={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const r=mr(t||Ui),i=r.valid&&mr(e||Ui);return i&&i.valid?i.mix(r,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class Wi{constructor(t,e,n,r){const i=e[n];r=qr([t.to,r,i,t.from]);const o=qr([t.from,i,r]);this._active=!0,this._fn=t.fn||Vi[t.type||typeof o],this._easing=Pn[t.easing]||Pn.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=r,this._promises=undefined}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=qr([t.to,e,r,t.from]),this._from=qr([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let s;if(this._active=i!==a&&(o||e<n),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=i:(s=e/n%2,s=o&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[r]=this._fn(i,a,s))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let t=0;t<n.length;t++)n[t][e]()}}wr.set("animation",{delay:undefined,duration:1e3,easing:"easeOutQuart",fn:undefined,from:undefined,loop:undefined,to:undefined,type:undefined});const qi=Object.keys(wr.animation);wr.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),wr.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),wr.describe("animations",{_fallback:"animation"}),wr.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class Gi{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ke(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const r=t[n];if(!ke(r))return;const i={};for(const t of qi)i[t]=r[t];(Ce(r.properties)&&r.properties||[n]).forEach((t=>{t!==n&&e.has(t)||e.set(t,i)}))}))}_animateOptions(t,e){const n=e.options,r=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(t,e){const n=[],r=Object.keys(e);for(let e=0;e<r.length;e++){const i=t[r[e]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),i}_createAnimations(t,e){const n=this._properties,r=[],i=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let s;for(s=o.length-1;s>=0;--s){const c=o[s];if("$"===c.charAt(0))continue;if("options"===c){r.push(...this._animateOptions(t,e));continue}const l=e[c];let u=i[c];const h=n.get(c);if(u){if(h&&u.active()){u.update(h,l,a);continue}u.cancel()}h&&h.duration?(i[c]=u=new Wi(h,t,c,l),r.push(u)):t[c]=l}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(Hi.add(this._chart,n),!0):void 0}}function Yi(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===undefined?e:0,o=n.max===undefined?e:0;return{start:r?o:i,end:r?i:o}}function $i(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function Ki(t,e,n,r={}){const i=t.keys,o="single"===r.mode;let a,s,c,l;if(null!==e){for(a=0,s=i.length;a<s;++a){if(c=+i[a],c===n){if(r.all)continue;break}l=t.values[c],Oe(l)&&(o||0===e||rn(e)===rn(l))&&(e+=l)}return e}}function Xi(t,e){const n=t&&t.options.stacked;return n||n===undefined&&e.stack!==undefined}function Zi(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Ji(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const e=t[i.index];if(n&&e>0||!n&&e<0)return i.index}return null}function Qi(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:s}=r,c=o.axis,l=a.axis,u=function(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}(o,a,r),h=e.length;let f;for(let t=0;t<h;++t){const n=e[t],{[c]:o,[l]:h}=n;f=(n._stacks||(n._stacks={}))[l]=Zi(i,u,o),f[s]=h,f._top=Ji(f,a,!0,r.type),f._bottom=Ji(f,a,!1,r.type)}}function to(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function eo(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||e[r]===undefined||e[r][n]===undefined)return;delete e[r][n]}}}const no=t=>"reset"===t||"none"===t,ro=(t,e)=>e?t:Object.assign({},t);class io{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=undefined,this._parsing=!1,this._data=undefined,this._objectData=undefined,this._sharedOptions=undefined,this._drawStart=undefined,this._drawCount=undefined,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=undefined,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Xi(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&eo(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(t,e,n,r)=>"x"===t?e:"r"===t?r:n,i=e.xAxisID=Ae(n.xAxisID,to(t,"x")),o=e.yAxisID=Ae(n.yAxisID,to(t,"y")),a=e.rAxisID=Ae(n.rAxisID,to(t,"r")),s=e.indexAxis,c=e.iAxisID=r(s,i,o,a),l=e.vAxisID=r(s,o,i,a);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&En(this._data,this),t._stacked&&eo(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(ke(e))this._data=function(t){const e=Object.keys(t),n=new Array(e.length);let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],n[r]={x:o,y:t[o]};return n}(e);else if(n!==e){if(n){En(n,this);const t=this._cachedMeta;eo(t),t._parsed=[]}e&&Object.isExtensible(e)&&(i=this,(r=e)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),wn.forEach((t=>{const e="_onData"+We(t),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...t){const i=n.apply(this,t);return r._chartjs.listeners.forEach((n=>{"function"==typeof n[e]&&n[e](...t)})),i}})})))),this._syncList=[],this._data=e}var r,i}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=e._stacked;e._stacked=Xi(e.vScale,e),e.stack!==n.stack&&(r=!0,eo(e),e.stack=n.stack),this._resyncElements(t),(r||i!==e._stacked)&&Qi(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:o}=n,a=i.axis;let s,c,l,u=0===t&&e===r.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,l=r;else{l=Ce(r[t])?this.parseArrayData(n,r,t,e):ke(r[t])?this.parseObjectData(n,r,t,e):this.parsePrimitiveData(n,r,t,e);const i=()=>null===c[a]||h&&c[a]<h[a];for(s=0;s<e;++s)n._parsed[s+t]=c=l[s],u&&(i()&&(u=!1),h=c);n._sorted=u}o&&Qi(this,l)}parsePrimitiveData(t,e,n,r){const{iScale:i,vScale:o}=t,a=i.axis,s=o.axis,c=i.getLabels(),l=i===o,u=new Array(r);let h,f,d;for(h=0,f=r;h<f;++h)d=h+n,u[h]={[a]:l||i.parse(c[d],d),[s]:o.parse(e[d],d)};return u}parseArrayData(t,e,n,r){const{xScale:i,yScale:o}=t,a=new Array(r);let s,c,l,u;for(s=0,c=r;s<c;++s)l=s+n,u=e[l],a[s]={x:i.parse(u[0],l),y:o.parse(u[1],l)};return a}parseObjectData(t,e,n,r){const{xScale:i,yScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,c=new Array(r);let l,u,h,f;for(l=0,u=r;l<u;++l)h=l+n,f=e[h],c[l]={x:i.parse(Ve(f,a),h),y:o.parse(Ve(f,s),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,i=this._cachedMeta,o=e[t.axis];return Ki({keys:$i(r,!0),values:e._stacks[t.axis]},o,i.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const i=n[e.axis];let o=null===i?NaN:i;const a=r&&n._stacks[e.axis];r&&a&&(r.values=a,o=Ki(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&t===n.iScale,o=r.length,a=this._getOtherScale(t),s=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:$i(n,!0),values:null})(e,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:u}=function(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let h,f;function d(){f=r[h];const e=f[a.axis];return!Oe(f[t.axis])||l>e||u<e}for(h=0;h<o&&(d()||(this.updateRangeFromParsed(c,t,f,s),!i));++h);if(i)for(h=o-1;h>=0;--h)if(!d()){this.updateRangeFromParsed(c,t,f,s);break}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r][t.axis],Oe(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,r,i;return ke(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}(Ae(this.options.clip,function(t,e,n){if(!1===n)return!1;const r=Yi(t,n),i=Yi(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,r=n.data||[],i=e.chartArea,o=[],a=this._drawStart||0,s=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let l;for(n.dataset&&n.dataset.draw(t,i,a,s),l=a;l<a+s;++l){const e=r[l];e.hidden||(e.active&&c?o.push(e):e.draw(t,i))}for(l=0;l<o.length;++l)o[l].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return t===undefined&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=function(t,e,n){return Gr(t,{active:!1,dataIndex:e,parsed:undefined,raw:undefined,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=function(t,e){return Gr(t,{active:!1,dataset:undefined,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const r="active"===e,i=this._cachedDataOpts,o=t+"-"+e,a=i[o],s=this.enableOptionSharing&&qe(n);if(a)return ro(a,s);const c=this.chart.config,l=c.datasetElementScopeKeys(this._type,t),u=r?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),l),f=Object.keys(wr.elements[t]),d=c.resolveNamedOptions(h,f,(()=>this.getContext(n,r)),u);return d.$shared&&(d.$shared=s,i[o]=Object.freeze(ro(d,s))),d}_resolveAnimations(t,e,n){const r=this.chart,i=this._cachedDataOpts,o=`animation-${e}`,a=i[o];if(a)return a;let s;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,e),o=r.getOptionScopes(this.getDataset(),i);s=r.createResolver(o,this.getContext(t,n,e))}const c=new Gi(r,s&&s.animations);return s&&s._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||no(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(e,i)||i!==r;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:o}}updateElement(t,e,n,r){no(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!no(e)&&this._resolveAnimations(undefined,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,undefined,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,undefined,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[t,e,n]of this._syncList)this[t](e,n);this._syncList=[];const r=n.length,i=e.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,e,n=!0){const r=this._cachedMeta,i=r.data,o=t+e;let a;const s=t=>{for(t.length+=e,a=t.length-1;a>=o;a--)t[a]=t[a-e]};for(s(i),a=t;a<o;++a)i[a]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&eo(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function oo(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let e=0,i=n.length;e<i;e++)r=r.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=Sn(r.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let r,i,o,a,s=e._length;const c=()=>{32767!==o&&-32768!==o&&(qe(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),c();for(a=undefined,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),c();return s}function ao(t,e,n,r){return Ce(t)?function(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),a=Math.min(i,o),s=Math.max(i,o);let c=a,l=s;Math.abs(a)>Math.abs(s)&&(c=s,l=a),e[n.axis]=l,e._custom={barStart:c,barEnd:l,start:i,end:o,min:a,max:s}}(t,e,n,r):e[n.axis]=n.parse(t,r),e}function so(t,e,n,r){const i=t.iScale,o=t.vScale,a=i.getLabels(),s=i===o,c=[];let l,u,h,f;for(l=n,u=n+r;l<u;++l)f=e[l],h={},h[i.axis]=s||i.parse(a[l],l),c.push(ao(f,h,o,l));return c}function co(t){return t&&t.barStart!==undefined&&t.barEnd!==undefined}function lo(t,e,n,r){let i=e.borderSkipped;const o={};if(!i)return void(t.borderSkipped=o);if(!0===i)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:s,reverse:c,top:l,bottom:u}=function(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}(t);"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=l:(n._bottom||0)===r?i=u:(o[uo(u,a,s,c)]=!0,i=l)),o[uo(i,a,s,c)]=!0,t.borderSkipped=o}function uo(t,e,n,r){var i,o,a;return r?(a=n,t=ho(t=(i=t)===(o=e)?a:i===a?o:i,n,e)):t=ho(t,e,n),t}function ho(t,e,n){return"start"===t?e:"end"===t?n:t}function fo(t,{inflateAmount:e},n){t.inflateAmount="auto"===e?1===n?.33:0:e}io.defaults={},io.prototype.datasetElementType=null,io.prototype.dataElementType=null;class po extends io{parsePrimitiveData(t,e,n,r){return so(t,e,n,r)}parseArrayData(t,e,n,r){return so(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:i,vScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,c="x"===i.axis?a:s,l="x"===o.axis?a:s,u=[];let h,f,d,p;for(h=n,f=n+r;h<f;++h)p=e[h],d={},d[i.axis]=i.parse(Ve(p,c),h),u.push(ao(Ve(p,l),d,o,h));return u}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:r}=e,i=this.getParsed(t),o=i._custom,a=co(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,r){const i="reset"===r,{index:o,_cachedMeta:{vScale:a}}=this,s=a.getBasePixel(),c=a.isHorizontal(),l=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,r);for(let f=e;f<e+n;f++){const e=this.getParsed(f),n=i||Te(e[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(f),d=this._calculateBarIndexPixels(f,l),p=(e._stacks||{})[a.axis],g={horizontal:c,base:n.base,enableBorderRadius:!p||co(e._custom)||o===p._top||o===p._bottom,x:c?n.head:d.center,y:c?d.center:n.head,height:c?d.size:Math.abs(n.size),width:c?Math.abs(n.size):d.size};h&&(g.options=u||this.resolveDataElementOptions(f,t[f].active?"active":r));const m=g.options||t[f].options;lo(g,m,p,o),fo(g,m,l.ratio),this.updateElement(t[f],f,g,r)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),i=n.options.stacked,o=[],a=t=>{const n=t.controller.getParsed(e),r=n&&n[t.vScale.axis];if(Te(r)||isNaN(r))return!0};for(const n of r)if((e===undefined||!a(n))&&((!1===i||-1===o.indexOf(n.stack)||i===undefined&&n.stack===undefined)&&o.push(n.stack),n.index===t))break;return o.length||o.push(undefined),o}_getStackCount(t){return this._getStacks(undefined,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),i=e!==undefined?r.indexOf(e):-1;return-1===i?r.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,r=[];let i,o;for(i=0,o=e.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=t.barThickness;return{min:a||oo(e),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n},options:{base:r,minBarLength:i}}=this,o=r||0,a=this.getParsed(t),s=a._custom,c=co(s);let l,u,h=a[e.axis],f=0,d=n?this.applyStack(e,a,n):h;d!==h&&(f=d-h,d=h),c&&(h=s.barStart,d=s.barEnd-s.barStart,0!==h&&rn(h)!==rn(s.barEnd)&&(f=0),f+=h);const p=Te(r)||c?f:r;let g=e.getPixelForValue(p);if(l=this.chart.getDataVisibility(t)?e.getPixelForValue(f+d):g,u=l-g,Math.abs(u)<i){u=function(t,e,n){return 0!==t?rn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(u,e,o)*i,h===o&&(g-=u/2);const t=e.getPixelForDecimal(0),n=e.getPixelForDecimal(1),r=Math.min(t,n),a=Math.max(t,n);g=Math.max(Math.min(g,a),r),l=g+u}if(g===e.getPixelForValue(o)){const t=rn(u)*e.getLineWidthForValue(o)/2;g+=t,u-=t}return{size:u,base:g,head:l,center:l+u/2}}_calculateBarIndexPixels(t,e){const n=e.scale,r=this.options,i=r.skipNull,o=Ae(r.maxBarThickness,Infinity);let a,s;if(e.grouped){const n=i?this._getStackCount(t):e.stackCount,c="flex"===r.barThickness?function(t,e,n,r){const i=e.pixels,o=i[t];let a=t>0?i[t-1]:null,s=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;null===a&&(a=o-(null===s?e.end-e.start:s-o)),null===s&&(s=o+o-a);const l=o-(o-Math.min(a,s))/2*c;return{chunk:Math.abs(s-a)/2*c/r,ratio:n.barPercentage,start:l}}(t,e,r,n):function(t,e,n,r){const i=n.barThickness;let o,a;return Te(i)?(o=e.min*n.categoryPercentage,a=n.barPercentage):(o=i*r,a=1),{chunk:o/r,ratio:a,start:e.pixels[t]-o/2}}(t,e,r,n),l=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:undefined);a=c.start+c.chunk*l+c.chunk/2,s=Math.min(o,c.chunk*c.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),s=Math.min(o,e.min*e.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,r=n.length;let i=0;for(;i<r;++i)null!==this.getParsed(i)[e.axis]&&n[i].draw(this._ctx)}}po.id="bar",po.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},po.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class go extends io{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,r){const i=super.parsePrimitiveData(t,e,n,r);for(let t=0;t<i.length;t++)i[t]._custom=this.resolveDataElementOptions(t+n).radius;return i}parseArrayData(t,e,n,r){const i=super.parseArrayData(t,e,n,r);for(let t=0;t<i.length;t++){const r=e[n+t];i[t]._custom=Ae(r[2],this.resolveDataElementOptions(t+n).radius)}return i}parseObjectData(t,e,n,r){const i=super.parseObjectData(t,e,n,r);for(let t=0;t<i.length;t++){const r=e[n+t];i[t]._custom=Ae(r&&r.r&&+r.r,this.resolveDataElementOptions(t+n).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,{xScale:n,yScale:r}=e,i=this.getParsed(t),o=n.getLabelForValue(i.x),a=r.getLabelForValue(i.y),s=i._custom;return{label:e.label,value:"("+o+", "+a+(s?", "+s:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:s,includeOptions:c}=this._getSharedOptions(e,r),l=o.axis,u=a.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!i&&this.getParsed(h),f={},d=f[l]=i?o.getPixelForDecimal(.5):o.getPixelForValue(n[l]),p=f[u]=i?a.getBasePixel():a.getPixelForValue(n[u]);f.skip=isNaN(d)||isNaN(p),c&&(f.options=s||this.resolveDataElementOptions(h,e.active?"active":r),i&&(f.options.radius=0)),this.updateElement(e,h,f,r)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==e&&(r.radius=0),r.radius+=Ae(n&&n._custom,i),r}}go.id="bubble",go.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},go.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class mo extends io{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=undefined,this.outerRadius=undefined,this.offsetX=undefined,this.offsetY=undefined}linkScales(){}parse(t,e){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,o,a=t=>+n[t];if(ke(n[t])){const{key:t="value"}=this._parsing;a=e=>+Ve(n[e],t)}for(i=t,o=t+e;i<o;++i)r._parsed[i]=a(i)}}_getRotation(){return ln(this.options.rotation-90)}_getCircumference(){return ln(this.options.circumference)}_getRotationExtents(){let t=Ke,e=-Ke;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();t=Math.min(t,i),e=Math.max(e,i+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),s=Math.min(((t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:t/e)(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:l,rotation:u}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:d,offsetY:p}=function(t,e,n){let r=1,i=1,o=0,a=0;if(e<Ke){const s=t,c=s+e,l=Math.cos(s),u=Math.sin(s),h=Math.cos(c),f=Math.sin(c),d=(t,e,r)=>mn(t,s,c,!0)?1:Math.max(e,e*n,r,r*n),p=(t,e,r)=>mn(t,s,c,!0)?-1:Math.min(e,e*n,r,r*n),g=d(0,l,h),m=d(Qe,u,f),y=p($e,l,h),b=p($e+Qe,u,f);r=(g-y)/2,i=(m-b)/2,o=-(g+y)/2,a=-(m+b)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:a}}(u,l,s),g=(n.width-o)/h,m=(n.height-o)/f,y=Math.max(Math.min(g,m)/2,0),b=Ne(this.options.radius,y),v=(b-Math.max(b*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=d*b,this.offsetY=p*b,r.total=this.calculateTotal(),this.outerRadius=b-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*c,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/Ke)}updateElements(t,e,n,r){const i="reset"===r,o=this.chart,a=o.chartArea,s=o.options.animation,c=(a.left+a.right)/2,l=(a.top+a.bottom)/2,u=i&&s.animateScale,h=u?0:this.innerRadius,f=u?0:this.outerRadius,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(e,r);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,i);for(g=e;g<e+n;++g){const e=this._circumference(g,i),n=t[g],o={x:c+this.offsetX,y:l+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:f,innerRadius:h};p&&(o.options=d||this.resolveDataElementOptions(g,n.active?"active":r)),m+=e,this.updateElement(n,g,o,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,r=0;for(n=0;n<e.length;n++){const i=t._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||e[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Ke*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Ri(e._parsed[t],n.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const n=this.chart;let r,i,o,a,s;if(!t)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),t=o.data,a=o.controller;break}if(!t)return 0;for(r=0,i=t.length;r<i;++r)s=a.resolveDataElementOptions(r),"inner"!==s.borderAlign&&(e=Math.max(e,s.borderWidth||0,s.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,r=t.length;n<r;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(Ae(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}mo.id="doughnut",mo.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},mo.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},mo.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,r)=>{const i=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const n=": "+t.formattedValue;return Ce(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class yo extends io{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=e,o=this.chart._animationsDisabled;let{start:a,count:s}=On(e,r,o);this._drawStart=a,this._drawCount=s,Rn(e)&&(a=0,s=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,undefined,{animated:!o,options:c},t),this.updateElements(r,a,s,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a,_stacked:s,_dataset:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(e,r),h=o.axis,f=a.axis,{spanGaps:d,segment:p}=this.options,g=an(d)?d:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||"none"===r;let y=e>0&&this.getParsed(e-1);for(let d=e;d<e+n;++d){const e=t[d],n=this.getParsed(d),b=m?e:{},v=Te(n[f]),_=b[h]=o.getPixelForValue(n[h],d),x=b[f]=i||v?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,n,s):n[f],d);b.skip=isNaN(_)||isNaN(x)||v,b.stop=d>0&&Math.abs(n[h]-y[h])>g,p&&(b.parsed=n,b.raw=c.data[d]),u&&(b.options=l||this.resolveDataElementOptions(d,e.active?"active":r)),m||this.updateElement(e,d,b,r),y=n}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}yo.id="line",yo.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},yo.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class bo extends io{constructor(t,e){super(t,e),this.innerRadius=undefined,this.outerRadius=undefined}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Ri(e._parsed[t].r,n.options.locale);return{label:r[t]||"",value:i}}parseObjectData(t,e,n,r){return ai.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(r/2,0),o=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,n,r){const i="reset"===r,o=this.chart,a=o.options.animation,s=this._cachedMeta.rScale,c=s.xCenter,l=s.yCenter,u=s.getIndexAngle(0)-.5*$e;let h,f=u;const d=360/this.countVisibleElements();for(h=0;h<e;++h)f+=this._computeAngle(h,r,d);for(h=e;h<e+n;h++){const e=t[h];let n=f,p=f+this._computeAngle(h,r,d),g=o.getDataVisibility(h)?s.getDistanceFromCenterForValue(this.getParsed(h).r):0;f=p,i&&(a.animateScale&&(g=0),a.animateRotate&&(n=p=u));const m={x:c,y:l,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":r)};this.updateElement(e,h,m,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?ln(this.resolveDataElementOptions(t,e).angle||n):0}}bo.id="polarArea",bo.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},bo.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,r)=>{const i=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class vo extends mo{}vo.id="pie",vo.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class _o extends io{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,r){return ai.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta,n=e.dataset,r=e.data||[],i=e.iScale.getLabels();if(n.points=r,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===r.length,options:e};this.updateElement(n,undefined,o,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,n,r){const i=this._cachedMeta.rScale,o="reset"===r;for(let a=e;a<e+n;a++){const e=t[a],n=this.resolveDataElementOptions(a,e.active?"active":r),s=i.getPointPositionForValue(a,this.getParsed(a).r),c=o?i.xCenter:s.x,l=o?i.yCenter:s.y,u={x:c,y:l,angle:s.angle,skip:isNaN(c)||isNaN(l),options:n};this.updateElement(e,a,u,r)}}}_o.id="radar",_o.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},_o.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class xo{constructor(){this.x=undefined,this.y=undefined,this.active=!1,this.options=undefined,this.$animations=undefined}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return an(this.x)&&an(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach((t=>{r[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),r}}xo.defaults={},xo.defaultRoutes=undefined;const wo={values:t=>Ce(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),o=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const a=nn(Math.abs(o)),s=Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(c,this.options.ticks.format),Ri(t,r,c)},logarithmic(t,e,n){if(0===t)return"0";const r=t/Math.pow(10,Math.floor(nn(t)));return 1===r||2===r||5===r?wo.numeric.call(this,t,e,n):""}};var Eo={formatters:wo};function So(t,e){const n=t.options.ticks,r=n.maxTicksLimit||function(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}(t),i=n.major.enabled?function(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}(e):[],o=i.length,a=i[0],s=i[o-1],c=[];if(o>r)return function(t,e,n,r){let i,o=0,a=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===a&&(e.push(t[i]),o++,a=n[o*r])}(e,c,i,o/r),c;const l=function(t,e,n){const r=function(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}(t),i=e.length/n;if(!r)return Math.max(i,1);const o=function(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r==0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(r);for(let t=0,e=o.length-1;t<e;t++){const e=o[t];if(e>i)return e}return Math.max(i,1)}(i,e,r);if(o>0){let t,n;const r=o>1?Math.round((s-a)/(o-1)):null;for(Mo(e,c,l,Te(r)?0:a-r,a),t=0,n=o-1;t<n;t++)Mo(e,c,l,i[t],i[t+1]);return Mo(e,c,l,s,Te(r)?e.length:s+r),c}return Mo(e,c,l),c}function Mo(t,e,n,r,i){const o=Ae(r,0),a=Math.min(Ae(i,t.length),t.length);let s,c,l,u=0;for(n=Math.ceil(n),i&&(s=i-r,n=s/Math.floor(s/n)),l=o;l<0;)u++,l=Math.round(o+u*n);for(c=Math.max(o,0);c<a;c++)c===l&&(e.push(t[c]),u++,l=Math.round(o+u*n))}wr.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Eo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),wr.route("scale.ticks","color","","color"),wr.route("scale.grid","color","","borderColor"),wr.route("scale.grid","borderColor","","borderColor"),wr.route("scale.title","color","","color"),wr.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),wr.describe("scales",{_fallback:"scale"}),wr.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const To=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n;function Co(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function ko(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,a=t._endPixel,s=1e-6;let c,l=t.getPixelForTick(i);if(!(n&&(c=1===r?Math.max(l-o,a-l):0===e?(t.getPixelForTick(1)-l)/2:(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<o-s||l>a+s)))return l}function Oo(t){return t.drawTicks?t.tickLength:0}function Ro(t,e){if(!t.display)return 0;const n=Wr(t.font,e),r=Vr(t.padding);return(Ce(t.text)?t.text.length:1)*n.lineHeight+r.height}function Ao(t,e,n){let r=Cn(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=(t=>"left"===t?"right":"right"===t?"left":t)(r)),r}class No extends xo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=undefined,this.ctx=t.ctx,this.chart=t.chart,this.top=undefined,this.bottom=undefined,this.left=undefined,this.right=undefined,this.width=undefined,this.height=undefined,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=undefined,this.maxHeight=undefined,this.paddingTop=undefined,this.paddingBottom=undefined,this.paddingLeft=undefined,this.paddingRight=undefined,this.axis=undefined,this.labelRotation=undefined,this.min=undefined,this.max=undefined,this._range=undefined,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=undefined,this._endPixel=undefined,this._reversePixels=!1,this._userMax=undefined,this._userMin=undefined,this._suggestedMax=undefined,this._suggestedMin=undefined,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=undefined}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=Re(t,Number.POSITIVE_INFINITY),e=Re(e,Number.NEGATIVE_INFINITY),n=Re(n,Number.POSITIVE_INFINITY),r=Re(r,Number.NEGATIVE_INFINITY),{min:Re(t,n),max:Re(e,r),minDefined:Oe(t),maxDefined:Oe(e)}}getMinMax(t){let e,{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds();if(i&&o)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let s=0,c=a.length;s<c;++s)e=a[s].controller.getMinMax(this,t),i||(n=Math.min(n,e.min)),o||(r=Math.max(r,e.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:Re(n,Re(r,n)),max:Re(r,Re(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){De(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:r,max:i}=t,o=Ne(e,(i-r)/2),a=(t,e)=>n&&0===t?0:t+e;return{min:a(r,-Math.abs(o)),max:a(i,o)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=a<this.ticks.length;this._convertTicksToLabels(s?Co(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=So(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){De(this.options.afterUpdate,[this])}beforeSetDimensions(){De(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){De(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),De(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){De(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],i.label=De(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){De(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){De(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=this.ticks.length,r=e.minRotation||0,i=e.maxRotation;let o,a,s,c=r;if(!this._isVisible()||!e.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const l=this._getLabelSizes(),u=l.widest.width,h=l.highest.height,f=yn(this.chart.width-u,0,this.maxWidth);o=t.offset?this.maxWidth/n:f/(n-1),u+6>o&&(o=f/(n-(t.offset?.5:1)),a=this.maxHeight-Oo(t.grid)-e.padding-Ro(t.title,this.chart.options.font),s=Math.sqrt(u*u+h*h),c=un(Math.min(Math.asin(yn((l.highest.height+6)/o,-1,1)),Math.asin(yn(a/s,-1,1))-Math.asin(yn(h/s,-1,1)))),c=Math.max(r,Math.min(i,c))),this.labelRotation=c}afterCalculateLabelRotation(){De(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){De(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const o=Ro(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=Oo(i)+o):(t.height=this.maxHeight,t.width=Oo(i)+o),n.display&&this.ticks.length){const{first:e,last:r,widest:i,highest:o}=this._getLabelSizes(),s=2*n.padding,c=ln(this.labelRotation),l=Math.cos(c),u=Math.sin(c);if(a){const e=n.mirror?0:u*i.width+l*o.height;t.height=Math.min(this.maxHeight,t.height+e+s)}else{const e=n.mirror?0:l*i.width+u*o.height;t.width=Math.min(this.maxWidth,t.width+e+s)}this._calculatePadding(e,r,u,l)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:i,padding:o},position:a}=this.options,s=0!==this.labelRotation,c="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,l=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;s?c?(u=r*t.width,h=n*e.height):(u=n*t.height,h=r*e.width):"start"===i?h=e.width:"end"===i?u=t.width:"inner"!==i&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((h-l+o)*this.width/(this.width-l),0)}else{let n=e.height/2,r=t.height/2;"start"===i?(n=0,r=t.height):"end"===i&&(n=e.height,r=0),this.paddingTop=n+o,this.paddingBottom=r+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){De(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Te(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Co(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length)}return t}_computeLabelSizes(t,e){const{ctx:n,_longestTextCache:r}=this,i=[],o=[];let a,s,c,l,u,h,f,d,p,g,m,y=0,b=0;for(a=0;a<e;++a){if(l=t[a].label,u=this._resolveTickFontOptions(a),n.font=h=u.string,f=r[h]=r[h]||{data:{},gc:[]},d=u.lineHeight,p=g=0,Te(l)||Ce(l)){if(Ce(l))for(s=0,c=l.length;s<c;++s)m=l[s],Te(m)||Ce(m)||(p=Er(n,f.data,f.gc,p,m),g+=d)}else p=Er(n,f.data,f.gc,p,l),g=d;i.push(p),o.push(g),y=Math.max(p,y),b=Math.max(g,b)}!function(t,e){Pe(t,(t=>{const n=t.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}}))}(r,e);const v=i.indexOf(y),_=o.indexOf(b),x=t=>({width:i[t]||0,height:o[t]||0});return{first:x(0),last:x(e-1),widest:x(v),highest:x(_),widths:i,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function(t){return yn(t,-32768,32767)}(this._alignToPixels?Mr(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return Gr(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=Gr(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=ln(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,s=i?i.highest.height+o:0;return this.isHorizontal()?s*n>a*r?a/n:s/r:s*r<a*n?s/n:a/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:i,position:o}=r,a=i.offset,s=this.isHorizontal(),c=this.ticks.length+(a?1:0),l=Oo(i),u=[],h=i.setContext(this.getContext()),f=h.drawBorder?h.borderWidth:0,d=f/2,p=function(t){return Mr(n,t,f)};let g,m,y,b,v,_,x,w,E,S,M,T;if("top"===o)g=p(this.bottom),_=this.bottom-l,w=g-d,S=p(t.top)+d,T=t.bottom;else if("bottom"===o)g=p(this.top),S=t.top,T=p(t.bottom)-d,_=g+d,w=this.top+l;else if("left"===o)g=p(this.right),v=this.right-l,x=g-d,E=p(t.left)+d,M=t.right;else if("right"===o)g=p(this.left),E=t.left,M=p(t.right)-d,v=g+d,x=this.left+l;else if("x"===e){if("center"===o)g=p((t.top+t.bottom)/2+.5);else if(ke(o)){const t=Object.keys(o)[0],e=o[t];g=p(this.chart.scales[t].getPixelForValue(e))}S=t.top,T=t.bottom,_=g+d,w=_+l}else if("y"===e){if("center"===o)g=p((t.left+t.right)/2);else if(ke(o)){const t=Object.keys(o)[0],e=o[t];g=p(this.chart.scales[t].getPixelForValue(e))}v=g-d,x=v-l,E=t.left,M=t.right}const C=Ae(r.ticks.maxTicksLimit,c),k=Math.max(1,Math.ceil(c/C));for(m=0;m<c;m+=k){const t=i.setContext(this.getContext(m)),e=t.lineWidth,r=t.color,o=t.borderDash||[],c=t.borderDashOffset,l=t.tickWidth,h=t.tickColor,f=t.tickBorderDash||[],d=t.tickBorderDashOffset;y=ko(this,m,a),y!==undefined&&(b=Mr(n,y,e),s?v=x=E=M=b:_=w=S=T=b,u.push({tx1:v,ty1:_,tx2:x,ty2:w,x1:E,y1:S,x2:M,y2:T,width:e,color:r,borderDash:o,borderDashOffset:c,tickWidth:l,tickColor:h,tickBorderDash:f,tickBorderDashOffset:d}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:i}=n,o=this.isHorizontal(),a=this.ticks,{align:s,crossAlign:c,padding:l,mirror:u}=i,h=Oo(n.grid),f=h+l,d=u?-l:f,p=-ln(this.labelRotation),g=[];let m,y,b,v,_,x,w,E,S,M,T,C,k="middle";if("top"===r)x=this.bottom-d,w=this._getXAxisLabelAlignment();else if("bottom"===r)x=this.top+d,w=this._getXAxisLabelAlignment();else if("left"===r){const t=this._getYAxisLabelAlignment(h);w=t.textAlign,_=t.x}else if("right"===r){const t=this._getYAxisLabelAlignment(h);w=t.textAlign,_=t.x}else if("x"===e){if("center"===r)x=(t.top+t.bottom)/2+f;else if(ke(r)){const t=Object.keys(r)[0],e=r[t];x=this.chart.scales[t].getPixelForValue(e)+f}w=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)_=(t.left+t.right)/2-f;else if(ke(r)){const t=Object.keys(r)[0],e=r[t];_=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===s?k="top":"end"===s&&(k="bottom"));const O=this._getLabelSizes();for(m=0,y=a.length;m<y;++m){b=a[m],v=b.label;const t=i.setContext(this.getContext(m));E=this.getPixelForTick(m)+i.labelOffset,S=this._resolveTickFontOptions(m),M=S.lineHeight,T=Ce(v)?v.length:1;const e=T/2,n=t.color,s=t.textStrokeColor,l=t.textStrokeWidth;let h,f=w;if(o?(_=E,"inner"===w&&(f=m===y-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),C="top"===r?"near"===c||0!==p?-T*M+M/2:"center"===c?-O.highest.height/2-e*M+M:-O.highest.height+M/2:"near"===c||0!==p?M/2:"center"===c?O.highest.height/2-e*M:O.highest.height-T*M,u&&(C*=-1)):(x=E,C=(1-T)*M/2),t.showLabelBackdrop){const e=Vr(t.backdropPadding),n=O.heights[m],r=O.widths[m];let i=x+C-e.top,o=_-e.left;switch(k){case"middle":i-=n/2;break;case"bottom":i-=n}switch(w){case"center":o-=r/2;break;case"right":o-=r}h={left:o,top:i,width:r+e.width,height:n+e.height,color:t.backdropColor}}g.push({rotation:p,label:v,font:S,color:n,strokeColor:s,strokeWidth:l,textOffset:C,textAlign:f,textBaseline:k,translation:[_,x],backdrop:h})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ln(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=t+i,a=this._getLabelSizes().widest.width;let s,c;return"left"===e?r?(c=this.right+i,"near"===n?s="left":"center"===n?(s="center",c+=a/2):(s="right",c+=a)):(c=this.right-o,"near"===n?s="right":"center"===n?(s="center",c-=a/2):(s="left",c=this.left)):"right"===e?r?(c=this.left+i,"near"===n?s="right":"center"===n?(s="center",c-=a/2):(s="left",c-=a)):(c=this.left+o,"near"===n?s="left":"center"===n?(s="center",c+=a/2):(s="right",c=this.right)):s="right",{textAlign:s,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:i,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const a=(t,e,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(i=0,o=r.length;i<o;++i){const t=r[i];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:n}}=this,r=n.setContext(this.getContext()),i=n.drawBorder?r.borderWidth:0;if(!i)return;const o=n.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let s,c,l,u;this.isHorizontal()?(s=Mr(t,this.left,i)-i/2,c=Mr(t,this.right,o)+o/2,l=u=a):(l=Mr(t,this.top,i)-i/2,u=Mr(t,this.bottom,o)+o/2,s=c=a),e.save(),e.lineWidth=r.borderWidth,e.strokeStyle=r.borderColor,e.beginPath(),e.moveTo(s,l),e.lineTo(c,u),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&Rr(e,n);const r=this._labelItems||(this._labelItems=this._computeLabelItems(t));let i,o;for(i=0,o=r.length;i<o;++i){const t=r[i],n=t.font,o=t.label;t.backdrop&&(e.fillStyle=t.backdrop.color,e.fillRect(t.backdrop.left,t.backdrop.top,t.backdrop.width,t.backdrop.height)),Pr(e,o,0,t.textOffset,n,t)}n&&Ar(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const i=Wr(n.font),o=Vr(n.padding),a=n.align;let s=i.lineHeight/2;"bottom"===e||"center"===e||ke(e)?(s+=o.bottom,Ce(n.text)&&(s+=i.lineHeight*(n.text.length-1))):s+=o.top;const{titleX:c,titleY:l,maxWidth:u,rotation:h}=function(t,e,n,r){const{top:i,left:o,bottom:a,right:s,chart:c}=t,{chartArea:l,scales:u}=c;let h,f,d,p=0;const g=a-i,m=s-o;if(t.isHorizontal()){if(f=kn(r,o,s),ke(n)){const t=Object.keys(n)[0],r=n[t];d=u[t].getPixelForValue(r)+g-e}else d="center"===n?(l.bottom+l.top)/2+g-e:To(t,n,e);h=s-o}else{if(ke(n)){const t=Object.keys(n)[0],r=n[t];f=u[t].getPixelForValue(r)-m+e}else f="center"===n?(l.left+l.right)/2-m+e:To(t,n,e);d=kn(r,a,i),p="left"===n?-Qe:Qe}return{titleX:f,titleY:d,maxWidth:h,rotation:p}}(this,s,e,a);Pr(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:Ao(a,e,r),textBaseline:"middle",translation:[c,l]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=Ae(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===No.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=e.length;i<o;++i){const o=e[i];o[n]!==this.id||t&&o.type!==t||r.push(o)}return r}_resolveTickFontOptions(t){return Wr(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Do{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const r=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,function(t,e,n){const r=Be(Object.create(null),[n?wr.get(n):{},wr.get(e),t.defaults]);wr.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),a=e[n].split("."),s=a.pop(),c=a.join(".");wr.route(o,i,c,s)}))}(e,t.defaultRoutes);t.descriptors&&wr.describe(e,t.descriptors)}(t,o,n),this.override&&wr.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in wr[r]&&(delete wr[r][n],this.override&&delete br[n])}}var Po=new class{constructor(){this.controllers=new Do(io,"datasets",!0),this.elements=new Do(xo,"elements"),this.plugins=new Do(Object,"plugins"),this.scales=new Do(No,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach((e=>{const r=n||this._getRegistryForType(e);n||r.isForType(e)||r===this.plugins&&e.id?this._exec(t,r,e):Pe(e,(e=>{const r=n||this._getRegistryForType(e);this._exec(t,r,e)}))}))}_exec(t,e,n){const r=We(t);De(n["before"+r],[],n),e[t](n),De(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(r===undefined)throw new Error('"'+t+'" is not a registered '+n+".");return r}};class Io extends io{update(t){const e=this._cachedMeta,{data:n=[]}=e,r=this.chart._animationsDisabled;let{start:i,count:o}=On(e,n,r);if(this._drawStart=i,this._drawCount=o,Rn(e)&&(i=0,o=n.length),this.options.showLine){const{dataset:i,_dataset:o}=e;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=n;const a=this.resolveDatasetElementOptions(t);a.segment=this.options.segment,this.updateElement(i,undefined,{animated:!r,options:a},t)}this.updateElements(n,i,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=Po.getElement("line")),super.addElements()}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a,_stacked:s,_dataset:c}=this._cachedMeta,l=this.resolveDataElementOptions(e,r),u=this.getSharedOptions(l),h=this.includeOptions(r,u),f=o.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,m=an(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||"none"===r;let b=e>0&&this.getParsed(e-1);for(let l=e;l<e+n;++l){const e=t[l],n=this.getParsed(l),p=y?e:{},v=Te(n[d]),_=p[f]=o.getPixelForValue(n[f],l),x=p[d]=i||v?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,n,s):n[d],l);p.skip=isNaN(_)||isNaN(x)||v,p.stop=l>0&&Math.abs(n[f]-b[f])>m,g&&(p.parsed=n,p.raw=c.data[l]),h&&(p.options=u||this.resolveDataElementOptions(l,e.active?"active":r)),y||this.updateElement(e,l,p,r),b=n}this.updateSharedOptions(u,r,l)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,r=n.options&&n.options.borderWidth||0;if(!e.length)return r;const i=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,i,o)/2}}Io.id="scatter",Io.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},Io.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function Lo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class jo{constructor(t){this.options=t||{}}init(t){}formats(){return Lo()}parse(t,e){return Lo()}format(t,e){return Lo()}add(t,e,n){return Lo()}diff(t,e,n){return Lo()}startOf(t,e,n){return Lo()}endOf(t,e){return Lo()}}jo.override=function(t){Object.assign(jo.prototype,t)};var Fo={_date:jo};function Bo(t,e,n,r){const{controller:i,data:o,_sorted:a}=t,s=i._cachedMeta.iScale;if(s&&e===s.axis&&"r"!==e&&a&&o.length){const t=s._reversePixels?xn:_n;if(!r)return t(o,e,n);if(i._sharedOptions){const r=o[0],i="function"==typeof r.getRange&&r.getRange(e);if(i){const r=t(o,e,n-i),a=t(o,e,n+i);return{lo:r.lo,hi:a.hi}}}}return{lo:0,hi:o.length-1}}function zo(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),a=n[e];for(let t=0,n=o.length;t<n;++t){const{index:n,data:s}=o[t],{lo:c,hi:l}=Bo(o[t],e,a,i);for(let t=c;t<=l;++t){const e=s[t];e.skip||r(e,n,t)}}}function Ho(t,e,n,r,i){const o=[];if(!i&&!t.isPointInArea(e))return o;return zo(t,n,e,(function(n,a,s){(i||Or(n,t.chartArea,0))&&n.inRange(e.x,e.y,r)&&o.push({element:n,datasetIndex:a,index:s})}),!0),o}function Uo(t,e,n,r,i,o){let a=[];const s=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){const i=e?Math.abs(t.x-r.x):0,o=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(n);let c=Number.POSITIVE_INFINITY;return zo(t,n,e,(function(n,l,u){const h=n.inRange(e.x,e.y,i);if(r&&!h)return;const f=n.getCenterPoint(i);if(!(!!o||t.isPointInArea(f))&&!h)return;const d=s(e,f);d<c?(a=[{element:n,datasetIndex:l,index:u}],c=d):d===c&&a.push({element:n,datasetIndex:l,index:u})})),a}function Vo(t,e,n,r,i,o){return o||t.isPointInArea(e)?"r"!==n||r?Uo(t,e,n,r,i,o):function(t,e,n,r){let i=[];return zo(t,n,e,(function(t,n,o){const{startAngle:a,endAngle:s}=t.getProps(["startAngle","endAngle"],r),{angle:c}=fn(t,{x:e.x,y:e.y});mn(c,a,s)&&i.push({element:t,datasetIndex:n,index:o})})),i}(t,e,n,i):[]}function Wo(t,e,n,r,i){const o=[],a="x"===n?"inXRange":"inYRange";let s=!1;return zo(t,n,e,((t,r,c)=>{t[a](e[n],i)&&(o.push({element:t,datasetIndex:r,index:c}),s=s||t.inRange(e.x,e.y,i))})),r&&!s?[]:o}var qo={evaluateInteractionItems:zo,modes:{index(t,e,n,r){const i=_i(e,t),o=n.axis||"x",a=n.includeInvisible||!1,s=n.intersect?Ho(t,i,o,r,a):Vo(t,i,o,!1,r,a),c=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=s[0].index,n=t.data[e];n&&!n.skip&&c.push({element:n,datasetIndex:t.index,index:e})})),c):[]},dataset(t,e,n,r){const i=_i(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;let s=n.intersect?Ho(t,i,o,r,a):Vo(t,i,o,!1,r,a);if(s.length>0){const e=s[0].datasetIndex,n=t.getDatasetMeta(e).data;s=[];for(let t=0;t<n.length;++t)s.push({element:n[t],datasetIndex:e,index:t})}return s},point:(t,e,n,r)=>Ho(t,_i(e,t),n.axis||"xy",r,n.includeInvisible||!1),nearest(t,e,n,r){const i=_i(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return Vo(t,i,o,n.intersect,r,a)},x:(t,e,n,r)=>Wo(t,_i(e,t),"x",n.intersect,r),y:(t,e,n,r)=>Wo(t,_i(e,t),"y",n.intersect,r)}};const Go=["left","top","right","bottom"];function Yo(t,e){return t.filter((t=>t.pos===e))}function $o(t,e){return t.filter((t=>-1===Go.indexOf(t.pos)&&t.box.axis===e))}function Ko(t,e){return t.sort(((t,n)=>{const r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function Xo(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:r,stackWeight:i}=n;if(!t||!Go.includes(r))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,a,s;for(o=0,a=t.length;o<a;++o){s=t[o];const{fullSize:a}=s.box,c=n[s.stack],l=c&&s.stackWeight/c.weight;s.horizontal?(s.width=l?l*r:a&&e.availableWidth,s.height=i):(s.width=r,s.height=l?l*i:a&&e.availableHeight)}return n}function Zo(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Jo(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Qo(t,e,n,r){const{pos:i,box:o}=n,a=t.maxPadding;if(!ke(i)){n.size&&(t[i]-=n.size);const e=r[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?o.height:o.width),n.size=e.size/e.count,t[i]+=n.size}o.getPadding&&Jo(a,o.getPadding());const s=Math.max(0,e.outerWidth-Zo(a,t,"left","right")),c=Math.max(0,e.outerHeight-Zo(a,t,"top","bottom")),l=s!==t.w,u=c!==t.h;return t.w=s,t.h=c,n.horizontal?{same:l,other:u}:{same:u,other:l}}function ta(t,e){const n=e.maxPadding;function r(t){const r={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{r[t]=Math.max(e[t],n[t])})),r}return r(t?["left","right"]:["top","bottom"])}function ea(t,e,n,r){const i=[];let o,a,s,c,l,u;for(o=0,a=t.length,l=0;o<a;++o){s=t[o],c=s.box,c.update(s.width||e.w,s.height||e.h,ta(s.horizontal,e));const{same:a,other:h}=Qo(e,n,s,r);l|=a&&i.length,u=u||h,c.fullSize||i.push(s)}return l&&ea(i,e,n,r)||u}function na(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function ra(t,e,n,r){const i=n.padding;let{x:o,y:a}=e;for(const s of t){const t=s.box,c=r[s.stack]||{count:1,placed:0,weight:1},l=s.stackWeight/c.weight||1;if(s.horizontal){const r=e.w*l,o=c.size||t.height;qe(c.start)&&(a=c.start),t.fullSize?na(t,i.left,a,n.outerWidth-i.right-i.left,o):na(t,e.left+c.placed,a,r,o),c.start=a,c.placed+=r,a=t.bottom}else{const r=e.h*l,a=c.size||t.width;qe(c.start)&&(o=c.start),t.fullSize?na(t,o,i.top,a,n.outerHeight-i.bottom-i.top):na(t,o,e.top+c.placed,a,r),c.start=o,c.placed+=r,o=t.right}}e.x=o,e.y=a}wr.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ia={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Vr(t.options.layout.padding),o=Math.max(e-i.width,0),a=Math.max(n-i.height,0),s=function(t){const e=function(t){const e=[];let n,r,i,o,a,s;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:o,options:{stack:a,stackWeight:s=1}}=i),e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:s});return e}(t),n=Ko(e.filter((t=>t.box.fullSize)),!0),r=Ko(Yo(e,"left"),!0),i=Ko(Yo(e,"right")),o=Ko(Yo(e,"top"),!0),a=Ko(Yo(e,"bottom")),s=$o(e,"x"),c=$o(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(c).concat(a).concat(s),chartArea:Yo(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:o.concat(a).concat(s)}}(t.boxes),c=s.vertical,l=s.horizontal;Pe(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const u=c.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/u,hBoxMaxHeight:a/2}),f=Object.assign({},i);Jo(f,Vr(r));const d=Object.assign({maxPadding:f,w:o,h:a,x:i.left,y:i.top},i),p=Xo(c.concat(l),h);ea(s.fullSize,d,h,p),ea(c,d,h,p),ea(l,d,h,p)&&ea(c,d,h,p),function(t){const e=t.maxPadding;function n(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(d),ra(s.leftAndTop,d,h,p),d.x+=d.w,d.y+=d.h,ra(s.rightAndBottom,d,h,p),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Pe(s.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})}))}};class oa{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class aa extends oa{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const sa={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ca=t=>null===t||""===t;const la=!!Si&&{passive:!0};function ua(t,e,n){t.canvas.removeEventListener(e,n,la)}function ha(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function fa(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||ha(n.addedNodes,r),e=e&&!ha(n.removedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function da(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||ha(n.removedNodes,r),e=e&&!ha(n.addedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const pa=new Map;let ga=0;function ma(){const t=window.devicePixelRatio;t!==ga&&(ga=t,pa.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function ya(t,e,n){const r=t.canvas,i=r&&gi(r);if(!i)return;const o=Tn(((t,e)=>{const r=i.clientWidth;n(t,e),r<i.clientWidth&&n()}),window),a=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||o(n,r)}));return a.observe(i),function(t,e){pa.size||window.addEventListener("resize",ma),pa.set(t,e)}(t,o),a}function ba(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){pa["delete"](t),pa.size||window.removeEventListener("resize",ma)}(t)}function va(t,e,n){const r=t.canvas,i=Tn((e=>{null!==t.ctx&&n(function(t,e){const n=sa[t.type]||t.type,{x:r,y:i}=_i(t,e);return{type:n,chart:e,native:t,x:r!==undefined?r:null,y:i!==undefined?i:null}}(e,t))}),t,(t=>{const e=t[0];return[e,e.offsetX,e.offsetY]}));return function(t,e,n){t.addEventListener(e,n,la)}(r,e,i),i}class _a extends oa{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t.$chartjs={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",ca(i)){const e=Mi(t,"width");e!==undefined&&(t.width=e)}if(ca(r))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Mi(t,"height");e!==undefined&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e.$chartjs)return!1;const n=e.$chartjs.initial;["height","width"].forEach((t=>{const r=n[t];Te(r)?e.removeAttribute(t):e.setAttribute(t,r)}));const r=n.style||{};return Object.keys(r).forEach((t=>{e.style[t]=r[t]})),e.width=e.width,delete e.$chartjs,!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),i={attach:fa,detach:da,resize:ya}[e]||va;r[e]=i(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:ba,detach:ba,resize:ba}[e]||ua)(t,e,r),n[e]=undefined}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return wi(t,e,n,r)}isAttached(t){const e=gi(t);return!(!e||!e.isConnected)}}class xa{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(i,t,e,n);return"afterDestroy"===e&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,r){r=r||{};for(const i of t){const t=i.plugin;if(!1===De(t[n],[e,r,i.options],t)&&r.cancelable)return!1}return!0}invalidate(){Te(this._cache)||(this._oldCache=this._cache,this._cache=undefined)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=Ae(n.options&&n.options.plugins,{}),i=function(t){const e={},n=[],r=Object.keys(Po.plugins.items);for(let t=0;t<r.length;t++)n.push(Po.getPlugin(r[t]));const i=t.plugins||[];for(let t=0;t<i.length;t++){const r=i[t];-1===n.indexOf(r)&&(n.push(r),e[r.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==r||e?function(t,{plugins:e,localIds:n},r,i){const o=[],a=t.getContext();for(const s of e){const e=s.id,c=wa(r[e],i);null!==c&&o.push({plugin:s,options:Ea(t.config,{plugin:s,local:n[e]},c,a)})}return o}(t,i,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function wa(t,e){return e||!1!==t?!0===t?{}:t:null}function Ea(t,{plugin:e,local:n},r,i){const o=t.pluginScopeKeys(e),a=t.getOptionScopes(r,o);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Sa(t,e){const n=wr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Ma(t,e){return"x"===t||"y"===t?t:e.axis||("top"===(n=e.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||t.charAt(0).toLowerCase();var n}function Ta(t){const e=t.options||(t.options={});e.plugins=Ae(e.plugins,{}),e.scales=function(t,e){const n=br[t.type]||{scales:{}},r=e.scales||{},i=Sa(t.type,e),o=Object.create(null),a=Object.create(null);return Object.keys(r).forEach((t=>{const e=r[t];if(!ke(e))return console.error(`Invalid scale configuration for scale: ${t}`);if(e._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const s=Ma(t,e),c=function(t,e){return t===e?"_index_":"_value_"}(s,i),l=n.scales||{};o[s]=o[s]||t,a[t]=ze(Object.create(null),[{axis:s},e,l[s],l[c]])})),t.data.datasets.forEach((n=>{const i=n.type||t.type,s=n.indexAxis||Sa(i,e),c=(br[i]||{}).scales||{};Object.keys(c).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,s),i=n[e+"AxisID"]||o[e]||e;a[i]=a[i]||Object.create(null),ze(a[i],[{axis:e},r[i],c[t]])}))})),Object.keys(a).forEach((t=>{const e=a[t];ze(e,[wr.scales[e.type],wr.scale])})),a}(t,e)}function Ca(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const ka=new Map,Oa=new Set;function Ra(t,e){let n=ka.get(t);return n||(n=e(),ka.set(t,n),Oa.add(n)),n}const Aa=(t,e,n)=>{const r=Ve(e,n);r!==undefined&&t.add(r)};class Na{constructor(t){this._config=function(t){return(t=t||{}).data=Ca(t.data),Ta(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Ca(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Ta(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ra(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return Ra(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return Ra(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return Ra(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:i}=this,o=this._cachedScopes(t,n),a=o.get(e);if(a)return a;const s=new Set;e.forEach((e=>{t&&(s.add(t),e.forEach((e=>Aa(s,t,e)))),e.forEach((t=>Aa(s,r,t))),e.forEach((t=>Aa(s,br[i]||{},t))),e.forEach((t=>Aa(s,wr,t))),e.forEach((t=>Aa(s,vr,t)))}));const c=Array.from(s);return 0===c.length&&c.push(Object.create(null)),Oa.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,br[e]||{},wr.datasets[e]||{},{type:e},wr,vr]}resolveNamedOptions(t,e,n,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Da(this._resolverCache,t,r);let s=o;if(function(t,e){const{isScriptable:n,isIndexable:r}=Kr(t);for(const i of e){const e=n(i),o=r(i),a=(o||e)&&t[i];if(e&&(Ge(a)||Pa(a))||o&&Ce(a))return!0}return!1}(o,e)){i.$shared=!1;s=$r(o,n=Ge(n)?n():n,this.createResolver(t,n,a))}for(const t of e)i[t]=s[t];return i}createResolver(t,e,n=[""],r){const{resolver:i}=Da(this._resolverCache,t,n);return ke(e)?$r(i,e,undefined,r):i}}function Da(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);if(!o){o={resolver:Yr(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},r.set(i,o)}return o}const Pa=t=>ke(t)&&Object.getOwnPropertyNames(t).reduce(((e,n)=>e||Ge(t[n])),!1);const Ia=["top","bottom","left","right","chartArea"];function La(t,e){return"top"===t||"bottom"===t||-1===Ia.indexOf(t)&&"x"===e}function ja(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Fa(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),De(n&&n.onComplete,[t],e)}function Ba(t){const e=t.chart,n=e.options.animation;De(n&&n.onProgress,[t],e)}function za(t){return pi()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ha={},Ua=t=>{const e=za(t);return Object.values(Ha).filter((t=>t.canvas===e)).pop()};function Va(t,e,n){const r=Object.keys(t);for(const i of r){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}class Wa{constructor(t,e){const n=this.config=new Na(e),r=za(t),i=Ua(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!pi()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?aa:_a}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,o.aspectRatio),s=a&&a.canvas,c=s&&s.height,l=s&&s.width;this.id=Me(),this.ctx=a,this.canvas=s,this.width=l,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=undefined,this.boxes=[],this.currentDevicePixelRatio=undefined,this.chartArea=undefined,this._active=[],this._lastEvent=undefined,this._listeners={},this._responsiveListeners=undefined,this._sortedMetasets=[],this.scales={},this._plugins=new xa,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=undefined,this.$context=undefined,this._doResize=function(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}((t=>this.update(t)),o.resizeDelay||0),this._dataChanges=[],Ha[this.id]=this,a&&s?(Hi.listen(this,"complete",Fa),Hi.listen(this,"progress",Ba),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:i}=this;return Te(t)?e&&i?i:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ei(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Tr(this.canvas,this.ctx),this}stop(){return Hi.stop(this),this}resize(t,e){Hi.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ei(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),De(n.onResize,[this,o],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){Pe(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let i=[];e&&(i=i.concat(Object.keys(e).map((t=>{const n=e[t],r=Ma(t,n),i="r"===r,o="x"===r;return{options:n,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),Pe(i,(e=>{const i=e.options,o=i.id,a=Ma(o,i),s=Ae(i.type,e.dtype);i.position!==undefined&&La(i.position,a)===La(e.dposition)||(i.position=e.dposition),r[o]=!0;let c=null;if(o in n&&n[o].type===s)c=n[o];else{c=new(Po.getScale(s))({id:o,type:s,ctx:this.ctx,chart:this}),n[c.id]=c}c.init(i,t)})),Pe(r,((t,e)=>{t||delete n[e]})),Pe(n,(t=>{ia.configure(this,t,t.options),ia.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(ja("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const r=e[n];let i=this.getDatasetMeta(n);const o=r.type||this.config.type;if(i.type&&i.type!==o&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=o,i.indexAxis=r.indexAxis||Sa(o,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const e=Po.getController(o),{datasetElementType:r,dataElementType:a}=wr.datasets[o];Object.assign(e.prototype,{dataElementType:Po.getElement(a),datasetElementType:r&&Po.getElement(r)}),i.controller=new e(this,n),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){Pe(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),n=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(n),o=Math.max(+e.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||Pe(i,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ja("z","_idx"));const{_active:a,_lastEvent:s}=this;s?this._eventHandler(s,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Pe(this.scales,(t=>{ia.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);Ye(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of e){Va(t,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),r=n(0);for(let t=1;t<e;t++)if(!Ye(r,n(t)))return;return Array.from(r).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ia.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],Pe(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,Ge(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Hi.has(this)?this.attached&&!Hi.running(this)&&Hi.start(this):(this.draw(),Fa({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,i;for(r=0,i=e.length;r<i;++r){const i=e[r];t&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,i=this.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(r&&Rr(e,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),t.controller.draw(),r&&Ar(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Or(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const i=qo.modes[e];return"function"==typeof i?i(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter((t=>t&&t._dataset===e)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Gr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"==typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(undefined,r);qe(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(i,{visible:n}),this.update((e=>e.datasetIndex===t?r:undefined)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Hi.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Tr(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Ha[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};Pe(this.options.events,(t=>n(t,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(n,r)=>{t[n]&&(e.removeEventListener(this,n,r),delete t[n])},i=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){Pe(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},Pe(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=undefined}updateHoverStyle(t,e,n){const r=n?"set":"remove";let i,o,a,s;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,s=t.length;a<s;++a){o=t[a];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((({datasetIndex:t,index:e})=>{const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[e],index:e}}));!Ie(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}_updateHoverStyles(t,e,n){const r=this.options.hover,i=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=i(e,t),a=n?t:i(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:i}=this,o=e,a=this._getActiveElements(t,r,n,o),s=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),c=function(t,e,n,r){return n&&"mouseout"!==t.type?r?e:t:null}(t,this._lastEvent,n,s);n&&(this._lastEvent=null,De(i.onHover,[t,a,this],this),s&&De(i.onClick,[t,a,this],this));const l=!Ie(a,r);return(l||e)&&(this._active=a,this._updateHoverStyles(a,r,e)),this._lastEvent=c,l}_getActiveElements(t,e,n,r){if("mouseout"===t.type)return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}const qa=()=>Pe(Wa.instances,(t=>t._plugins.invalidate())),Ga=!0;function Ya(t,e,n){const{startAngle:r,pixelMargin:i,x:o,y:a,outerRadius:s,innerRadius:c}=e;let l=i/s;t.beginPath(),t.arc(o,a,s,r-l,n+l),c>i?(l=i/c,t.arc(o,a,c,n+l,r-l,!0)):t.arc(o,a,i,n+Qe,r-Qe),t.closePath(),t.clip()}function $a(t,e,n,r){const i=function(t){return zr(t,["outerStart","outerEnd","innerStart","innerEnd"])}(t.options.borderRadius),o=(n-e)/2,a=Math.min(o,r*e/2),s=t=>{const e=(n-Math.min(o,t))*r/2;return yn(t,0,Math.min(o,e))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:yn(i.innerStart,0,a),innerEnd:yn(i.innerEnd,0,a)}}function Ka(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Xa(t,e,n,r,i,o){const{x:a,y:s,startAngle:c,pixelMargin:l,innerRadius:u}=e,h=Math.max(e.outerRadius+r+n-l,0),f=u>0?u+r+n+l:0;let d=0;const p=i-c;if(r){const t=((u>0?u-r:0)+(h>0?h-r:0))/2;d=(p-(0!==t?p*t/(t+r):p))/2}const g=(p-Math.max(.001,p*h-n/$e)/h)/2,m=c+g+d,y=i-g-d,{outerStart:b,outerEnd:v,innerStart:_,innerEnd:x}=$a(e,f,h,y-m),w=h-b,E=h-v,S=m+b/w,M=y-v/E,T=f+_,C=f+x,k=m+_/T,O=y-x/C;if(t.beginPath(),o){if(t.arc(a,s,h,S,M),v>0){const e=Ka(E,M,a,s);t.arc(e.x,e.y,v,M,y+Qe)}const e=Ka(C,y,a,s);if(t.lineTo(e.x,e.y),x>0){const e=Ka(C,O,a,s);t.arc(e.x,e.y,x,y+Qe,O+Math.PI)}if(t.arc(a,s,f,y-x/f,m+_/f,!0),_>0){const e=Ka(T,k,a,s);t.arc(e.x,e.y,_,k+Math.PI,m-Qe)}const n=Ka(w,m,a,s);if(t.lineTo(n.x,n.y),b>0){const e=Ka(w,S,a,s);t.arc(e.x,e.y,b,m-Qe,S)}}else{t.moveTo(a,s);const e=Math.cos(S)*h+a,n=Math.sin(S)*h+s;t.lineTo(e,n);const r=Math.cos(M)*h+a,i=Math.sin(M)*h+s;t.lineTo(r,i)}t.closePath()}function Za(t,e,n,r,i,o){const{options:a}=e,{borderWidth:s,borderJoinStyle:c}=a,l="inner"===a.borderAlign;s&&(l?(t.lineWidth=2*s,t.lineJoin=c||"round"):(t.lineWidth=s,t.lineJoin=c||"bevel"),e.fullCircles&&function(t,e,n){const{x:r,y:i,startAngle:o,pixelMargin:a,fullCircles:s}=e,c=Math.max(e.outerRadius-a,0),l=e.innerRadius+a;let u;for(n&&Ya(t,e,o+Ke),t.beginPath(),t.arc(r,i,l,o+Ke,o,!0),u=0;u<s;++u)t.stroke();for(t.beginPath(),t.arc(r,i,c,o,o+Ke),u=0;u<s;++u)t.stroke()}(t,e,l),l&&Ya(t,e,i),Xa(t,e,n,r,i,o),t.stroke())}Object.defineProperties(Wa,{defaults:{enumerable:Ga,value:wr},instances:{enumerable:Ga,value:Ha},overrides:{enumerable:Ga,value:br},registry:{enumerable:Ga,value:Po},version:{enumerable:Ga,value:"3.9.1"},getChart:{enumerable:Ga,value:Ua},register:{enumerable:Ga,value:(...t)=>{Po.add(...t),qa()}},unregister:{enumerable:Ga,value:(...t)=>{Po.remove(...t),qa()}}});class Ja extends xo{constructor(t){super(),this.options=undefined,this.circumference=undefined,this.startAngle=undefined,this.endAngle=undefined,this.innerRadius=undefined,this.outerRadius=undefined,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.getProps(["x","y"],n),{angle:i,distance:o}=fn(r,{x:t,y:e}),{startAngle:a,endAngle:s,innerRadius:c,outerRadius:l,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=this.options.spacing/2,f=Ae(u,s-a)>=Ke||mn(i,a,s),d=bn(o,c+h,l+h);return f&&d}getCenterPoint(t){const{x:e,y:n,startAngle:r,endAngle:i,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:s,spacing:c}=this.options,l=(r+i)/2,u=(o+a+c+s)/2;return{x:e+Math.cos(l)*u,y:n+Math.sin(l)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,r=(e.offset||0)/2,i=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>Ke?Math.floor(n/Ke):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=0;if(r){a=r/2;const e=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(e)*a,Math.sin(e)*a),this.circumference>=$e&&(a=r)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const s=function(t,e,n,r,i){const{fullCircles:o,startAngle:a,circumference:s}=e;let c=e.endAngle;if(o){Xa(t,e,n,r,a+Ke,i);for(let e=0;e<o;++e)t.fill();isNaN(s)||(c=a+s%Ke,s%Ke==0&&(c+=Ke))}return Xa(t,e,n,r,c,i),t.fill(),c}(t,this,a,i,o);Za(t,this,a,i,s,o),t.restore()}}function Qa(t,e,n=e){t.lineCap=Ae(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ae(n.borderDash,e.borderDash)),t.lineDashOffset=Ae(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ae(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ae(n.borderWidth,e.borderWidth),t.strokeStyle=Ae(n.borderColor,e.borderColor)}function ts(t,e,n){t.lineTo(n.x,n.y)}function es(t,e,n={}){const r=t.length,{start:i=0,end:o=r-1}=n,{start:a,end:s}=e,c=Math.max(i,a),l=Math.min(o,s),u=i<a&&o<a||i>s&&o>s;return{count:r,start:c,loop:e.loop,ilen:l<c&&!u?r+l-c:l-c}}function ns(t,e,n,r){const{points:i,options:o}=e,{count:a,start:s,loop:c,ilen:l}=es(i,n,r),u=function(t){return t.stepped?Nr:t.tension||"monotone"===t.cubicInterpolationMode?Dr:ts}(o);let h,f,d,{move:p=!0,reverse:g}=r||{};for(h=0;h<=l;++h)f=i[(s+(g?l-h:h))%a],f.skip||(p?(t.moveTo(f.x,f.y),p=!1):u(t,d,f,g,o.stepped),d=f);return c&&(f=i[(s+(g?l:0))%a],u(t,d,f,g,o.stepped)),!!c}function rs(t,e,n,r){const i=e.points,{count:o,start:a,ilen:s}=es(i,n,r),{move:c=!0,reverse:l}=r||{};let u,h,f,d,p,g,m=0,y=0;const b=t=>(a+(l?s-t:t))%o,v=()=>{d!==p&&(t.lineTo(m,p),t.lineTo(m,d),t.lineTo(m,g))};for(c&&(h=i[b(0)],t.moveTo(h.x,h.y)),u=0;u<=s;++u){if(h=i[b(u)],h.skip)continue;const e=h.x,n=h.y,r=0|e;r===f?(n<d?d=n:n>p&&(p=n),m=(y*m+e)/++y):(v(),t.lineTo(e,n),f=r,y=0,d=p=n),g=n}v()}function is(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||n)?rs:ns}Ja.id="arc",Ja.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:undefined,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:undefined,circular:!0},Ja.defaultRoutes={backgroundColor:"backgroundColor"};const os="function"==typeof Path2D;function as(t,e,n,r){os&&!e.options.segment?function(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),Qa(t,e.options),t.stroke(i)}(t,e,n,r):function(t,e,n,r){const{segments:i,options:o}=e,a=is(e);for(const s of i)Qa(t,o,s.style),t.beginPath(),a(t,e,s,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}(t,e,n,r)}class ss extends xo{constructor(t){super(),this.animated=!0,this.options=undefined,this._chart=undefined,this._loop=undefined,this._fullLoop=undefined,this._path=undefined,this._points=undefined,this._segments=undefined,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=undefined,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;di(this._points,n,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:a,end:s}=function(t,e,n,r){let i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}(n,i,o,r);return Fi(t,!0===r?[{start:a,end:s,loop:o}]:function(t,e,n,r){const i=t.length,o=[];let a,s=e,c=t[e];for(a=e+1;a<=n;++a){const n=t[a%i];n.skip||n.stop?c.skip||(r=!1,o.push({start:e%i,end:(a-1)%i,loop:r}),e=s=n.stop?a:null):(s=a,c.skip&&(e=a)),c=n}return null!==s&&o.push({start:e%i,end:s%i,loop:r}),o}(n,a,s<a?s+i:s,!!t._fullLoop&&0===a&&s===i-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,r=t[e],i=this.points,o=ji(this,{property:e,start:r,end:r});if(!o.length)return;const a=[],s=function(t){return t.stepped?Ci:t.tension||"monotone"===t.cubicInterpolationMode?ki:Ti}(n);let c,l;for(c=0,l=o.length;c<l;++c){const{start:l,end:u}=o[c],h=i[l],f=i[u];if(h===f){a.push(h);continue}const d=s(h,f,Math.abs((r-h[e])/(f[e]-h[e])),n.stepped);d[e]=t[e],a.push(d)}return 1===a.length?a[0]:a}pathSegment(t,e,n){return is(this)(t,this,e,n)}path(t,e,n){const r=this.segments,i=is(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const a of r)o&=i(t,this,a,{start:e,end:e+n-1});return!!o}draw(t,e,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),as(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=undefined)}}function cs(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}ss.id="line",ss.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},ss.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},ss.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};class ls extends xo{constructor(t){super(),this.options=undefined,this.parsed=undefined,this.skip=undefined,this.stop=undefined,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(t-i,2)+Math.pow(e-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return cs(this,t,"x",e)}inYRange(t,e){return cs(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!Or(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Cr(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function us(t,e){const{x:n,y:r,base:i,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let s,c,l,u,h;return t.horizontal?(h=a/2,s=Math.min(n,i),c=Math.max(n,i),l=r-h,u=r+h):(h=o/2,s=n-h,c=n+h,l=Math.min(r,i),u=Math.max(r,i)),{left:s,top:l,right:c,bottom:u}}function hs(t,e,n,r){return t?0:yn(e,n,r)}function fs(t){const e=us(t),n=e.right-e.left,r=e.bottom-e.top,i=function(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=Hr(r);return{t:hs(i.top,o.top,0,n),r:hs(i.right,o.right,0,e),b:hs(i.bottom,o.bottom,0,n),l:hs(i.left,o.left,0,e)}}(t,n/2,r/2),o=function(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=Ur(i),a=Math.min(e,n),s=t.borderSkipped,c=r||ke(i);return{topLeft:hs(!c||s.top||s.left,o.topLeft,0,a),topRight:hs(!c||s.top||s.right,o.topRight,0,a),bottomLeft:hs(!c||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:hs(!c||s.bottom||s.right,o.bottomRight,0,a)}}(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function ds(t,e,n,r){const i=null===e,o=null===n,a=t&&!(i&&o)&&us(t,r);return a&&(i||bn(e,a.left,a.right))&&(o||bn(n,a.top,a.bottom))}function ps(t,e){t.rect(e.x,e.y,e.w,e.h)}function gs(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+a,radius:t.radius}}ls.id="point",ls.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},ls.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class ms extends xo{constructor(t){super(),this.options=undefined,this.horizontal=undefined,this.base=undefined,this.width=undefined,this.height=undefined,this.inflateAmount=undefined,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:o}=fs(this),a=(s=o.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?Lr:ps;var s;t.save(),o.w===i.w&&o.h===i.h||(t.beginPath(),a(t,gs(o,e,i)),t.clip(),a(t,gs(i,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,gs(i,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return ds(this,t,e,n)}inXRange(t,e){return ds(this,t,null,e)}inYRange(t,e){return ds(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+r)/2:e,y:i?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}ms.id="bar",ms.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:undefined},ms.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const ys=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}};class bs extends xo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=undefined,this.columnSizes=undefined,this.lineWidths=undefined,this.maxHeight=undefined,this.maxWidth=undefined,this.top=undefined,this.bottom=undefined,this.left=undefined,this.right=undefined,this.height=undefined,this.width=undefined,this._margins=undefined,this.position=undefined,this.weight=undefined,this.fullSize=undefined}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=De(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=Wr(n.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:s}=ys(n,i);let c,l;e.font=r.string,this.isHorizontal()?(c=this.maxWidth,l=this._fitRows(o,i,a,s)+10):(l=this.maxHeight,c=this._fitCols(o,i,a,s)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(l,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],c=this.lineWidths=[0],l=r+a;let u=t;i.textAlign="left",i.textBaseline="middle";let h=-1,f=-l;return this.legendItems.forEach(((t,d)=>{const p=n+e/2+i.measureText(t.text).width;(0===d||c[c.length-1]+p+2*a>o)&&(u+=l,c[c.length-(d>0?0:1)]=0,f+=l,h++),s[d]={left:0,top:f,row:h,width:p,height:r},c[c.length-1]+=p+a})),u}_fitCols(t,e,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],c=this.columnSizes=[],l=o-t;let u=a,h=0,f=0,d=0,p=0;return this.legendItems.forEach(((t,o)=>{const g=n+e/2+i.measureText(t.text).width;o>0&&f+r+2*a>l&&(u+=h+a,c.push({width:h,height:f}),d+=h+a,p++,h=f=0),s[o]={left:d,top:f,col:p,width:g,height:r},h=Math.max(h,g),f+=r+a})),u+=h,c.push({width:h,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:i}}=this,o=Ai(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=kn(n,this.left+r,this.right-this.lineWidths[i]);for(const s of e)i!==s.row&&(i=s.row,a=kn(n,this.left+r,this.right-this.lineWidths[i])),s.top+=this.top+t+r,s.left=o.leftForLtr(o.x(a),s.width),a+=s.width+r}else{let i=0,a=kn(n,this.top+t+r,this.bottom-this.columnSizes[i].height);for(const s of e)s.col!==i&&(i=s.col,a=kn(n,this.top+t+r,this.bottom-this.columnSizes[i].height)),s.top=a,s.left+=this.left+r,s.left=o.leftForLtr(o.x(s.left),s.width),a+=s.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Rr(t,this),this._draw(),Ar(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:i,labels:o}=t,a=wr.color,s=Ai(t.rtl,this.left,this.width),c=Wr(o.font),{color:l,padding:u}=o,h=c.size,f=h/2;let d;this.drawTitle(),r.textAlign=s.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=ys(o,h),y=this.isHorizontal(),b=this._computeTitleHeight();d=y?{x:kn(i,this.left+u,this.right-n[0]),y:this.top+u+b,line:0}:{x:this.left+u,y:kn(i,this.top+b+u,this.bottom-e[0].height),line:0},Ni(this.ctx,t.textDirection);const v=m+u;this.legendItems.forEach(((_,x)=>{r.strokeStyle=_.fontColor||l,r.fillStyle=_.fontColor||l;const w=r.measureText(_.text).width,E=s.textAlign(_.textAlign||(_.textAlign=o.textAlign)),S=p+f+w;let M=d.x,T=d.y;s.setWidth(this.width),y?x>0&&M+S+u>this.right&&(T=d.y+=v,d.line++,M=d.x=kn(i,this.left+u,this.right-n[d.line])):x>0&&T+v>this.bottom&&(M=d.x=M+e[d.line].width+u,d.line++,T=d.y=kn(i,this.top+b+u,this.bottom-e[d.line].height));!function(t,e,n){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();const i=Ae(n.lineWidth,1);if(r.fillStyle=Ae(n.fillStyle,a),r.lineCap=Ae(n.lineCap,"butt"),r.lineDashOffset=Ae(n.lineDashOffset,0),r.lineJoin=Ae(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=Ae(n.strokeStyle,a),r.setLineDash(Ae(n.lineDash,[])),o.usePointStyle){const a={radius:g*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},c=s.xPlus(t,p/2);kr(r,a,c,e+f,o.pointStyleWidth&&p)}else{const o=e+Math.max((h-g)/2,0),a=s.leftForLtr(t,p),c=Ur(n.borderRadius);r.beginPath(),Object.values(c).some((t=>0!==t))?Lr(r,{x:a,y:o,w:p,h:g,radius:c}):r.rect(a,o,p,g),r.fill(),0!==i&&r.stroke()}r.restore()}(s.x(M),T,_),M=((t,e,n,r)=>t===(r?"left":"right")?n:"center"===t?(e+n)/2:e)(E,M+p+f,y?M+S:this.right,t.rtl),function(t,e,n){Pr(r,n.text,t,e+m/2,c,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(M),T,_),y?d.x+=S+u:d.y+=v})),Di(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Wr(e.font),r=Vr(e.padding);if(!e.display)return;const i=Ai(t.rtl,this.left,this.width),o=this.ctx,a=e.position,s=n.size/2,c=r.top+s;let l,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),l=this.top+c,u=kn(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);l=c+kn(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const f=kn(a,u,u+h);o.textAlign=i.textAlign(Cn(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,Pr(o,e.text,f,l,n)}_computeTitleHeight(){const t=this.options.title,e=Wr(t.font),n=Vr(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,i;if(bn(t,this.left,this.right)&&bn(e,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],bn(t,r.left,r.left+r.width)&&bn(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this._hoveredItem,a=(i=n,null!==(r=o)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);o&&!a&&De(e.onLeave,[t,o,this],this),this._hoveredItem=n,n&&!a&&De(e.onHover,[t,n,this],this)}else n&&De(e.onClick,[t,n,this],this);var r,i}}var vs={id:"legend",_element:bs,start(t,e,n){const r=t.legend=new bs({ctx:t.ctx,options:n,chart:t});ia.configure(t,r,n),ia.addBox(t,r)},stop(t){ia.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ia.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const a=t.controller.getStyle(n?0:undefined),s=Vr(a.borderWidth);return{text:e[t.index].label,fillStyle:a.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(s.width+s.height)/4,strokeStyle:a.borderColor,pointStyle:r||a.pointStyle,rotation:a.rotation,textAlign:i||a.textAlign,borderRadius:0,datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class _s extends xo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=undefined,this.top=undefined,this.bottom=undefined,this.left=undefined,this.right=undefined,this.width=undefined,this.height=undefined,this.position=undefined,this.weight=undefined,this.fullSize=undefined}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=Ce(n.text)?n.text.length:1;this._padding=Vr(n.padding);const i=r*Wr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:i,options:o}=this,a=o.align;let s,c,l,u=0;return this.isHorizontal()?(c=kn(a,n,i),l=e+t,s=i-n):("left"===o.position?(c=n+t,l=kn(a,r,e),u=-.5*$e):(c=i-t,l=kn(a,e,r),u=.5*$e),s=r-e),{titleX:c,titleY:l,maxWidth:s,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Wr(e.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:o,maxWidth:a,rotation:s}=this._drawArgs(r);Pr(t,e.text,0,0,n,{color:e.color,maxWidth:a,rotation:s,textAlign:Cn(e.align),textBaseline:"middle",translation:[i,o]})}}var xs={id:"title",_element:_s,start(t,e,n){!function(t,e){const n=new _s({ctx:t.ctx,options:e,chart:t});ia.configure(t,n,e),ia.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;ia.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;ia.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const ws={average(t){if(!t.length)return!1;let e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();r+=t.x,i+=t.y,++o}}return{x:r/o,y:i/o}},nearest(t,e){if(!t.length)return!1;let n,r,i,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){const r=t[n].element;if(r&&r.hasValue()){const t=dn(e,r.getCenterPoint());t<s&&(s=t,i=r)}}if(i){const t=i.tooltipPosition();o=t.x,a=t.y}return{x:o,y:a}}};function Es(t,e){return e&&(Ce(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ss(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Ms(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:a,value:s}=o.getLabelAndValue(i);return{chart:t,label:a,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:s,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Ts(t,e){const n=t.chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:a,boxHeight:s}=e,c=Wr(e.bodyFont),l=Wr(e.titleFont),u=Wr(e.footerFont),h=o.length,f=i.length,d=r.length,p=Vr(e.padding);let g=p.height,m=0,y=r.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*l.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){g+=d*(e.displayColors?Math.max(s,c.lineHeight):c.lineHeight)+(y-d)*c.lineHeight+(y-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let b=0;const v=function(t){m=Math.max(m,n.measureText(t).width+b)};return n.save(),n.font=l.string,Pe(t.title,v),n.font=c.string,Pe(t.beforeBody.concat(t.afterBody),v),b=e.displayColors?a+2+e.boxPadding:0,Pe(r,(t=>{Pe(t.before,v),Pe(t.lines,v),Pe(t.after,v)})),b=0,n.font=u.string,Pe(t.footer,v),n.restore(),m+=p.width,{width:m,height:g}}function Cs(t,e,n,r){const{x:i,width:o}=n,{width:a,chartArea:{left:s,right:c}}=t;let l="center";return"center"===r?l=i<=(s+c)/2?"left":"right":i<=o/2?l="left":i>=a-o/2&&(l="right"),function(t,e,n,r){const{x:i,width:o}=r,a=n.caretSize+n.caretPadding;return"left"===t&&i+o+a>e.width||"right"===t&&i-o-a<0||void 0}(l,t,e,n)&&(l="center"),l}function ks(t,e,n){const r=n.yAlign||e.yAlign||function(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||Cs(t,e,n,r),yAlign:r}}function Os(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:a}=t,{xAlign:s,yAlign:c}=n,l=i+o,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:d}=Ur(a);let p=function(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,s);const g=function(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,c,l);return"center"===c?"left"===s?p+=l:"right"===s&&(p-=l):"left"===s?p-=Math.max(u,f)+i:"right"===s&&(p+=Math.max(h,d)+i),{x:yn(p,0,r.width-e.width),y:yn(g,0,r.height-e.height)}}function Rs(t,e,n){const r=Vr(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function As(t){return Es([],Ss(t))}function Ns(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class Ds extends xo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=undefined,this._size=undefined,this._cachedAnimations=undefined,this._tooltipItems=[],this.$animations=undefined,this.$context=undefined,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=undefined,this.title=undefined,this.beforeBody=undefined,this.body=undefined,this.afterBody=undefined,this.footer=undefined,this.xAlign=undefined,this.yAlign=undefined,this.x=undefined,this.y=undefined,this.height=undefined,this.width=undefined,this.caretX=undefined,this.caretY=undefined,this.labelColors=undefined,this.labelPointStyles=undefined,this.labelTextColors=undefined}initialize(t){this.options=t,this._cachedAnimations=undefined,this.$context=undefined}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,i=new Gi(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,Gr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,r=n.beforeTitle.apply(this,[t]),i=n.title.apply(this,[t]),o=n.afterTitle.apply(this,[t]);let a=[];return a=Es(a,Ss(r)),a=Es(a,Ss(i)),a=Es(a,Ss(o)),a}getBeforeBody(t,e){return As(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:n}=e,r=[];return Pe(t,(t=>{const e={before:[],lines:[],after:[]},i=Ns(n,t);Es(e.before,Ss(i.beforeLabel.call(this,t))),Es(e.lines,i.label.call(this,t)),Es(e.after,Ss(i.afterLabel.call(this,t))),r.push(e)})),r}getAfterBody(t,e){return As(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:n}=e,r=n.beforeFooter.apply(this,[t]),i=n.footer.apply(this,[t]),o=n.afterFooter.apply(this,[t]);let a=[];return a=Es(a,Ss(r)),a=Es(a,Ss(i)),a=Es(a,Ss(o)),a}_createItems(t){const e=this._active,n=this.chart.data,r=[],i=[],o=[];let a,s,c=[];for(a=0,s=e.length;a<s;++a)c.push(Ms(this.chart,e[a]));return t.filter&&(c=c.filter(((e,r,i)=>t.filter(e,r,i,n)))),t.itemSort&&(c=c.sort(((e,r)=>t.itemSort(e,r,n)))),Pe(c,(e=>{const n=Ns(t.callbacks,e);r.push(n.labelColor.call(this,e)),i.push(n.labelPointStyle.call(this,e)),o.push(n.labelTextColor.call(this,e))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=c,c}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(r.length){const t=ws[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const e=this._size=Ts(this,n),a=Object.assign({},t,e),s=ks(this.chart,n,a),c=Os(n,a,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,i={opacity:1,x:c.x,y:c.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=o,this.$context=undefined,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:s,topRight:c,bottomLeft:l,bottomRight:u}=Ur(a),{x:h,y:f}=t,{width:d,height:p}=e;let g,m,y,b,v,_;return"center"===i?(v=f+p/2,"left"===r?(g=h,m=g-o,b=v+o,_=v-o):(g=h+d,m=g+o,b=v-o,_=v+o),y=g):(m="left"===r?h+Math.max(s,l)+o:"right"===r?h+d-Math.max(c,u)-o:this.caretX,"top"===i?(b=f,v=b-o,g=m-o,y=m+o):(b=f+p,v=b+o,g=m+o,y=m-o),_=b),{x1:g,x2:m,x3:y,y1:b,y2:v,y3:_}}drawTitle(t,e,n){const r=this.title,i=r.length;let o,a,s;if(i){const c=Ai(n.rtl,this.x,this.width);for(t.x=Rs(this,n.titleAlign,n),e.textAlign=c.textAlign(n.titleAlign),e.textBaseline="middle",o=Wr(n.titleFont),a=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,s=0;s<i;++s)e.fillText(r[s],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,s+1===i&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,e,n,r,i){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:s,boxWidth:c,boxPadding:l}=i,u=Wr(i.bodyFont),h=Rs(this,"left",i),f=r.x(h),d=s<u.lineHeight?(u.lineHeight-s)/2:0,p=e.y+d;if(i.usePointStyle){const e={radius:Math.min(c,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(f,c)+c/2,l=p+s/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Cr(t,e,n,l),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Cr(t,e,n,l)}else{t.lineWidth=ke(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=r.leftForLtr(f,c-l),n=r.leftForLtr(r.xPlus(f,1),c-l-2),a=Ur(o.borderRadius);Object.values(a).some((t=>0!==t))?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Lr(t,{x:e,y:p,w:c,h:s,radius:a}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Lr(t,{x:n,y:p+1,w:c-2,h:s-2,radius:a}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,p,c,s),t.strokeRect(e,p,c,s),t.fillStyle=o.backgroundColor,t.fillRect(n,p+1,c-2,s-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:s,boxWidth:c,boxPadding:l}=n,u=Wr(n.bodyFont);let h=u.lineHeight,f=0;const d=Ai(n.rtl,this.x,this.width),p=function(n){e.fillText(n,d.x(t.x+f),t.y+h/2),t.y+=h+i},g=d.textAlign(o);let m,y,b,v,_,x,w;for(e.textAlign=o,e.textBaseline="middle",e.font=u.string,t.x=Rs(this,g,n),e.fillStyle=n.bodyColor,Pe(this.beforeBody,p),f=a&&"right"!==g?"center"===o?c/2+l:c+2+l:0,v=0,x=r.length;v<x;++v){for(m=r[v],y=this.labelTextColors[v],e.fillStyle=y,Pe(m.before,p),b=m.lines,a&&b.length&&(this._drawColorBox(e,t,v,d,n),h=Math.max(u.lineHeight,s)),_=0,w=b.length;_<w;++_)p(b[_]),h=u.lineHeight;Pe(m.after,p)}f=0,h=u.lineHeight,Pe(this.afterBody,p),t.y-=i}drawFooter(t,e,n){const r=this.footer,i=r.length;let o,a;if(i){const s=Ai(n.rtl,this.x,this.width);for(t.x=Rs(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=s.textAlign(n.footerAlign),e.textBaseline="middle",o=Wr(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,a=0;a<i;++a)e.fillText(r[a],s.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:i,yAlign:o}=this,{x:a,y:s}=t,{width:c,height:l}=n,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:d}=Ur(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+u,s),"top"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+c-h,s),e.quadraticCurveTo(a+c,s,a+c,s+h),"center"===o&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(a+c,s+l-d),e.quadraticCurveTo(a+c,s+l,a+c-d,s+l),"bottom"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+f,s+l),e.quadraticCurveTo(a,s+l,a,s+l-f),"center"===o&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(a,s+u),e.quadraticCurveTo(a,s,a+u,s),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=ws[t.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=Ts(this,t),a=Object.assign({},n,this._size),s=ks(e,t,a),c=Os(t,a,s,e);r._to===c.x&&i._to===c.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Vr(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,r,e),Ni(t,e.textDirection),i.y+=o.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),Di(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map((({datasetIndex:t,index:e})=>{const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),i=!Ie(n,r),o=this._positionChanged(r,e);(i||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(t,i,e,n),a=this._positionChanged(o,t),s=e||!Ie(o,i)||a;return s&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),s}_getActiveElements(t,e,n,r){const i=this.options;if("mouseout"===t.type)return[];if(!r)return e;const o=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:r,options:i}=this,o=ws[i.position].call(this,t,e);return!1!==o&&(n!==o.x||r!==o.y)}}Ds.positioners=ws;var Ps={id:"tooltip",_element:Ds,positioners:ws,afterInit(t,e,n){n&&(t.tooltip=new Ds({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",n))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Se,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Se,beforeBody:Se,beforeLabel:Se,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Te(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Se,afterBody:Se,beforeFooter:Se,footer:Se,afterFooter:Se}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Is(t,e,n,r){const i=t.indexOf(e);if(-1===i)return((t,e,n,r)=>("string"==typeof e?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,r);return i!==t.lastIndexOf(e)?n:i}class Ls extends No{constructor(t){super(t),this._startValue=undefined,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:r}of e)t[n]===r&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Te(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:yn(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:Is(n,t,Ae(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===t&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let n=t;n<=e;n++)r.push({value:n});return r}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function js(t,e){const n=[],{bounds:r,step:i,min:o,max:a,precision:s,count:c,maxTicks:l,maxDigits:u,includeBounds:h}=t,f=i||1,d=l-1,{min:p,max:g}=e,m=!Te(o),y=!Te(a),b=!Te(c),v=(g-p)/(u+1);let _,x,w,E,S=on((g-p)/d/f)*f;if(S<1e-14&&!m&&!y)return[{value:p},{value:g}];E=Math.ceil(g/S)-Math.floor(p/S),E>d&&(S=on(E*S/d/f)*f),Te(s)||(_=Math.pow(10,s),S=Math.ceil(S*_)/_),"ticks"===r?(x=Math.floor(p/S)*S,w=Math.ceil(g/S)*S):(x=p,w=g),m&&y&&i&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((a-o)/i,S/1e3)?(E=Math.round(Math.min((a-o)/S,l)),S=(a-o)/E,x=o,w=a):b?(x=m?o:x,w=y?a:w,E=c-1,S=(w-x)/E):(E=(w-x)/S,E=sn(E,Math.round(E),S/1e3)?Math.round(E):Math.ceil(E));const M=Math.max(hn(S),hn(x));_=Math.pow(10,Te(s)?M:s),x=Math.round(x*_)/_,w=Math.round(w*_)/_;let T=0;for(m&&(h&&x!==o?(n.push({value:o}),x<o&&T++,sn(Math.round((x+T*S)*_)/_,o,Fs(o,v,t))&&T++):x<o&&T++);T<E;++T)n.push({value:Math.round((x+T*S)*_)/_});return y&&h&&w!==a?n.length&&sn(n[n.length-1].value,a,Fs(a,v,t))?n[n.length-1].value=a:n.push({value:a}):y&&w!==a||n.push({value:w}),n}function Fs(t,e,{horizontal:n,minRotation:r}){const i=ln(r),o=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}Ls.id="category",Ls.defaults={ticks:{callback:Ls.prototype.getLabelForValue}};class Bs extends No{constructor(t){super(t),this.start=undefined,this.end=undefined,this._startValue=undefined,this._endValue=undefined,this._valueRange=0}parse(t,e){return Te(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const o=t=>r=e?r:t,a=t=>i=n?i:t;if(t){const t=rn(r),e=rn(i);t<0&&e<0?a(0):t>0&&e>0&&o(0)}if(r===i){let e=1;(i>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(e=Math.abs(.05*i)),a(i+e),t||o(r-e)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:r}=t;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=js({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&cn(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Ri(t,this.chart.options.locale,this.options.ticks.format)}}class zs extends Bs{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Oe(t)?t:0,this.max=Oe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=ln(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function Hs(t){return 1===t/Math.pow(10,Math.floor(nn(t)))}zs.id="linear",zs.defaults={ticks:{callback:Eo.formatters.numeric}};class Us extends No{constructor(t){super(t),this.start=undefined,this.end=undefined,this._startValue=undefined,this._valueRange=0}parse(t,e){const n=Bs.prototype.parse.apply(this,[t,e]);return 0===n?(this._zero=!0,undefined):Oe(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Oe(t)?Math.max(0,t):null,this.max=Oe(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,r=this.max;const i=e=>n=t?n:e,o=t=>r=e?r:t,a=(t,e)=>Math.pow(10,Math.floor(nn(t))+e);n===r&&(n<=0?(i(1),o(10)):(i(a(n,-1)),o(a(r,1)))),n<=0&&i(a(r,-1)),r<=0&&o(a(n,1)),this._zero&&this.min!==this._suggestedMin&&n===a(this.min,0)&&i(a(n,-1)),this.min=n,this.max=r}buildTicks(){const t=this.options,e=function(t,e){const n=Math.floor(nn(e.max)),r=Math.ceil(e.max/Math.pow(10,n)),i=[];let o=Re(t.min,Math.pow(10,Math.floor(nn(e.min)))),a=Math.floor(nn(o)),s=Math.floor(o/Math.pow(10,a)),c=a<0?Math.pow(10,Math.abs(a)):1;do{i.push({value:o,major:Hs(o)}),++s,10===s&&(s=1,++a,c=a>=0?1:c),o=Math.round(s*Math.pow(10,a)*c)/c}while(a<n||a===n&&s<r);const l=Re(t.max,o);return i.push({value:l,major:Hs(o)}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&cn(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return t===undefined?"0":Ri(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=nn(t),this._valueRange=nn(this.max)-nn(t)}getPixelForValue(t){return t!==undefined&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(nn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Vs(t){const e=t.ticks;if(e.display&&t.display){const t=Vr(e.backdropPadding);return Ae(e.font&&e.font.size,wr.font.size)+t.height}return 0}function Ws(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function qs(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],o=t._pointLabels.length,a=t.options.pointLabels,s=a.centerPointLabels?$e/o:0;for(let h=0;h<o;h++){const o=a.setContext(t.getPointLabelContext(h));i[h]=o.padding;const f=t.getPointPosition(h,t.drawingArea+i[h],s),d=Wr(o.font),p=(c=t.ctx,l=d,u=Ce(u=t._pointLabels[h])?u:[u],{w:Sr(c,l.string,u),h:u.length*l.lineHeight});r[h]=p;const g=gn(t.getIndexAngle(h)+s),m=Math.round(un(g));Gs(n,e,g,Ws(m,f.x,p.w,0,180),Ws(m,f.y,p.h,90,270))}var c,l,u;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const r=[],i=t._pointLabels.length,o=t.options,a=Vs(o)/2,s=t.drawingArea,c=o.pointLabels.centerPointLabels?$e/i:0;for(let o=0;o<i;o++){const i=t.getPointPosition(o,s+a+n[o],c),l=Math.round(un(gn(i.angle+Qe))),u=e[o],h=Ks(i.y,u.h,l),f=Ys(l),d=$s(i.x,u.w,f);r.push({x:i.x,y:h,textAlign:f,left:d,top:h,right:d+u.w,bottom:h+u.h})}return r}(t,r,i)}function Gs(t,e,n,r,i){const o=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let s=0,c=0;r.start<e.l?(s=(e.l-r.start)/o,t.l=Math.min(t.l,e.l-s)):r.end>e.r&&(s=(r.end-e.r)/o,t.r=Math.max(t.r,e.r+s)),i.start<e.t?(c=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+c))}function Ys(t){return 0===t||180===t?"center":t<180?"left":"right"}function $s(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function Ks(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}function Xs(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Ke);else{let n=t.getPointPosition(0,e);i.moveTo(n.x,n.y);for(let o=1;o<r;o++)n=t.getPointPosition(o,e),i.lineTo(n.x,n.y)}}Us.id="logarithmic",Us.defaults={ticks:{callback:Eo.formatters.logarithmic,major:{enabled:!0}}};class Zs extends Bs{constructor(t){super(t),this.xCenter=undefined,this.yCenter=undefined,this.drawingArea=undefined,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Vr(Vs(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Oe(t)&&!isNaN(t)?t:0,this.max=Oe(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Vs(this.options))}generateTickLabels(t){Bs.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=De(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?qs(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){return gn(t*(Ke/(this._pointLabels.length||1))+ln(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Te(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Te(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return Gr(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const r=this.getIndexAngle(t)-Qe+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:i}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Xs(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:r}=e,i=this._pointLabels.length;let o,a,s;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const e=r.setContext(t.getPointLabelContext(i)),o=Wr(e.font),{x:a,y:s,textAlign:c,left:l,top:u,right:h,bottom:f}=t._pointLabelItems[i],{backdropColor:d}=e;if(!Te(d)){const t=Ur(e.borderRadius),r=Vr(e.backdropPadding);n.fillStyle=d;const i=l-r.left,o=u-r.top,a=h-l+r.width,s=f-u+r.height;Object.values(t).some((t=>0!==t))?(n.beginPath(),Lr(n,{x:i,y:o,w:a,h:s,radius:t}),n.fill()):n.fillRect(i,o,a,s)}Pr(n,t._pointLabels[i],a,s+o.lineHeight/2,o,{color:e.color,textAlign:c,textBaseline:"middle"})}}(this,i),r.display&&this.ticks.forEach(((t,e)=>{if(0!==e){a=this.getDistanceFromCenterForValue(t.value);!function(t,e,n,r){const i=t.ctx,o=e.circular,{color:a,lineWidth:s}=e;!o&&!r||!a||!s||n<0||(i.save(),i.strokeStyle=a,i.lineWidth=s,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),Xs(t,n,o,r),i.closePath(),i.stroke(),i.restore())}(this,r.setContext(this.getContext(e-1)),a,i)}})),n.display){for(t.save(),o=i-1;o>=0;o--){const r=n.setContext(this.getPointLabelContext(o)),{color:i,lineWidth:c}=r;c&&i&&(t.lineWidth=c,t.strokeStyle=i,t.setLineDash(r.borderDash),t.lineDashOffset=r.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),s=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(s.x,s.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((r,a)=>{if(0===a&&!e.reverse)return;const s=n.setContext(this.getContext(a)),c=Wr(s.font);if(i=this.getDistanceFromCenterForValue(this.ticks[a].value),s.showLabelBackdrop){t.font=c.string,o=t.measureText(r.label).width,t.fillStyle=s.backdropColor;const e=Vr(s.backdropPadding);t.fillRect(-o/2-e.left,-i-c.size/2-e.top,o+e.width,c.size+e.height)}Pr(t,r.label,0,-i,c,{color:s.color})})),t.restore()}drawTitle(){}}Zs.id="radialLinear",Zs.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Eo.formatters.numeric},pointLabels:{backdropColor:undefined,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}},Zs.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Zs.descriptors={angleLines:{_fallback:"grid"}};const Js={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qs=Object.keys(Js);function tc(t,e){return t-e}function ec(t,e){if(Te(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let a=e;return"function"==typeof r&&(a=r(a)),Oe(a)||(a="string"==typeof r?n.parse(a,r):n.parse(a)),null===a?null:(i&&(a="week"!==i||!an(o)&&!0!==o?n.startOf(a,i):n.startOf(a,"isoWeek",o)),+a)}function nc(t,e,n,r){const i=Qs.length;for(let o=Qs.indexOf(t);o<i-1;++o){const t=Js[Qs[o]],i=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(i*t.size))<=r)return Qs[o]}return Qs[i-1]}function rc(t,e,n){if(n){if(n.length){const{lo:r,hi:i}=vn(n,e);t[n[r]>=e?n[r]:n[i]]=!0}}else t[e]=!0}function ic(t,e,n){const r=[],i={},o=e.length;let a,s;for(a=0;a<o;++a)s=e[a],i[s]=a,r.push({value:s,major:!1});return 0!==o&&n?function(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),a=e[e.length-1].value;let s,c;for(s=o;s<=a;s=+i.add(s,1,r))c=n[s],c>=0&&(e[c].major=!0);return e}(t,r,i,n):r}class oc extends No{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=undefined,this._offsets={},this._normalized=!1,this._parseOpts=undefined}init(t,e){const n=t.time||(t.time={}),r=this._adapter=new Fo._date(t.adapters.date);r.init(e),ze(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===undefined?null:ec(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function s(t){o||isNaN(t.min)||(r=Math.min(r,t.min)),a||isNaN(t.max)||(i=Math.max(i,t.max))}o&&a||(s(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||s(this.getMinMax(!1))),r=Oe(r)&&!isNaN(r)?r:+e.startOf(Date.now(),n),i=Oe(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=function(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}(r,i,this.max);return this._unit=e.unit||(n.autoSkip?nc(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(t,e,n,r,i){for(let o=Qs.length-1;o>=Qs.indexOf(n);o--){const n=Qs[o];if(Js[n].common&&t._adapter.diff(i,r,n)>=e-1)return n}return Qs[n?Qs.indexOf(n):0]}(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=Qs.indexOf(t)+1,n=Qs.length;e<n;++e)if(Js[Qs[e]].common)return Qs[e]}(this._unit):undefined,this.initOffsets(r),t.reverse&&o.reverse(),ic(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t){let e,n,r=0,i=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),r=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,n=this.getDecimalForValue(t[t.length-1]),i=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;r=yn(r,0,o),i=yn(i,0,o),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,e=this.min,n=this.max,r=this.options,i=r.time,o=i.unit||nc(i.minUnit,e,n,this._getLabelCapacity(e)),a=Ae(i.stepSize,1),s="week"===o&&i.isoWeekday,c=an(s)||!0===s,l={};let u,h,f=e;if(c&&(f=+t.startOf(f,"isoWeek",s)),f=+t.startOf(f,c?"day":o),t.diff(n,e,o)>1e5*a)throw new Error(e+" and "+n+" are too far apart with stepSize of "+a+" "+o);const d="data"===r.ticks.source&&this.getDataTimestamps();for(u=f,h=0;u<n;u=+t.add(u,a,o),h++)rc(l,u,d);return u!==n&&"ticks"!==r.bounds&&1!==h||rc(l,u,d),Object.keys(l).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}_tickFormatFunction(t,e,n,r){const i=this.options,o=i.time.displayFormats,a=this._unit,s=this._majorUnit,c=a&&o[a],l=s&&o[s],u=n[e],h=s&&l&&u&&u.major,f=this._adapter.format(t,r||(h?l:c)),d=i.ticks.callback;return d?De(d,[f,e,n],this):f}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,r=ln(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*o,h:n*o+a*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,r=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,ic(this,[t],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)n=n.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const r=this.getLabels();for(e=0,n=r.length;e<n;++e)t.push(ec(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Sn(t.sort(tc))}}function ac(t,e,n){let r,i,o,a,s=0,c=t.length-1;n?(e>=t[s].pos&&e<=t[c].pos&&({lo:s,hi:c}=_n(t,"pos",e)),({pos:r,time:o}=t[s]),({pos:i,time:a}=t[c])):(e>=t[s].time&&e<=t[c].time&&({lo:s,hi:c}=_n(t,"time",e)),({time:r,pos:o}=t[s]),({time:i,pos:a}=t[c]));const l=i-r;return l?o+(a-o)*(e-r)/l:o}oc.id="time",oc.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class sc extends oc{constructor(t){super(t),this._table=[],this._minPos=undefined,this._tableRange=undefined}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=ac(e,this.min),this._tableRange=ac(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,r=[],i=[];let o,a,s,c,l;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=n&&r.push(c);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)l=r[o+1],s=r[o-1],c=r[o],Math.round((l+s)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(ac(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return ac(this._table,n*this._tableRange+this._minPos,!0)}}sc.id="timeseries",sc.defaults=oc.defaults;
/*!
 * chartjs-plugin-datalabels v2.1.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */
var cc=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),lc=function(t){var e,n=[];for(t=[].concat(t);t.length;)"string"==typeof(e=t.pop())?n.unshift.apply(n,e.split("\n")):Array.isArray(e)?t.push.apply(t,e):Te(t)||n.unshift(""+e);return n},uc=function(t,e,n){var r,i=[].concat(e),o=i.length,a=t.font,s=0;for(t.font=n.string,r=0;r<o;++r)s=Math.max(t.measureText(i[r]).width,s);return t.font=a,{height:o*n.lineHeight,width:s}},hc=function(t,e,n){return Math.max(t,Math.min(e,n))},fc=function(t,e){var n,r,i,o,a=t.slice(),s=[];for(n=0,i=e.length;n<i;++n)o=e[n],-1===(r=a.indexOf(o))?s.push([o,1]):a.splice(r,1);for(n=0,i=a.length;n<i;++n)s.push([a[n],-1]);return s};function dc(t,e){var n=e.x,r=e.y;if(null===n)return{x:0,y:-1};if(null===r)return{x:1,y:0};var i=t.x-n,o=t.y-r,a=Math.sqrt(i*i+o*o);return{x:a?i/a:0,y:a?o/a:-1}}function pc(t,e,n){var r=0;return t<n.left?r|=1:t>n.right&&(r|=2),e<n.top?r|=8:e>n.bottom&&(r|=4),r}function gc(t,e){var n,r,i=e.anchor,o=t;return e.clamp&&(o=function(t,e){for(var n,r,i,o=t.x0,a=t.y0,s=t.x1,c=t.y1,l=pc(o,a,e),u=pc(s,c,e);l|u&&!(l&u);)8&(n=l||u)?(r=o+(s-o)*(e.top-a)/(c-a),i=e.top):4&n?(r=o+(s-o)*(e.bottom-a)/(c-a),i=e.bottom):2&n?(i=a+(c-a)*(e.right-o)/(s-o),r=e.right):1&n&&(i=a+(c-a)*(e.left-o)/(s-o),r=e.left),n===l?l=pc(o=r,a=i,e):u=pc(s=r,c=i,e);return{x0:o,x1:s,y0:a,y1:c}}(o,e.area)),"start"===i?(n=o.x0,r=o.y0):"end"===i?(n=o.x1,r=o.y1):(n=(o.x0+o.x1)/2,r=(o.y0+o.y1)/2),function(t,e,n,r,i){switch(i){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:i*=Math.PI/180,n=Math.cos(i),r=Math.sin(i)}return{x:t,y:e,vx:n,vy:r}}(n,r,t.vx,t.vy,e.align)}var mc=function(t,e){var n=(t.startAngle+t.endAngle)/2,r=Math.cos(n),i=Math.sin(n),o=t.innerRadius,a=t.outerRadius;return gc({x0:t.x+r*o,y0:t.y+i*o,x1:t.x+r*a,y1:t.y+i*a,vx:r,vy:i},e)},yc=function(t,e){var n=dc(t,e.origin),r=n.x*t.options.radius,i=n.y*t.options.radius;return gc({x0:t.x-r,y0:t.y-i,x1:t.x+r,y1:t.y+i,vx:n.x,vy:n.y},e)},bc=function(t,e){var n=dc(t,e.origin),r=t.x,i=t.y,o=0,a=0;return t.horizontal?(r=Math.min(t.x,t.base),o=Math.abs(t.base-t.x)):(i=Math.min(t.y,t.base),a=Math.abs(t.base-t.y)),gc({x0:r,y0:i+a,x1:r+o,y1:i,vx:n.x,vy:n.y},e)},vc=function(t,e){var n=dc(t,e.origin);return gc({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:n.x,vy:n.y},e)},_c=function(t){return Math.round(t*cc)/cc};function xc(t,e){var n=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==undefined&&n.yCenter!==undefined)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return t.horizontal?{x:r,y:null}:{x:null,y:r}}function wc(t,e,n){var r=n.backgroundColor,i=n.borderColor,o=n.borderWidth;(r||i&&o)&&(t.beginPath(),function(t,e,n,r,i,o){var a=Math.PI/2;if(o){var s=Math.min(o,i/2,r/2),c=e+s,l=n+s,u=e+r-s,h=n+i-s;t.moveTo(e,l),c<u&&l<h?(t.arc(c,l,s,-Math.PI,-a),t.arc(u,l,s,-a,0),t.arc(u,h,s,0,a),t.arc(c,h,s,a,Math.PI)):c<u?(t.moveTo(c,n),t.arc(u,l,s,-a,a),t.arc(c,l,s,a,Math.PI+a)):l<h?(t.arc(c,l,s,-Math.PI,0),t.arc(c,h,s,0,Math.PI)):t.arc(c,l,s,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,r,i)}(t,_c(e.x)+o/2,_c(e.y)+o/2,_c(e.w)-o,_c(e.h)-o,n.borderRadius),t.closePath(),r&&(t.fillStyle=r,t.fill()),i&&o&&(t.strokeStyle=i,t.lineWidth=o,t.lineJoin="miter",t.stroke()))}function Ec(t,e,n){var r=t.shadowBlur,i=n.stroked,o=_c(n.x),a=_c(n.y),s=_c(n.w);i&&t.strokeText(e,o,a,s),n.filled&&(r&&i&&(t.shadowBlur=0),t.fillText(e,o,a,s),r&&i&&(t.shadowBlur=r))}var Sc=function(t,e,n,r){var i=this;i._config=t,i._index=r,i._model=null,i._rects=null,i._ctx=e,i._el=n};Be(Sc.prototype,{_modelize:function(t,e,n,r){var i,o=this,a=o._index,s=Wr(qr([n.font,{}],r,a)),c=qr([n.color,wr.color],r,a);return{align:qr([n.align,"center"],r,a),anchor:qr([n.anchor,"center"],r,a),area:r.chart.chartArea,backgroundColor:qr([n.backgroundColor,null],r,a),borderColor:qr([n.borderColor,null],r,a),borderRadius:qr([n.borderRadius,0],r,a),borderWidth:qr([n.borderWidth,0],r,a),clamp:qr([n.clamp,!1],r,a),clip:qr([n.clip,!1],r,a),color:c,display:t,font:s,lines:e,offset:qr([n.offset,4],r,a),opacity:qr([n.opacity,1],r,a),origin:xc(o._el,r),padding:Vr(qr([n.padding,4],r,a)),positioner:(i=o._el,i instanceof Ja?mc:i instanceof ls?yc:i instanceof ms?bc:vc),rotation:qr([n.rotation,0],r,a)*(Math.PI/180),size:uc(o._ctx,e,s),textAlign:qr([n.textAlign,"start"],r,a),textShadowBlur:qr([n.textShadowBlur,0],r,a),textShadowColor:qr([n.textShadowColor,c],r,a),textStrokeColor:qr([n.textStrokeColor,c],r,a),textStrokeWidth:qr([n.textStrokeWidth,0],r,a)}},update:function(t){var e,n,r,i=this,o=null,a=null,s=i._index,c=i._config,l=qr([c.display,!0],t,s);l&&(e=t.dataset.data[s],(r=Te(n=Ae(De(c.formatter,[e,t]),e))?[]:lc(n)).length&&(a=function(t){var e=t.borderWidth||0,n=t.padding,r=t.size.height,i=t.size.width,o=-i/2,a=-r/2;return{frame:{x:o-n.left-e,y:a-n.top-e,w:i+n.width+2*e,h:r+n.height+2*e},text:{x:o,y:a,w:i,h:r}}}(o=i._modelize(l,r,c,t)))),i._model=o,i._rects=a},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var n,r=t.ctx,i=this._model,o=this._rects;this.visible()&&(r.save(),i.clip&&(n=i.area,r.beginPath(),r.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),r.clip()),r.globalAlpha=hc(0,i.opacity,1),r.translate(_c(e.x),_c(e.y)),r.rotate(i.rotation),wc(r,o.frame,i),function(t,e,n,r){var i,o=r.textAlign,a=r.color,s=!!a,c=r.font,l=e.length,u=r.textStrokeColor,h=r.textStrokeWidth,f=u&&h;if(l&&(s||f))for(n=function(t,e,n){var r=n.lineHeight,i=t.w,o=t.x;return"center"===e?o+=i/2:"end"!==e&&"right"!==e||(o+=i),{h:r,w:i,x:o,y:t.y+r/2}}(n,o,c),t.font=c.string,t.textAlign=o,t.textBaseline="middle",t.shadowBlur=r.textShadowBlur,t.shadowColor=r.textShadowColor,s&&(t.fillStyle=a),f&&(t.lineJoin="round",t.lineWidth=h,t.strokeStyle=u),i=0,l=e.length;i<l;++i)Ec(t,e[i],{stroked:f,filled:s,w:n.w,x:n.x,y:n.y+n.h*i})}(r,i.lines,o.text,i),r.restore())}});var Mc=Number.MIN_SAFE_INTEGER||-9007199254740991,Tc=Number.MAX_SAFE_INTEGER||9007199254740991;function Cc(t,e,n){var r=Math.cos(n),i=Math.sin(n),o=e.x,a=e.y;return{x:o+r*(t.x-o)-i*(t.y-a),y:a+i*(t.x-o)+r*(t.y-a)}}function kc(t,e){var n,r,i,o,a,s=Tc,c=Mc,l=e.origin;for(n=0;n<t.length;++n)i=(r=t[n]).x-l.x,o=r.y-l.y,a=e.vx*i+e.vy*o,s=Math.min(s,a),c=Math.max(c,a);return{min:s,max:c}}function Oc(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);return{vx:(e.x-t.x)/i,vy:(e.y-t.y)/i,origin:t,ln:i}}var Rc=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function Ac(t,e,n){var r=e.positioner(t,e),i=r.vx,o=r.vy;if(!i&&!o)return{x:r.x,y:r.y};var a=n.w,s=n.h,c=e.rotation,l=Math.abs(a/2*Math.cos(c))+Math.abs(s/2*Math.sin(c)),u=Math.abs(a/2*Math.sin(c))+Math.abs(s/2*Math.cos(c)),h=1/Math.max(Math.abs(i),Math.abs(o));return l*=i*h,u*=o*h,l+=e.offset*i,u+=e.offset*o,{x:r.x+l,y:r.y+u}}Be(Rc.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,n){this._rotation=n,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,n=e._rect;return!((t=Cc(t,e.center(),-e._rotation)).x<n.x-1||t.y<n.y-1||t.x>n.x+n.w+2||t.y>n.y+n.h+2)},intersects:function(t){var e,n,r,i=this._points(),o=t._points(),a=[Oc(i[0],i[1]),Oc(i[0],i[3])];for(this._rotation!==t._rotation&&a.push(Oc(o[0],o[1]),Oc(o[0],o[3])),e=0;e<a.length;++e)if(n=kc(i,a[e]),r=kc(o,a[e]),n.max<r.min||r.max<n.min)return!1;return!0},_points:function(){var t=this,e=t._rect,n=t._rotation,r=t.center();return[Cc({x:e.x,y:e.y},r,n),Cc({x:e.x+e.w,y:e.y},r,n),Cc({x:e.x+e.w,y:e.y+e.h},r,n),Cc({x:e.x,y:e.y+e.h},r,n)]}});var Nc={prepare:function(t){var e,n,r,i,o,a=[];for(e=0,r=t.length;e<r;++e)for(n=0,i=t[e].length;n<i;++n)o=t[e][n],a.push(o),o.$layout={_box:new Rc,_hidable:!1,_visible:!0,_set:e,_idx:o._index};return a.sort((function(t,e){var n=t.$layout,r=e.$layout;return n._idx===r._idx?r._set-n._set:r._idx-n._idx})),this.update(a),a},update:function(t){var e,n,r,i,o,a=!1;for(e=0,n=t.length;e<n;++e)i=(r=t[e]).model(),(o=r.$layout)._hidable=i&&"auto"===i.display,o._visible=r.visible(),a|=o._hidable;a&&function(t){var e,n,r,i,o,a,s;for(e=0,n=t.length;e<n;++e)(i=(r=t[e]).$layout)._visible&&(s=new Proxy(r._el,{get:(t,e)=>t.getProps([e],!0)[e]}),o=r.geometry(),a=Ac(s,r.model(),o),i._box.update(a,o,r.rotation()));(function(t,e){var n,r,i,o;for(n=t.length-1;n>=0;--n)for(i=t[n].$layout,r=n-1;r>=0&&i._visible;--r)(o=t[r].$layout)._visible&&i._box.intersects(o._box)&&e(i,o)})(t,(function(t,e){var n=t._hidable,r=e._hidable;n&&r||r?e._visible=!1:n&&(t._visible=!1)}))}(t)},lookup:function(t,e){var n,r;for(n=t.length-1;n>=0;--n)if((r=t[n].$layout)&&r._visible&&r._box.contains(e))return t[n];return null},draw:function(t,e){var n,r,i,o,a,s;for(n=0,r=e.length;n<r;++n)(o=(i=e[n]).$layout)._visible&&(a=i.geometry(),s=Ac(i._el,i.model(),a),o._box.update(s,a,i.rotation()),i.draw(t,s))}},Dc={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:undefined,display:!0,font:{family:undefined,lineHeight:1.2,size:undefined,style:undefined,weight:null},formatter:function(t){if(Te(t))return null;var e,n,r,i=t;if(ke(t))if(Te(t.label))if(Te(t.r))for(i="",r=0,n=(e=Object.keys(t)).length;r<n;++r)i+=(0!==r?", ":"")+e[r]+": "+t[e[r]];else i=t.r;else i=t.label;return""+i},labels:undefined,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:undefined,textStrokeWidth:0,textShadowBlur:0,textShadowColor:undefined},Pc="$default";function Ic(t,e,n,r){if(e){var i,o=n.$context,a=n.$groups;e[a._set]&&(i=e[a._set][a._key])&&!0===De(i,[o,r])&&(t.$datalabels._dirty=!0,n.update(o))}}function Lc(t,e){var n,r,i=t.$datalabels,o=i._listeners;if(o.enter||o.leave){if("mousemove"===e.type)r=Nc.lookup(i._labels,e);else if("mouseout"!==e.type)return;n=i._hovered,i._hovered=r,function(t,e,n,r,i){var o,a;(n||r)&&(n?r?n!==r&&(a=o=!0):a=!0:o=!0,a&&Ic(t,e.leave,n,i),o&&Ic(t,e.enter,r,i))}(t,o,n,r,e)}}var jc={id:"datalabels",defaults:Dc,beforeInit:function(t){t.$datalabels={_actives:[]}},beforeUpdate:function(t){var e=t.$datalabels;e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(t,e,n){var r,i,o,a,s,c,l,u,h=e.index,f=t.$datalabels,d=f._datasets[h]=[],p=t.isDatasetVisible(h),g=t.data.datasets[h],m=function(t,e){var n,r,i,o=t.datalabels,a=[];return!1===o?null:(!0===o&&(o={}),e=Be({},[e,o]),r=e.labels||{},i=Object.keys(r),delete e.labels,i.length?i.forEach((function(t){r[t]&&a.push(Be({},[e,r[t],{_key:t}]))})):a.push(e),n=a.reduce((function(t,e){return Pe(e.listeners||{},(function(n,r){t[r]=t[r]||{},t[r][e._key||Pc]=n})),delete e.listeners,t}),{}),{labels:a,listeners:n})}(g,n),y=e.meta.data||[],b=t.ctx;for(b.save(),r=0,o=y.length;r<o;++r)if((l=y[r]).$datalabels=[],p&&l&&t.getDataVisibility(r)&&!l.skip)for(i=0,a=m.labels.length;i<a;++i)c=(s=m.labels[i])._key,(u=new Sc(s,b,l,r)).$groups={_set:h,_key:c||Pc},u.$context={active:!1,chart:t,dataIndex:r,dataset:g,datasetIndex:h},u.update(u.$context),l.$datalabels.push(u),d.push(u);b.restore(),Be(f._listeners,m.listeners,{merger:function(t,n,r){n[t]=n[t]||{},n[t][e.index]=r[t],f._listened=!0}})},afterUpdate:function(t){t.$datalabels._labels=Nc.prepare(t.$datalabels._datasets)},afterDatasetsDraw:function(t){Nc.draw(t,t.$datalabels._labels)},beforeEvent:function(t,e){if(t.$datalabels._listened){var n=e.event;switch(n.type){case"mousemove":case"mouseout":Lc(t,n);break;case"click":!function(t,e){var n=t.$datalabels,r=n._listeners.click,i=r&&Nc.lookup(n._labels,e);i&&Ic(t,r,i,e)}(t,n)}}},afterEvent:function(t){var e,n,r,i,o,a,s,c=t.$datalabels,l=c._actives,u=c._actives=t.getActiveElements(),h=fc(l,u);for(e=0,n=h.length;e<n;++e)if((o=h[e])[1])for(r=0,i=(s=o[0].element.$datalabels||[]).length;r<i;++r)(a=s[r]).$context.active=1===o[1],a.update(a.$context);(c._dirty||h.length)&&(Nc.update(c._labels),t.render()),delete c._dirty}},Fc=n(363),Bc=n.n(Fc);const zc="label";function Hc(t,e){"function"==typeof t?t(e):t&&(t.current=e)}function Uc(t,e){t.labels=e}function Vc(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zc;const r=[];t.datasets=e.map((e=>{const i=t.datasets.find((t=>t[n]===e[n]));return i&&e.data&&!r.includes(i)?(r.push(i),Object.assign(i,e),i):{...e}}))}function Wc(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zc;const n={labels:[],datasets:[]};return Uc(n,t.labels),Vc(n,t.datasets,e),n}function qc(t,e){let{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:o,type:a,data:s,options:c,plugins:l=[],fallbackContent:u,updateMode:h,...f}=t;const d=(0,Fc.useRef)(null),p=(0,Fc.useRef)(),g=()=>{d.current&&(p.current=new Wa(d.current,{type:a,data:Wc(s,o),options:c&&{...c},plugins:l}),Hc(e,p.current))},m=()=>{Hc(e,null),p.current&&(p.current.destroy(),p.current=null)};return(0,Fc.useEffect)((()=>{var t,e;!i&&p.current&&c&&(t=p.current,e=c,Object.assign(t.options,e))}),[i,c]),(0,Fc.useEffect)((()=>{!i&&p.current&&Uc(p.current.config.data,s.labels)}),[i,s.labels]),(0,Fc.useEffect)((()=>{!i&&p.current&&s.datasets&&Vc(p.current.config.data,s.datasets,o)}),[i,s.datasets]),(0,Fc.useEffect)((()=>{p.current&&(i?(m(),setTimeout(g)):p.current.update(h))}),[i,c,s.labels,s.datasets,h]),(0,Fc.useEffect)((()=>{p.current&&(m(),setTimeout(g))}),[a]),(0,Fc.useEffect)((()=>(g(),()=>m())),[]),Bc().createElement("canvas",Object.assign({ref:d,role:"img",height:n,width:r},f),u)}const Gc=(0,Fc.forwardRef)(qc);function Yc(t,e){return Wa.register(e),(0,Fc.forwardRef)(((e,n)=>Bc().createElement(Gc,Object.assign({},e,{ref:n,type:t}))))}const $c=Yc("bar",po);var Kc=window.antd.Empty,Xc=wp.element.memo,Zc=wp.i18n.__;Wa.register(Ls,zs,ms,xs,Ps,vs,jc);var Jc=Xc((function(t){var e=t.data,n={labels:e.map((function(t){return null==t?void 0:t.date})),datasets:[{label:Zc("Volume","getgenie"),data:e.map((function(t){return null==t?void 0:t.volume})),backgroundColor:"#DBE7FD"}]};return 0===e.length?React.createElement(Kc,{description:Zc("No Search Volume Trend data found","getgenie"),className:"getgenie-chart empty"}):React.createElement($c,{className:"getgenie-chart",width:"298",height:"300",options:{responsive:!1,layout:{padding:{top:25,right:0,left:0,bottom:0}},plugins:{datalabels:{display:!0,color:"#7999D0",align:"end",rotation:270,anchor:"end",font:{size:"10"},formatter:function(t){return t<1e3?t:t>=1e3&&t<1e6?+(t/1e3).toFixed(1)+"K":t>=1e6&&t<1e9?+(t/1e6).toFixed(1)+"M":t>=1e9&&t<1e12?+(t/1e9).toFixed(1)+"B":t>=1e12?+(t/1e12).toFixed(1)+"T":void 0}},legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{autoSkip:!0,maxRotation:0,minRotation:0}},y:{grid:{borderWidth:0},ticks:{callback:function(t){return t<1e3?t:t>=1e3&&t<1e6?+(t/1e3).toFixed(1)+"K":t>=1e6&&t<1e9?+(t/1e6).toFixed(1)+"M":t>=1e9&&t<1e12?+(t/1e9).toFixed(1)+"B":t>=1e12?+(t/1e12).toFixed(1)+"T":void 0}}}}},data:n})}));function Qc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return tl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tl(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var el=window.antd,nl=el.Divider,rl=el.Radio,il=el.Typography,ol=wp.element,al=ol.useState,sl=ol.useEffect,cl=window.getGenie.Components.Common.ReduxManager.ComposeComponents,ll=wp.i18n.__,ul=cl((function(t){var e,n=t.getInputs,r=Qc(al("searchVolTrend"),2),i=r[0],o=r[1],a=Qc(al([]),2),s=a[0],c=a[1];return sl((function(){var t,e;null!==(t=n.searchVolume)&&void 0!==t&&null!==(e=t.chart)&&void 0!==e&&e[i]?c(n.searchVolume.chart[i]):c([])}),[n.searchVolume]),React.createElement(React.Fragment,null,React.createElement("div",{className:"getgenie-seo-result-chart-container"},React.createElement(il.Title,{level:5,className:"getgenie-title"},ll("Overview Chart","getgenie")),React.createElement("div",{className:"genie-nav-container"},React.createElement(rl.Group,{defaultValue:i,onChange:function(t){return o(t.target.value)}},React.createElement(rl.Button,{value:"searchVolTrend"},ll("Search Vol. Trend","getgenie")),React.createElement(rl.Button,{value:"googleTrend"},ll("Google Trends","getgenie")))),React.createElement(nl,null),React.createElement("div",{style:{display:"searchVolTrend"!==i?"none":"initial"}},React.createElement(Jc,{data:s})),React.createElement("div",{style:{display:"searchVolTrend"===i?"none":"initial"}},React.createElement(Ee,{data:(null===(e=n.searchVolume)||void 0===e?void 0:e.keyword)||""}))))}),["getInputs"]);function hl(t){return hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(t)}function fl(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fl=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(T){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=c;var u={};function h(){}function f(){}function d(){}var p={};s(p,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==e&&n.call(m,i)&&(p=m);var y=d.prototype=h.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){function r(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==hl(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function _(t,e){var n=t.iterator[e.method];if(undefined===n){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=undefined,_(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=undefined),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=undefined,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:undefined,done:!0}}return f.prototype=d,s(y,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(v.prototype),s(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new v(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=undefined)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=undefined),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=undefined),u}},t}function dl(t){return function(t){if(Array.isArray(t))return pl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return pl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gl(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(r,i)}function ml(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){gl(o,r,i,a,s,"next",t)}function s(t){gl(o,r,i,a,s,"throw",t)}a(undefined)}))}}function yl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bl(t,e,n){return e&&yl(t.prototype,e),n&&yl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}window.getGenie.Components.Common.Libs;var vl=bl((function ky(t){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ky),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"getLongTailKeywords",ml(fl().mark((function n(){var t,r,i,o,a,s;return fl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(t=e.keyword.split(" "),(r=[]).push("* "+e.keyword),i=0;i<t.length;i++)t[i]=t[i]+" *",r.push(t.join(" ")),t[i]=t[i].replace(" *","");return o=[],r.forEach((function(e,n){var i=0===n?1:n===r.length-1?e.length-1:t[0].length,a="https://suggestqueries.google.com/complete/search?dpr=1&cp=".concat(i,"&xssi=f&client=firefox&q=").concat(e),s=new Promise((function(t,e){jQuery.ajax({url:a,type:"GET",dataType:"jsonp",cache:!1,success:function(e){t(e)},error:function(t){e(t)}})}));o.push(s)})),n.prev=6,n.next=9,Promise.all(o);case 9:a=n.sent,n.next=15;break;case 12:return n.prev=12,n.t0=n["catch"](6),n.abrupt("return",[e.keyword]);case 15:return s=[],a.forEach((function(t,e){var n;(n=s).push.apply(n,dl(t[1]))})),s.includes(e.keyword)||(s=[e.keyword].concat(dl(s))),s=dl(new Set(s)),n.abrupt("return",s);case 20:case"end":return n.stop()}}),n,null,[[6,12]])})))),this.keyword=t}));const _l=vl;function xl(t){return xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(t)}function wl(t){return function(t){if(Array.isArray(t))return El(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return El(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return El(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function El(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ml(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sl(Object(n),!0).forEach((function(e){Tl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cl(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Cl=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(T){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=c;var u={};function h(){}function f(){}function d(){}var p={};s(p,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==e&&n.call(m,i)&&(p=m);var y=d.prototype=h.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){function r(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==xl(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function _(t,e){var n=t.iterator[e.method];if(undefined===n){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=undefined,_(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=undefined),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=undefined,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:undefined,done:!0}}return f.prototype=d,s(y,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(v.prototype),s(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new v(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=undefined)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=undefined),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=undefined),u}},t}function kl(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(r,i)}function Ol(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){kl(o,r,i,a,s,"next",t)}function s(t){kl(o,r,i,a,s,"throw",t)}a(undefined)}))}}var Rl=window.getGenie.Components.Common,Al=Rl.Libs,Nl=Rl.Utilities,Dl=window.getGenie.Components.Common.RequestManager,Pl=Dl.HandleFetch,Il=Dl.HandleResponse,Ll=window.getGenie.Components.Common.ReduxManager.ComposeComponents,jl=window.antd,Fl=jl.Typography,Bl=jl.Tooltip,zl=wp.i18n.__,Hl=wp.element.useEffect,Ul=Ll((function(t){var e,n=t.getInputs,r=t.setInput,i=t.sidebar,o=t.setSidebar,a=n.relatedKeywords||[],s=i.statisticsData,c=null===(e=i.statisticsData)||void 0===e?void 0:e.keywords,l=(n.keyword||"").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/g,""),u=l;Hl(Ol(Cl().mark((function d(){var t,e;return Cl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.analyzingRelatedKeyword){n.next=9;break}return t=new _l(l),n.next=4,t.getLongTailKeywords();case 4:(e=n.sent)&&0!==e.length||o({analyzingRelatedKeyword:!1,analyzingSearchVolume:!1}),r("relatedKeywords",e),o({analyzingRelatedKeyword:!1}),h(e);case 9:case"end":return n.stop()}}),d)}))),[i.analyzingRelatedKeyword]);var h=function(t){if(i.analyzingSearchVolume){var e={keywords:t,context:n.inputContext,location:n.selectedCountry};u=l,Pl((function(t){Il(t,(function(){var e=t.data.find((function(t){return t.keyword===u}));if(e){var i=Ml(Ml({},e),{},{keyword:n.keyword||"",country:n.selectedCountry||"usa"});r("searchVolume",i),r("relatedKeywords",t.data),Nl.GenieHelpers.callStoreApi("keywordData",{searchVolume:i,relatedKeywords:t.data})}})),o({analyzingSearchVolume:!1})}),"keywordsData",e)}},f=function(t){return null!=c&&c.find((function(e){return e.keyword===t}))?"getgenie-icon-minus1 remove":"getgenie-icon-plus add"};return React.createElement("div",{className:"getgenie-seo-result-related-keyword",style:{paddingBottom:n.peopleAlsoSearched?0:"150px"}},React.createElement(Fl.Title,{level:5,className:"getgenie-title"},zl("Related Keyword","getgenie")),i.analyzingRelatedKeyword?React.createElement(Al.SkeletonCard,{count:1}):React.createElement(React.Fragment,null,React.createElement("span",{className:"getgenie-related-keywords"},a.length),0===a.length?React.createElement(Fl.Title,{level:5,className:"getgenie-not-found-title"},zl("No related keyword found","getgenie")):React.createElement(Al.Card,{list:a,column:1},(function(t){var e,n,r,a,u,h=function(t){var e,n=null==c?void 0:c.find((function(e){return e.keyword===t}));return c!==undefined&&!(null!=n&&null!==(e=n.usage)&&void 0!==e&&e[1])&&l!==t}(null==t?void 0:t.keyword);return React.createElement("div",{className:"getgenie-data-container"},h&&React.createElement(Bl,{title:zl("Add/remove this keyword for SEO analysis","getgenie"),placement:"topLeft"},React.createElement("span",{className:"getgenie-related-keyword-card-button ".concat(f(null==t?void 0:t.keyword)),onClick:function(){return function(t){var e=[];e=null!=c&&c.find((function(e){return e.keyword===t}))?c.filter((function(e){return(null==e?void 0:e.keyword)!==t})):[].concat(wl(c),[{headingKeyword:t,headingUsage:[3,null],contentKeyword:t,contentUsage:[3,null],keyword:t,usage:[3,null]}]),o({statisticsData:Ml(Ml({},s),{},{keywords:e})})}(null==t?void 0:t.keyword)}})),React.createElement("h5",{className:"getgenie-data-title"},"string"==typeof t?t:null==t?void 0:t.keyword),i.analyzingSearchVolume?React.createElement(Al.Loading,{size:20}):React.createElement("div",{className:"getgenie-data-column"},React.createElement(Fl.Title,{className:"getgenie-data-value"},"CPC: ",null==t||null===(e=t.searchVolume)||void 0===e||null===(n=e.cpc)||void 0===n?void 0:n.currency," ",null==t||null===(r=t.searchVolume)||void 0===r||null===(a=r.cpc)||void 0===a?void 0:a.value),React.createElement(Fl.Title,{className:"getgenie-data-value"},zl("Search:","getgenie")," ",null==t||null===(u=t.searchVolume)||void 0===u?void 0:u.total)))}))))}),["getInputs","sidebar","setInput","setSidebar"]);function Vl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vl(Object(n),!0).forEach((function(e){ql(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gl(t){return function(t){if(Array.isArray(t))return Yl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Yl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $l=window.getGenie.Components.Common.Libs,Kl=window.getGenie.Components.Common.ReduxManager.ComposeComponents,Xl=wp.i18n.__,Zl=window.antd,Jl=Zl.Typography,Ql=Zl.Tooltip,tu=Kl((function(t){var e=t.getInputs,n=t.sidebar,r=t.setSidebar,i=n.statisticsData,o=n.statisticsData.keywords,a=e.peopleAlsoSearched;if(!a)return"";var s=a.findIndex((function(t){return(null==t?void 0:t.title)&&"see more"===(null==t?void 0:t.title.toLowerCase())}));-1!==s&&(a=a.slice(s+1,a.length));return React.createElement("div",{className:"getgenie-seo-result-related-keyword getgenie-seo-result-people-also-searched-keyword"},React.createElement(Jl.Title,{level:5,className:"getgenie-title"},Xl("People also searched for","getgenie")),React.createElement("span",{className:"getgenie-related-keywords"},a.length),React.createElement($l.Card,{list:a,column:1},(function(t){return React.createElement("div",{className:"getgenie-data-container"},o!==undefined&&React.createElement(Ql,{title:Xl("Add/remove this keyword for SEO analysis","getgenie"),placement:"topLeft"},React.createElement("span",{className:"getgenie-related-keyword-card-button ".concat((e=null==t?void 0:t.title,null!=o&&o.find((function(t){return t.keyword===e}))?"getgenie-icon-minus1 remove":"getgenie-icon-plus add")),onClick:function(){return function(t){var e=[];e=null!=o&&o.find((function(e){return e.keyword===t}))?o.filter((function(e){return(null==e?void 0:e.keyword)!==t})):[].concat(Gl(o),[{headingKeyword:t,headingUsage:[3,null],contentKeyword:t,contentUsage:[3,null],keyword:t,usage:[3,null]}]),r({statisticsData:Wl(Wl({},i),{},{keywords:e})})}(null==t?void 0:t.title)}})),React.createElement("h5",{className:"getgenie-data-title"},"string"==typeof t?t:null==t?void 0:t.title));var e})))}),["getInputs","sidebar","setSidebar"]),eu=window.getGenie.Components.Common.ReduxManager.ComposeComponents,nu=window.getGenie.Components.Common.Libs,ru=eu((function(t){var e=t.sidebar;return React.createElement(React.Fragment,null,e.analyzingSearchVolume?React.createElement(nu.SkeletonCard,{count:2}):React.createElement(React.Fragment,null,React.createElement(pe,null),React.createElement(ul,null)),React.createElement(Ul,null),React.createElement(tu,null))}),["sidebar"]);function iu(t){return function(t){if(Array.isArray(t))return ou(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ou(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ou(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ou(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var au=window.antd,su=au.Checkbox,cu=au.Typography,lu=window.getGenie.Components.Common.ReduxManager.ComposeComponents,uu=wp.i18n.__,hu=lu((function(t){var e=t.loading,n=t.setInput,r=t.getInputs,i=t.sidebar,o=r.questionsAsked||null,a=r.selectedOutlines||[];return React.createElement(React.Fragment,null,!o&&e,React.createElement("div",{className:"getgenie-questions-tab"},React.createElement("div",{className:"getgenie-checkbox ".concat("OutlineScreen"===i.component?"":"disable")},o?0===(null==o?void 0:o.length)?React.createElement(cu.Title,{level:5,className:"getgenie-not-found-title"},uu("No questions are found.","getgenie")):null==o?void 0:o.map((function(t,e){return React.createElement(React.Fragment,null,React.createElement("div",{key:e,className:"getgenie-checkbox-container".concat(-1!=a.indexOf(t.title)?" active":"")},React.createElement(su,{checked:a.indexOf(t.title)>-1,onChange:function(e){return function(t,e){if("OutlineScreen"===i.component){var r=iu(a);-1!=r.indexOf(e)?r.splice(r.indexOf(e),1):r.push(e),n("selectedOutlines",r)}}(0,t.title)}},React.createElement("h4",{className:"question-title"},null==t?void 0:t.title)),React.createElement("a",{className:"question-source",target:"_blank",href:null==t?void 0:t.url},null==t?void 0:t.url)))})):"")))}),["setInput","getInputs","sidebar"]);const fu=Object.create(null);fu.open="0",fu.close="1",fu.ping="2",fu.pong="3",fu.message="4",fu.upgrade="5",fu.noop="6";const du=Object.create(null);Object.keys(fu).forEach((t=>{du[fu[t]]=t}));const pu={type:"error",data:"parser error"},gu="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),mu="function"==typeof ArrayBuffer,yu=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)},bu=({type:t,data:e},n,r)=>{return gu&&e instanceof Blob?n?r(e):yu(e,r):mu&&(e instanceof ArrayBuffer||(i=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?n?r(e):yu(new Blob([e]),r):r(fu[t]+(e||""));var i},vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_u="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<vu.length;t++)_u[vu.charCodeAt(t)]=t;const xu="function"==typeof ArrayBuffer,wu=(t,e)=>{if(xu){const n=(t=>{let e,n,r,i,o,a=.75*t.length,s=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);const l=new ArrayBuffer(a),u=new Uint8Array(l);for(e=0;e<s;e+=4)n=_u[t.charCodeAt(e)],r=_u[t.charCodeAt(e+1)],i=_u[t.charCodeAt(e+2)],o=_u[t.charCodeAt(e+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|i>>2,u[c++]=(3&i)<<6|63&o;return l})(t);return Eu(n,e)}return{base64:!0,data:t}},Eu=(t,e)=>"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t,Su=(t,e)=>{if("string"!=typeof t)return{type:"message",data:Eu(t,e)};const n=t.charAt(0);if("b"===n)return{type:"message",data:wu(t.substring(1),e)};return du[n]?t.length>1?{type:du[n],data:t.substring(1)}:{type:du[n]}:pu},Mu=String.fromCharCode(30);function Tu(t){if(t)return function(t){for(var e in Tu.prototype)t[e]=Tu.prototype[e];return t}(t)}Tu.prototype.on=Tu.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Tu.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},Tu.prototype.off=Tu.prototype.removeListener=Tu.prototype.removeAllListeners=Tu.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},Tu.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},Tu.prototype.emitReserved=Tu.prototype.emit,Tu.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Tu.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Cu="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function ku(t,...e){return e.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{})}const Ou=setTimeout,Ru=clearTimeout;function Au(t,e){e.useNativeTimers?(t.setTimeoutFn=Ou.bind(Cu),t.clearTimeoutFn=Ru.bind(Cu)):(t.setTimeoutFn=setTimeout.bind(Cu),t.clearTimeoutFn=clearTimeout.bind(Cu))}class Nu extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class Du extends Tu{constructor(t){super(),this.writable=!1,Au(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e,n){return super.emitReserved("error",new Nu(t,e,n)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=Su(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const Pu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Iu={};let Lu,ju=0,Fu=0;function Bu(t){let e="";do{e=Pu[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function zu(){const t=Bu(+new Date);return t!==Lu?(ju=0,Lu=t):t+"."+Bu(ju++)}for(;Fu<64;Fu++)Iu[Pu[Fu]]=Fu;function Hu(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}let Uu=!1;try{Uu="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Ty){}const Vu=Uu;function Wu(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||Vu))return new XMLHttpRequest}catch(n){}if(!e)try{return new(Cu[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function qu(){}const Gu=null!=new Wu({xdomain:!1}).responseType;class Yu extends Tu{constructor(t,e){super(),Au(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=undefined!==e.data?e.data:null,this.create()}create(){const t=ku(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new Wu(t);try{e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(n){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{e.setRequestHeader("Accept","*/*")}catch(n){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),e.onreadystatechange=()=>{4===e.readyState&&(200===e.status||1223===e.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof e.status?e.status:0)}),0))},e.send(this.data)}catch(n){return void this.setTimeoutFn((()=>{this.onError(n)}),0)}"undefined"!=typeof document&&(this.index=Yu.requestsCount++,Yu.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=qu,t)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete Yu.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Yu.requestsCount=0,Yu.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",$u);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Cu?"pagehide":"unload",$u,!1)}function $u(){for(let t in Yu.requests)Yu.requests.hasOwnProperty(t)&&Yu.requests[t].abort()}const Ku="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Xu=Cu.WebSocket||Cu.MozWebSocket,Zu="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const Ju={websocket:class extends Du{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=Zu?{}:ku(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Zu?new Xu(t,e,n):e?new Xu(t,e):new Xu(t)}catch(Ty){return this.emitReserved("error",Ty)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;bu(n,this.supportsBinary,(t=>{try{this.ws.send(t)}catch(e){}r&&Ku((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!=typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=zu()),this.supportsBinary||(t.b64=1);const r=Hu(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}check(){return!!Xu}},polling:class extends Du{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}const e=t&&t.forceBase64;this.supportsBinary=Gu&&!e}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const n=t.split(Mu),r=[];for(let t=0;t<n.length;t++){const i=Su(n[t],e);if(r.push(i),"error"===i.type)break}return r})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach(((t,o)=>{bu(t,!1,(t=>{r[o]=t,++i===n&&e(r.join(Mu))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=zu()),this.supportsBinary||t.sid||(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const r=Hu(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new Yu(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}},Qu=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,th=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function eh(t){const e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=Qu.exec(t||""),o={},a=14;for(;a--;)o[th[a]]=i[a]||"";return-1!=n&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");"/"!=e.substr(0,1)&&0!==e.length||r.splice(0,1);"/"==e.substr(e.length-1,1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,r){e&&(n[e]=r)})),n}(0,o.query),o}class nh extends Tu{constructor(t,e={}){super(),t&&"object"==typeof t&&(e=t,t=null),t?(t=eh(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=eh(e.host).host),Au(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},n=t.split("&");for(let t=0,r=n.length;t<r;t++){let r=n[t].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ju[t](n)}open(){let t;if(this.opts.rememberUpgrade&&nh.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(e){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),n=!1;nh.priorWebsocketSuccess=!1;const r=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;nh.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function i(){n||(n=!0,l(),e.close(),e=null)}const o=t=>{const n=new Error("probe error: "+t);n.transport=e.name,i(),this.emitReserved("upgradeError",n)};function a(){o("transport closed")}function s(){o("socket closed")}function c(t){e&&t.name!==e.name&&i()}const l=()=>{e.removeListener("open",r),e.removeListener("error",o),e.removeListener("close",a),this.off("close",s),this.off("upgrading",c)};e.once("open",r),e.once("error",o),e.once("close",a),this.once("close",s),this.once("upgrading",c),e.open()}onOpen(){if(this.readyState="open",nh.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+="string"==typeof(e=r)?function(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}var e;return this.writeBuffer}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,r){if("function"==typeof e&&(r=e,e=undefined),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:t,data:e,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}onError(t){nh.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const r=t.length;for(;n<r;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}nh.protocol=4;nh.protocol;const rh="function"==typeof ArrayBuffer,ih=Object.prototype.toString,oh="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===ih.call(Blob),ah="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===ih.call(File);function sh(t){return rh&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||oh&&t instanceof Blob||ah&&t instanceof File}function ch(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(ch(t[e]))return!0;return!1}if(sh(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return ch(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&ch(t[e]))return!0;return!1}function lh(t){const e=[],n=t.data,r=t;return r.data=uh(n,e),r.attachments=e.length,{packet:r,buffers:e}}function uh(t,e){if(!t)return t;if(sh(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=uh(t[r],e);return n}if("object"==typeof t&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=uh(t[r],e));return n}return t}function hh(t,e){return t.data=fh(t.data,e),t.attachments=undefined,t}function fh(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=fh(t[n],e);else if("object"==typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=fh(t[n],e));return t}const dh=5;var ph;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(ph||(ph={}));class gh{constructor(t){this.replacer=t}encode(t){return t.type!==ph.EVENT&&t.type!==ph.ACK||!ch(t)?[this.encodeAsString(t)]:(t.type=t.type===ph.EVENT?ph.BINARY_EVENT:ph.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return t.type!==ph.BINARY_EVENT&&t.type!==ph.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=lh(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}class mh extends Tu{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t),e.type===ph.BINARY_EVENT||e.type===ph.BINARY_ACK?(this.reconstructor=new yh(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!sh(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(ph[n.type]===undefined)throw new Error("unknown packet type "+n.type);if(n.type===ph.BINARY_EVENT||n.type===ph.BINARY_ACK){const r=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const i=t.substring(r,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===t.charAt(e+1)){const r=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}n.nsp=t.substring(r,e)}else n.nsp="/";const r=t.charAt(e+1);if(""!==r&&Number(r)==r){const r=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){const r=this.tryParse(t.substr(e));if(!mh.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(e){return!1}}static isPayloadValid(t,e){switch(t){case ph.CONNECT:return"object"==typeof e;case ph.DISCONNECT:return e===undefined;case ph.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case ph.EVENT:case ph.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case ph.ACK:case ph.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class yh{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=hh(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function bh(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const vh=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _h extends Tu{constructor(t,e,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[bh(t,"open",this.onopen.bind(this)),bh(t,"packet",this.onpacket.bind(this)),bh(t,"error",this.onerror.bind(this)),bh(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(vh.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');e.unshift(t);const n={type:ph.EVENT,data:e,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,r=e.pop();this._registerAckCallback(t,r),n.id=t}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,e){const n=this.flags.timeout;if(n===undefined)return void(this.acks[t]=e);const r=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),n);this.acks[t]=(...t)=>{this.io.clearTimeoutFn(r),e.apply(this,[null,...t])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this.packet({type:ph.CONNECT,data:t})})):this.packet({type:ph.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ph.CONNECT:if(t.data&&t.data.sid){const e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ph.EVENT:case ph.BINARY_EVENT:this.onevent(t);break;case ph.ACK:case ph.BINARY_ACK:this.onack(t);break;case ph.DISCONNECT:this.ondisconnect();break;case ph.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let n=!1;return function(...r){n||(n=!0,e.packet({type:ph.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=undefined),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ph.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function xh(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}xh.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},xh.prototype.reset=function(){this.attempts=0},xh.prototype.setMin=function(t){this.ms=t},xh.prototype.setMax=function(t){this.max=t},xh.prototype.setJitter=function(t){this.jitter=t};class wh extends Tu{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(n=t,t=undefined),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Au(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||Infinity),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new xh({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===undefined?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===undefined?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return t===undefined?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===undefined?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new nh(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=bh(e,"open",(function(){n.onopen(),t&&t()})),i=bh(e,"error",(e=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",e),t?t(e):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const t=this._timeout;0===t&&r();const n=this.setTimeoutFn((()=>{r(),e.close(),e.emit("error",new Error("timeout"))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(bh(t,"ping",this.onping.bind(this)),bh(t,"data",this.ondata.bind(this)),bh(t,"error",this.onerror.bind(this)),bh(t,"close",this.onclose.bind(this)),bh(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n||(n=new _h(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const t of e){if(this.nsps[t].active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Eh={};function Sh(t,e){"object"==typeof t&&(e=t,t=undefined);const n=function(t,e="",n){let r=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),r=eh(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(t,(e=e||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=Eh[i]&&o in Eh[i].nsps;let s;return e.forceNew||e["force new connection"]||!1===e.multiplex||a?s=new wh(r,e):(Eh[i]||(Eh[i]=new wh(r,e)),s=Eh[i]),n.query&&!e.query&&(e.query=n.queryKey),s.socket(n.path,e)}function Mh(t){return Mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(t)}function Th(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Th=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(Ty){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(Ty){return{type:"throw",arg:Ty}}}t.wrap=c;var u={};function h(){}function f(){}function d(){}var p={};s(p,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==e&&n.call(m,i)&&(p=m);var y=d.prototype=h.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){function r(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Mh(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function _(t,e){var n=t.iterator[e.method];if(undefined===n){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=undefined,_(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=undefined),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=undefined,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:undefined,done:!0}}return f.prototype=d,s(y,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(v.prototype),s(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new v(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=undefined)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=undefined),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=undefined),u}},t}function Ch(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(r,i)}function kh(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Ch(o,r,i,a,s,"next",t)}function s(t){Ch(o,r,i,a,s,"throw",t)}a(undefined)}))}}function Oh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(Ty){s=!0,i=Ty}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Rh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Object.assign(Sh,{Manager:wh,Socket:_h,io:Sh,connect:Sh});var Ah=window.antd,Nh=Ah.Button,Dh=Ah.Divider,Ph=Ah.Radio,Ih=wp.element,Lh=Ih.useEffect,jh=Ih.useState,Fh=window.getGenie.Components.Common.RequestManager.HandleResponse,Bh=window.getGenie.Components.Common.ReduxManager.ComposeComponents,zh=window.getGenie.Components.Common,Hh=zh.Libs,Uh=zh.Utilities,Vh=wp.i18n.__,Wh=!1,qh=Bh((function(t){var e=t.sidebar,n=t.getInputs,r=t.setInput,i=t.setSidebar,o=Oh(jh("keywords"),2),a=o[0],s=o[1],c=Oh(jh(""),2),l=c[0],u=c[1],h=Oh(jh(n.competitorData||null),2),f=h[0],d=h[1],p=e.analyzingSearchVolume||e.analyzingRelatedKeyword;Lh((function(){n.competitorData?d(n.competitorData):d(null)}),[n.competitorData]),Lh((function(){var t;null!==(t=Object.keys(n.searchVolume||{}))&&void 0!==t&&t.length&&"OutlineScreen"===e.component&&s("competitor")}),[n.generatedOutlines]),Lh((function(){!n.competitorData&&n.searchVolume&&s("competitor")}),[e.statisticsScreen.triggered]);var g=function(t){return new Promise((function(e){setTimeout(e,t)}))};function m(){return(m=kh(Th().mark((function t(){return Th().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(Vh("Getting competitor list ","getgenie")),t.next=3,g(15e3);case 3:n.questionsAsked||Wh||u(Vh("Fetching competitor websites ","getgenie"));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Lh((function(){n.searchVolume||s("keywords"),u("")}),[n.searchVolume]),Lh((function(){e.statisticsScreen.clicked&&s("competitor")}),[e.statisticsScreen.clicked]);var y=l?React.createElement("h5",{className:"getgenie-loading-state"},React.createElement("span",null,l),"  ",React.createElement(Hh.Loading,{size:25})," "):React.createElement(Nh,{className:"getgenie-fetch-competitor-btn",onClick:function(){if(!n.competitorData&&n.relatedKeywords){var t,e,o,a=n.relatedKeywords||[];a.every((function(t){return"string"!=typeof t}))&&(a=a.map((function(t){return(null==t?void 0:t.keyword)||""}))),function(){m.apply(this,arguments)}();var s,c=Sh(null===(t=window.getGenie.config)||void 0===t?void 0:t.parserApi,{extraHeaders:{"Site-Token":null===(e=window.getGenie.config)||void 0===e?void 0:e.siteToken,"Auth-Token":null===(o=window.getGenie.config)||void 0===o?void 0:o.authToken},query:{location:n.selectedCountry,keyword:n.keyword},reconnectionAttempts:3,reconnectionDelay:3e3}),l=new D,h=[],f=[],p=[],g=0;c.on("connect",(function(){c.on("competitorData",(function(t){if(Fh(t,(function(){var e,i;p=t.data.question,r("questionsAsked",p),r("peopleAlsoSearched",null===(e=t.data)||void 0===e?void 0:e.peopleAlsoSearched),Uh.GenieHelpers.callStoreApi("keywordData",{searchVolume:n.searchVolume,relatedKeywords:n.relatedKeywords,peopleAlsoSearched:null===(i=t.data)||void 0===i?void 0:i.peopleAlsoSearched})})),"fail"===(null==t?void 0:t.status))return u(""),void(Wh=!0);u(Vh("Analyzing and fetching data ","getgenie"))})),c.on("scrapedItems",(function(t){s&&clearTimeout(s),Fh(t,(function(){var e;if(0!==(null==t||null===(e=t.data)||void 0===e?void 0:e.length)){f.push(null==t?void 0:t.data[0]);var n=l.scrapping(t.data);0!==(null==n?void 0:n.length)&&(h.find((function(t){var e;return(null==t?void 0:t.url)===(null===(e=n[0])||void 0===e?void 0:e.url)}))||(h.push(n[0]),d(h)))}})),"fail"===(null==t?void 0:t.status)&&(Wh=!0,u("")),s=setTimeout((function(){c.close()}),12e4)}))})),c.on("disconnect",(function(t){if(t.includes("transport")?setTimeout((function(){u("")}),9e3):u(""),0!==h.length){r("competitorData",h);var e=l.getStat(h,a);Uh.GenieHelpers.callStoreApi("serpData",{competitorData:h,questionsAsked:p,statisticsData:e}),i({statisticsData:e,statisticsScreen:{loading:!1}})}})),c.on("connect_error",(function(){++g>2?(u(""),Wh=!0):c.connect()}))}}},Vh("Fetch Data","getgenie"));return React.createElement("div",{className:"getgenie-seo-keyword-tab"},React.createElement("div",{className:"genie-nav-container"},React.createElement(Ph.Group,{value:a,onChange:function(t){return s(t.target.value)}},React.createElement(Ph.Button,{value:"keywords"},Vh("Keywords","getgenie")),React.createElement(Ph.Button,{disabled:p,value:"competitor"},Vh("Competitor","getgenie")),React.createElement(Ph.Button,{disabled:p,value:"questions"},Vh("Questions Asked","getgenie")))),React.createElement(Dh,null),React.createElement("div",{className:"getgenie-seo-container"},"keywords"===a&&React.createElement(ru,null),"competitor"===a&&React.createElement(ae,{loading:y,data:f}),"questions"===a&&React.createElement(hu,{loading:y})))}),["getInputs","sidebar","setInput","setSidebar"]);const Gh=function(t){var e=t.visible;return React.createElement("div",{className:"getgenie-analyzeKeywordScreen ".concat(e?"":"hide")},React.createElement("div",{className:"getgenie-empty-tag"}),React.createElement(qh,null))};function Yh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(Ty){s=!0,i=Ty}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return $h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kh=window.antd,Xh=Kh.Divider,Zh=Kh.Form,Jh=wp.i18n.__,Qh=window.getGenie.Components.Common,tf=Qh.ContentFeedback,ef=Qh.Libs,nf=Qh.Utilities,rf=window.getGenie.Components.Common.RequestManager,of=rf.HandleFetch,af=rf.HandleResponse,sf=window.getGenie.Components.Common.ReduxManager.ComposeComponents,cf=wp.element,lf=cf.useEffect,uf=cf.useState;const hf=sf((function(t){var e=t.getInputs,n=t.setInput,r=Yh(uf(!1),2),i=r[0],o=r[1],a=e.generatedIntros||[];return lf((function(){return nf.GenieHelpers.storeData("introCreativityLevel")}),[e.introCreativityLevel]),React.createElement(React.Fragment,null,React.createElement(ef.DrawerHeader,null),React.createElement(Lg,{navigation:"intro"}),React.createElement(Xh,null),React.createElement("div",{className:"getgenie-title-form"},React.createElement(Zh,{layout:"vertical",onFinish:function(){o(!0);var t={title:e.selectedTitle,context:e.inputContext,creativity:e.introCreativityLevel,numberOfResult:e.introResultLimit};n("generatedIntros",[]),of((function(t){o(!1),af(t,(function(){var e=t.data.map((function(t){return{title:t,like:!1,dislike:!1}}));n("generatedIntros",e),nf.GenieHelpers.callStoreApi("generatedIntros",e)}))}),"writeIntro",t)}},React.createElement("div",{className:"getgenie-screen-content intro"},React.createElement(ef.Collapse,{defaultActiveKey:["generated-content"],className:"getgenie-collapse"},React.createElement(ef.Collapse.Panel,{header:React.createElement(React.Fragment,null,Jh("Title","getgenie"),React.createElement(ef.Tooltip,{title:Jh("Edit or change the blog post title","getgenie"),placement:"top"})),key:"generated-content"},React.createElement(ef.Textarea,{name:"selectedTitle",type:"text",placeholder:Jh("Enter the blog post title here.","getgenie"),required:!0,errorMessage:Jh("Please enter the title here","getgenie")}))),React.createElement(ef.Slider,{name:"introCreativityLevel",label:React.createElement(React.Fragment,null,Jh("Creativity Level","getgenie")," ",React.createElement(ef.Tooltip,{title:Jh("The higher the creativity level, the more innovative & creative outputs you get.","getgenie"),placement:"top"},"i")),message:!1,defaultValue:4}),React.createElement(ef.NumberInput,{name:"introResultLimit",max:4,type:"text",defaultValue:2,label:React.createElement(React.Fragment,null,Jh("Set Result Limit","getgenie")," ",React.createElement(ef.Tooltip,{title:Jh("How many variations of title do you want?","getgenie"),placement:"top"},"i")),required:!0,errorMessage:Jh("Please enter the title here","getgenie")}),React.createElement(ef.Button,{htmlType:"submit",type:"primary",className:"submit-btn",loading:i},React.createElement("span",{className:"getgenie-icon-Edit"}),Jh("Generate Intro","getgenie"))),React.createElement(ef.TitleMsg,{list:a,loading:i,title:"intro"}),React.createElement("div",{className:"getgenie-card-container getgenie-title-cards",style:{backgroundColor:0===a.length&&"transparent"}},React.createElement(ef.Card,{showActiveItem:!0,value:e.selectedIntro,list:a,handleClick:function(t,e){n("selectedIntro",e.title)},skeleton:i?function(){return React.createElement(ef.SkeletonSingle,{count:10})}:""},(function(t){return React.createElement(React.Fragment,null,React.createElement("h5",{className:"generated-content"},t.title),React.createElement(tf,{content:t,input:e.selectedTitle,contentType:"blogWizard-intro",creativityLevel:e.introCreativityLevel,listName:"generatedIntros"}))})))),React.createElement(ef.DrawerFooter,{prevScreen:"TitleScreen",nextScreen:"OutlineScreen",enableNextBtn:!!a.find((function(t){return t.title===e.selectedIntro}))})))}),["getInputs","setInput"]);function ff(t){return function(t){if(Array.isArray(t))return df(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return df(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return df(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function df(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pf=window.getGenie.Components.Common.Libs,gf=window.antd,mf=gf.Button,yf=gf.Card,bf=gf.Checkbox,vf=gf.Typography,_f=gf.Tooltip,xf=wp.i18n.__,wf=(0,window.getGenie.Components.Common.ReduxManager.ComposeComponents)((function(t){var e=t.setInput,n=t.getInputs,r=t.sidebar,i=t.visible,o=(t.width,n.selectedOutlines||[]),a=n.generatedOutlines||[],s=r.generatedOutlines.loading,c=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return ff(t).filter((function(t){return o.includes(t)})).length===t.length};return i&&React.createElement("div",{className:"getgenie-generated-outlines"},React.createElement("div",{className:"getgenie-empty-tag"}),React.createElement("h5",{className:"getgenie-generated-outlines-title"},React.createElement(_f,{title:xf("Select subheadings to create your content outline.","getgenie"),placement:"top"},xf("Generated Outlines","getgenie")),React.createElement(vf.Text,{className:"generateMsg outline"},React.createElement("span",{className:"resultNumber"},a.length))),s?React.createElement(pf.SkeletonCard,{count:5}):0===a.length?React.createElement(vf.Title,{level:5,className:"getgenie-not-found-title"}," ",xf("Something Went Wrong! Please Try Again.","getgenie")," "):React.createElement("div",{className:"getgenie-generated-outlines-cards"},a.map((function(t,n){return React.createElement(React.Fragment,null,React.createElement(yf,{key:n,className:"getgenie-generated-outlines-card"},React.createElement(mf,{className:"getgenie-generated-outlines-card-select-btn",type:"link",onClick:function(){return function(t,n){var r=ff(o);if(n){var i=[];o.forEach((function(e,n){-1==t.indexOf(e)&&-1===i.indexOf(e)&&i.push(e)})),r=i}else r=[].concat(ff(o),ff(t));e("selectedOutlines",r)}(t,c(t))}},c(t)?xf("Unselect All","getgenie"):xf("Select All","getgenie")),React.createElement("div",{className:"getgenie-checkbox"},t.map((function(t,n){return React.createElement(React.Fragment,null,React.createElement("div",{key:n,className:"getgenie-checkbox-container".concat(-1!=o.indexOf(t)?xf(" active","getgenie"):"")},React.createElement(bf,{checked:-1!=o.indexOf(t),onChange:function(){return n=t,-1!=(r=ff(o)).indexOf(n)?r.splice(r.indexOf(n),1):r.push(n),void e("selectedOutlines",r);var n,r}},t)))})))))}))))}),["setInput","getInputs","sidebar"]),Ef=n(63);const Sf="undefined"!=typeof window?Fc.useLayoutEffect:Fc.useEffect;function Mf(t,e,n){const[r,i]=function(t,e,n){const[r,i]=(0,Fc.useState)((()=>e(t))),o=(0,Fc.useCallback)((()=>{const o=e(t);Ef(r,o)||(i(o),n&&n())}),[r,t,n]);return Sf(o),[r,o]}(t,e,n);return Sf((function(){const e=t.getHandlerId();if(null!=e)return t.subscribeToStateChange(i,{handlerIds:[e]})}),[t,i]),r}function Tf(t,e,n){return Mf(e,t||(()=>({})),(()=>n.reconnect()))}function Cf(t,e){const n=[...e||[]];return null==e&&"function"!=typeof t&&n.push(t),(0,Fc.useMemo)((()=>"function"==typeof t?t():t),n)}function kf(t){return(0,Fc.useMemo)((()=>t.hooks.dropTarget()),[t])}function Of(t,e,n,r){let i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!=typeof t||!t||"object"!=typeof e||!e)return!1;const o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;const s=Object.prototype.hasOwnProperty.bind(e);for(let a=0;a<o.length;a++){const c=o[a];if(!s(c))return!1;const l=t[c],u=e[c];if(i=n?n.call(r,l,u,c):void 0,!1===i||void 0===i&&l!==u)return!1}return!0}function Rf(t){return null!==t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function Af(t,e,...n){if("undefined"!=typeof process&&e===undefined)throw new Error("invariant requires an error message argument");if(!t){let t;if(e===undefined)t=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;t=new Error(e.replace(/%s/g,(function(){return n[r++]}))),t.name="Invariant Violation"}throw t.framesToPop=1,t}}function Nf(t){return(e=null,n=null)=>{if(!(0,Fc.isValidElement)(e)){const r=e;return t(r,n),r}const r=e;!function(t){if("string"==typeof t.type)return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}(r);return function(t,e){const n=t.ref;return Af("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,Fc.cloneElement)(t,{ref:t=>{Pf(n,t),Pf(e,t)}}):(0,Fc.cloneElement)(t,{ref:e})}(r,n?e=>t(e,n):t)}}function Df(t){const e={};return Object.keys(t).forEach((n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const t=Nf(r);e[n]=()=>t}})),e}function Pf(t,e){"function"==typeof t?t(e):t.current=e}class If{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const e=this.dropTarget;this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=e,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,e,this.dropTargetOptions)):this.lastConnectedDropTarget=e)}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Of(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=undefined)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=Df({dropTarget:(t,e)=>{this.clearDropTarget(),this.dropTargetOptions=e,Rf(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}const Lf=(0,Fc.createContext)({dragDropManager:undefined});function jf(){const{dragDropManager:t}=(0,Fc.useContext)(Lf);return Af(null!=t,"Expected drag drop context"),t}let Ff=!1;class Bf{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,e){return this.internalMonitor.subscribeToStateChange(t,e)}canDrop(){if(!this.targetId)return!1;Af(!Ff,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ff=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ff=!1}}isOver(t){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}class zf{canDrop(){const t=this.spec,e=this.monitor;return!t.canDrop||t.canDrop(e.getItem(),e)}hover(){const t=this.spec,e=this.monitor;t.hover&&t.hover(e.getItem(),e)}drop(){const t=this.spec,e=this.monitor;if(t.drop)return t.drop(e.getItem(),e)}constructor(t,e){this.spec=t,this.monitor=e}}function Hf(t,e,n){const r=jf(),i=function(t,e){const n=(0,Fc.useMemo)((()=>new zf(t,e)),[e]);return(0,Fc.useEffect)((()=>{n.spec=t}),[t]),n}(t,e),o=function(t){const{accept:e}=t;return(0,Fc.useMemo)((()=>(Af(null!=t.accept,"accept must be defined"),Array.isArray(e)?e:[e])),[e])}(t);Sf((function(){const[t,a]=function(t,e,n){const r=n.getRegistry(),i=r.addTarget(t,e);return[i,()=>r.removeTarget(i)]}(o,i,r);return e.receiveHandlerId(t),n.receiveHandlerId(t),a}),[r,e,i,n,o.map((t=>t.toString())).join("|")])}function Uf(t,e){const n=Cf(t,e),r=function(){const t=jf();return(0,Fc.useMemo)((()=>new Bf(t)),[t])}(),i=function(t){const e=jf(),n=(0,Fc.useMemo)((()=>new If(e.getBackend())),[e]);return Sf((()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget())),[t]),n}(n.options);return Hf(n,r,i),[Tf(n.collect,r,i),kf(i)]}function Vf(t){return(0,Fc.useMemo)((()=>t.hooks.dragSource()),[t])}function Wf(t){return(0,Fc.useMemo)((()=>t.hooks.dragPreview()),[t])}class qf{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return e&&this.disconnectDragSource(),this.handlerId?t?(e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),e):(this.lastConnectedDragSource=t,e):e}reconnectDragPreview(t=!1){const e=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();n&&this.disconnectDragPreview(),this.handlerId&&(e?n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Of(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Of(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=undefined)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=undefined,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Df({dragSource:(t,e)=>{this.clearDragSource(),this.dragSourceOptions=e||null,Rf(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,e)=>{this.clearDragPreview(),this.dragPreviewOptions=e||null,Rf(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}let Gf=!1,Yf=!1;class $f{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){Af(!Gf,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Gf=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Gf=!1}}isDragging(){if(!this.sourceId)return!1;Af(!Yf,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Yf=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Yf=!1}}subscribeToStateChange(t,e){return this.internalMonitor.subscribeToStateChange(t,e)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,e){return this.internalMonitor.isOverTarget(t,e)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}class Kf{beginDrag(){const t=this.spec,e=this.monitor;let n=null;return n="object"==typeof t.item?t.item:"function"==typeof t.item?t.item(e):{},null!=n?n:null}canDrag(){const t=this.spec,e=this.monitor;return"boolean"==typeof t.canDrag?t.canDrag:"function"!=typeof t.canDrag||t.canDrag(e)}isDragging(t,e){const n=this.spec,r=this.monitor,{isDragging:i}=n;return i?i(r):e===t.getSourceId()}endDrag(){const t=this.spec,e=this.monitor,n=this.connector,{end:r}=t;r&&r(e.getItem(),e),n.reconnect()}constructor(t,e,n){this.spec=t,this.monitor=e,this.connector=n}}function Xf(t,e,n){const r=jf(),i=function(t,e,n){const r=(0,Fc.useMemo)((()=>new Kf(t,e,n)),[e,n]);return(0,Fc.useEffect)((()=>{r.spec=t}),[t]),r}(t,e,n),o=function(t){return(0,Fc.useMemo)((()=>{const e=t.type;return Af(null!=e,"spec.type must be defined"),e}),[t])}(t);Sf((function(){if(null!=o){const[t,a]=function(t,e,n){const r=n.getRegistry(),i=r.addSource(t,e);return[i,()=>r.removeSource(i)]}(o,i,r);return e.receiveHandlerId(t),n.receiveHandlerId(t),a}}),[r,e,n,i,o])}function Zf(t,e){const n=Cf(t,e);Af(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=function(){const t=jf();return(0,Fc.useMemo)((()=>new $f(t)),[t])}(),i=function(t,e){const n=jf(),r=(0,Fc.useMemo)((()=>new qf(n.getBackend())),[n]);return Sf((()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource())),[r,t]),Sf((()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview())),[r,e]),r}(n.options,n.previewOptions);return Xf(n,r,i),[Tf(n.collect,r,i),Vf(i),Wf(i)]}function Jf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jf(Object(n),!0).forEach((function(e){td(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function td(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ed(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(Ty){s=!0,i=Ty}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return nd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nd(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rd=wp.element,id=rd.useRef,od=rd.useState,ad=window.antd,sd=ad.Button,cd=ad.Dropdown,ld=ad.Menu,ud=wp.i18n.__,hd=(0,window.getGenie.Components.Common.ReduxManager.ComposeComponents)((function(t){var e=t.outlines,n=t.setOutlines,r=t.swapOutlines,i=t.id,o=t.text,a=t.index,s=t.setInput,c=ed(od(""),2),l=c[0],u=c[1],h=ed(od(""),2),f=h[0],d=h[1],p=id(null),g=ed(Uf({accept:"card",collect:function(t){return{handlerId:t.getHandlerId()}},hover:function(t,e){var n;if(p.current){var i=t.index,o=a;if(i!==o){var s=null===(n=p.current)||void 0===n?void 0:n.getBoundingClientRect(),c=(s.bottom-s.top)/2,l=e.getClientOffset().y-s.top;i<o&&l<c||i>o&&l>c||(r(i,o),t.index=o)}}}}),2),m=g[0].handlerId,y=g[1],b=ed(Zf({type:"card",item:function(){return{id:i,index:a}},collect:function(t){return{isDragging:t.isDragging()}}}),2),v=b[0].isDragging?0:1;(0,b[1])(y(p));var _=function(t,r){if("keyup"!==t.type||"Enter"===t.key&&13===(null==t?void 0:t.which)){var i=e.map((function(t,e){return e===r?Qf(Qf({},t),{},{text:f}):t}));i=i.filter((function(t){return t.text})),n(i),s("selectedOutlines",i.map((function(t){return t.text}))),u(""),"keyup"===t.type&&d("")}else d(t.target.value)},x=function(t){u(t),d(t)};return React.createElement("div",{ref:p,"data-handler-id":m,style:{cursor:"grab",opacity:v},className:"getgenie-single-outline ".concat(l===o?"outline-input":"outline-content")},React.createElement("div",{className:"getgenie-outline-cards-content"},l===o?React.createElement("textarea",{autoFocus:!0,onFocus:function(t){return t.target.selectionStart=o.length},onBlur:function(t){return _(t,a)},className:"getgenie-outline-cards-input",defaultValue:o,onKeyDown:function(t){return t.stopPropagation()},onKeyUp:function(t){return _(t,a)}}):React.createElement(React.Fragment,null,React.createElement("h5",{onDoubleClick:function(){return x(o)},className:"generated-content"},o),React.createElement(cd,{overlay:function(t){return React.createElement(ld,{className:"getgenie-outline-menu"},React.createElement(ld.Item,{key:"0"},React.createElement(sd,{type:"text",onClick:function(){return x(t)}},React.createElement("span",{className:"getgenie-icon-Edit icon"}),ud("Edit","getgenie"))),React.createElement(ld.Item,{key:"1"},React.createElement(sd,{type:"text",onClick:function(){return function(t){var r=e.filter((function(e){return e.text!==t}));n(r)}(t)}},React.createElement("span",{className:"getgenie-icon-trash icon"}),ud("Delete","getgenie"))))}(o),trigger:["click"]},React.createElement(sd,{type:"text",className:"getgenie-outline-cards-menuBtn"},React.createElement("span",{className:"getgenie-icon-more-vertical"}))))))}),["getInputs","setInput"]),fd=n(145),dd=n.n(fd);function pd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(Ty){s=!0,i=Ty}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||md(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gd(t){return function(t){if(Array.isArray(t))return yd(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||md(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function md(t,e){if(t){if("string"==typeof t)return yd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yd(t,e):void 0}}function yd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bd=wp.element,vd=bd.useState,_d=bd.useCallback,xd=bd.useEffect,wd=window.getGenie.Components.Common.ReduxManager.ComposeComponents,Ed=window.antd.Button,Sd=wp.i18n.__,Md=wd((function(t){var e=t.getInputs,n=t.setInput,r=e.selectedOutlines?gd(new Set(e.selectedOutlines)):[],i=vd(r.map((function(t,e){return{text:t,id:e+1}}))),o=pd(i,2),a=o[0],s=o[1];xd((function(){var t=a.map((function(t){return t.text}));r.length>=a.length&&n("selectedOutlines",t)}),[a]),xd((function(){r.length!==a.length&&s(r.map((function(t,e){return{text:t,id:e+1}})))}),[e.selectedOutlines]);var c=_d((function(t,e){s((function(n){return dd()(n,{$splice:[[t,1],[e,0,n[t]]]})}))}),[]);return React.createElement("div",{className:"getgenie-card"},a.map((function(t,e){return React.createElement(hd,{key:t.id,index:e,id:t.id,text:t.text,swapOutlines:c,outlines:a,setOutlines:s})})),React.createElement(Ed,{onClick:function(){s((function(t){return[].concat(gd(t),[{text:"",id:""}])}))},type:"primary",className:"add-outline-btn"},Sd("Add Outline","getgenie")))}),["getInputs","setInput"]),Td=n(521);function Cd(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var kd="function"==typeof Symbol&&Symbol.observable||"@@observable",Od=function(){return Math.random().toString(36).substring(7).split("").join(".")},Rd={INIT:"@@redux/INIT"+Od(),REPLACE:"@@redux/REPLACE"+Od(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Od()}};function Ad(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Nd(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Cd(0));if("function"==typeof e&&void 0===n&&(n=e,e=undefined),void 0!==n){if("function"!=typeof n)throw new Error(Cd(1));return n(Nd)(t,e)}if("function"!=typeof t)throw new Error(Cd(2));var i=t,o=e,a=[],s=a,c=!1;function l(){s===a&&(s=a.slice())}function u(){if(c)throw new Error(Cd(3));return o}function h(t){if("function"!=typeof t)throw new Error(Cd(4));if(c)throw new Error(Cd(5));var e=!0;return l(),s.push(t),function(){if(e){if(c)throw new Error(Cd(6));e=!1,l();var n=s.indexOf(t);s.splice(n,1),a=null}}}function f(t){if(!Ad(t))throw new Error(Cd(7));if("undefined"==typeof t.type)throw new Error(Cd(8));if(c)throw new Error(Cd(9));try{c=!0,o=i(o,t)}finally{c=!1}for(var e=a=s,n=0;n<e.length;n++){(0,e[n])()}return t}function d(t){if("function"!=typeof t)throw new Error(Cd(10));i=t,f({type:Rd.REPLACE})}function p(){var t,e=h;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(Cd(11));function n(){t.next&&t.next(u())}return n(),{unsubscribe:e(n)}}})[kd]=function(){return this},t}return f({type:Rd.INIT}),(r={dispatch:f,subscribe:h,getState:u,replaceReducer:d})[kd]=p,r}function Dd(t){return"object"==typeof t}const Pd="dnd-core/INIT_COORDS",Id="dnd-core/BEGIN_DRAG",Ld="dnd-core/PUBLISH_DRAG_SOURCE",jd="dnd-core/HOVER",Fd="dnd-core/DROP",Bd="dnd-core/END_DRAG";function zd(t,e){return{type:Pd,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const Hd={type:Pd,payload:{clientOffset:null,sourceClientOffset:null}};function Ud(t){return function(e=[],n={publishSource:!0}){const{publishSource:r=!0,clientOffset:i,getSourceClientOffset:o}=n,a=t.getMonitor(),s=t.getRegistry();t.dispatch(zd(i)),function(t,e,n){Af(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach((function(t){Af(n.getSource(t),"Expected sourceIds to be registered.")}))}(e,a,s);const c=function(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}(e,a);if(null==c)return void t.dispatch(Hd);let l=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");!function(t){Af("function"==typeof t,"When clientOffset is provided, getSourceClientOffset must be a function.")}(o),l=o(c)}t.dispatch(zd(i,l));const u=s.getSource(c).beginDrag(a,c);if(null==u)return undefined;!function(t){Af(Dd(t),"Item must be an object.")}(u),s.pinSource(c);const h=s.getSourceType(c);return{type:Id,payload:{itemType:h,item:u,sourceId:c,clientOffset:i||null,sourceClientOffset:l||null,isSourcePublic:!!r}}}}function Vd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Vd(t,e,n[e])}))}return t}function qd(t){return function(e={}){const n=t.getMonitor(),r=t.getRegistry();!function(t){Af(t.isDragging(),"Cannot call drop while not dragging."),Af(!t.didDrop(),"Cannot call drop twice during one drag operation.")}(n);const i=function(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}(n);i.forEach(((i,o)=>{const a=function(t,e,n,r){const i=n.getTarget(t);let o=i?i.drop(r,t):undefined;(function(t){Af(void 0===t||Dd(t),"Drop result must either be an object or undefined.")})(o),void 0===o&&(o=0===e?{}:r.getDropResult());return o}(i,o,r,n),s={type:Fd,payload:{dropResult:Wd({},e,a)}};t.dispatch(s)}))}}function Gd(t){return function(){const e=t.getMonitor(),n=t.getRegistry();!function(t){Af(t.isDragging(),"Cannot call endDrag while not dragging.")}(e);const r=e.getSourceId();if(null!=r){n.getSource(r,!0).endDrag(e,r),n.unpinSource()}return{type:Bd}}}function Yd(t,e){return null===e?null===t:Array.isArray(t)?t.some((t=>t===e)):t===e}function $d(t){return function(e,{clientOffset:n}={}){!function(t){Af(Array.isArray(t),"Expected targetIds to be an array.")}(e);const r=e.slice(0),i=t.getMonitor(),o=t.getRegistry();return function(t,e,n){for(let r=t.length-1;r>=0;r--){const i=t[r];Yd(e.getTargetType(i),n)||t.splice(r,1)}}(r,o,i.getItemType()),function(t,e,n){Af(e.isDragging(),"Cannot call hover while not dragging."),Af(!e.didDrop(),"Cannot call hover after drop.");for(let e=0;e<t.length;e++){const r=t[e];Af(t.lastIndexOf(r)===e,"Expected targetIds to be unique in the passed array.");Af(n.getTarget(r),"Expected targetIds to be registered.")}}(r,i,o),function(t,e,n){t.forEach((function(t){n.getTarget(t).hover(e,t)}))}(r,i,o),{type:jd,payload:{targetIds:r,clientOffset:n||null}}}}function Kd(t){return function(){if(t.getMonitor().isDragging())return{type:Ld}}}class Xd{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:e}=this.store;const n=function(t){return{beginDrag:Ud(t),publishDragSource:Kd(t),hover:$d(t),drop:qd(t),endDrag:Gd(t)}}(this);return Object.keys(n).reduce(((r,i)=>{const o=n[i];var a;return r[i]=(a=o,(...n)=>{const r=a.apply(t,n);void 0!==r&&e(r)}),r}),{})}dispatch(t){this.store.dispatch(t)}constructor(t,e){this.isSetUp=!1,this.handleRefCountChange=()=>{const t=this.store.getState().refCount>0;this.backend&&(t&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!t&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=e,t.subscribe(this.handleRefCountChange)}}function Zd(t,e){return{x:t.x-e.x,y:t.y-e.y}}const Jd=[],Qd=[];Jd.__IS_NONE__=!0,Qd.__IS_ALL__=!0;class tp{subscribeToStateChange(t,e={}){const{handlerIds:n}=e;Af("function"==typeof t,"listener must be a function."),Af(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;return this.store.subscribe((()=>{const e=this.store.getState(),i=e.stateId;try{const o=i===r||i===r+1&&!function(t,e){return t!==Jd&&(t===Qd||void 0===e||(n=t,e.filter((t=>n.indexOf(t)>-1))).length>0);var n}(e.dirtyHandlerIds,n);o||t()}finally{r=i}}))}subscribeToOffsetChange(t){Af("function"==typeof t,"listener must be a function.");let e=this.store.getState().dragOffset;return this.store.subscribe((()=>{const n=this.store.getState().dragOffset;n!==e&&(e=n,t())}))}canDragSource(t){if(!t)return!1;const e=this.registry.getSource(t);return Af(e,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()&&e.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const e=this.registry.getTarget(t);if(Af(e,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;return Yd(this.registry.getTargetType(t),this.getItemType())&&e.canDrop(this,t)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(t){if(!t)return!1;const e=this.registry.getSource(t,!0);if(Af(e,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(t)===this.getItemType()&&e.isDragging(this,t)}isOverTarget(t,e={shallow:!1}){if(!t)return!1;const{shallow:n}=e;if(!this.isDragging())return!1;const r=this.registry.getTargetType(t),i=this.getItemType();if(i&&!Yd(r,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(t);return n?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return e&&n&&r?Zd((o=r,{x:(i=e).x+o.x,y:i.y+o.y}),n):null;var i,o}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(t){const{clientOffset:e,initialClientOffset:n}=t;return e&&n?Zd(e,n):null}(this.store.getState().dragOffset)}constructor(t,e){this.store=t,this.registry=e}}const ep="undefined"!=typeof global?global:self,np=ep.MutationObserver||ep.WebKitMutationObserver;function rp(t){return function(){const e=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(e),clearInterval(n),t()}}}const ip="function"==typeof np?function(t){let e=1;const n=new np(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}:rp;class op{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,e){this.onError=t,this.release=e,this.task=null}}const ap=new class{enqueueTask(t){const{queue:e,requestFlush:n}=this;e.length||(n(),this.flushing=!0),e[e.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const e=this.index;if(this.index++,t[e].call(),this.index>this.capacity){for(let e=0,n=t.length-this.index;e<n;e++)t[e]=t[e+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=ip(this.flush),this.requestErrorThrow=rp((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},sp=new class{create(t){const e=this.freeTasks,n=e.length?e.pop():new op(this.onError,(t=>e[e.length]=t));return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}}(ap.registerPendingError);const cp="dnd-core/ADD_SOURCE",lp="dnd-core/ADD_TARGET",up="dnd-core/REMOVE_SOURCE",hp="dnd-core/REMOVE_TARGET";function fp(t,e){e&&Array.isArray(t)?t.forEach((t=>fp(t,!1))):Af("string"==typeof t||"symbol"==typeof t,e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var dp;!function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"}(dp||(dp={}));let pp=0;function gp(t){const e=(pp++).toString();switch(t){case dp.SOURCE:return`S${e}`;case dp.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function mp(t){switch(t[0]){case"S":return dp.SOURCE;case"T":return dp.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function yp(t,e){const n=t.entries();let r=!1;do{const{done:t,value:[,i]}=n.next();if(i===e)return!0;r=!!t}while(!r);return!1}class bp{addSource(t,e){fp(t),function(t){Af("function"==typeof t.canDrag,"Expected canDrag to be a function."),Af("function"==typeof t.beginDrag,"Expected beginDrag to be a function."),Af("function"==typeof t.endDrag,"Expected endDrag to be a function.")}(e);const n=this.addHandler(dp.SOURCE,t,e);return this.store.dispatch(function(t){return{type:cp,payload:{sourceId:t}}}(n)),n}addTarget(t,e){fp(t,!0),function(t){Af("function"==typeof t.canDrop,"Expected canDrop to be a function."),Af("function"==typeof t.hover,"Expected hover to be a function."),Af("function"==typeof t.drop,"Expected beginDrag to be a function.")}(e);const n=this.addHandler(dp.TARGET,t,e);return this.store.dispatch(function(t){return{type:lp,payload:{targetId:t}}}(n)),n}containsHandler(t){return yp(this.dragSources,t)||yp(this.dropTargets,t)}getSource(t,e=!1){Af(this.isSourceId(t),"Expected a valid source ID.");return e&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return Af(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return Af(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return Af(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return mp(t)===dp.SOURCE}isTargetId(t){return mp(t)===dp.TARGET}removeSource(t){var e;Af(this.getSource(t),"Expected an existing source."),this.store.dispatch(function(t){return{type:up,payload:{sourceId:t}}}(t)),e=()=>{this.dragSources["delete"](t),this.types["delete"](t)},ap.enqueueTask(sp.create(e))}removeTarget(t){Af(this.getTarget(t),"Expected an existing target."),this.store.dispatch(function(t){return{type:hp,payload:{targetId:t}}}(t)),this.dropTargets["delete"](t),this.types["delete"](t)}pinSource(t){const e=this.getSource(t);Af(e,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=e}unpinSource(){Af(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,e,n){const r=gp(t);return this.types.set(r,e),t===dp.SOURCE?this.dragSources.set(r,n):t===dp.TARGET&&this.dropTargets.set(r,n),r}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const vp=(t,e)=>t===e;function _p(t=Jd,e){switch(e.type){case jd:break;case cp:case lp:case hp:case up:return Jd;default:return Qd}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,i=function(t,e){const n=new Map,r=t=>{n.set(t,n.has(t)?n.get(t)+1:1)};t.forEach(r),e.forEach(r);const i=[];return n.forEach(((t,e)=>{1===t&&i.push(e)})),i}(n,r),o=i.length>0||!function(t,e,n=vp){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}(n,r);if(!o)return Jd;const a=r[r.length-1],s=n[n.length-1];return a!==s&&(a&&i.push(a),s&&i.push(s)),i}function xp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Ep={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Sp(t=Ep,e){const{payload:n}=e;switch(e.type){case Pd:case Id:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case jd:return r=t.clientOffset,i=n.clientOffset,!r&&!i||r&&i&&r.x===i.x&&r.y===i.y?t:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){xp(t,e,n[e])}))}return t}({},t,{clientOffset:n.clientOffset});case Bd:case Fd:return Ep;default:return t}var r,i}function Mp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Mp(t,e,n[e])}))}return t}const Cp={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function kp(t=Cp,e){const{payload:n}=e;switch(e.type){case Id:return Tp({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Ld:return Tp({},t,{isSourcePublic:!0});case jd:return Tp({},t,{targetIds:n.targetIds});case hp:return-1===t.targetIds.indexOf(n.targetId)?t:Tp({},t,{targetIds:(r=t.targetIds,i=n.targetId,r.filter((t=>t!==i)))});case Fd:return Tp({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Bd:return Tp({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}var r,i}function Op(t=0,e){switch(e.type){case cp:case lp:return t+1;case up:case hp:return t-1;default:return t}}function Rp(t=0){return t+1}function Ap(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Np(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Ap(t,e,n[e])}))}return t}function Dp(t={},e){return{dirtyHandlerIds:_p(t.dirtyHandlerIds,{type:e.type,payload:Np({},e.payload,{prevTargetIds:(n=t,r="dragOperation.targetIds",i=[],r.split(".").reduce(((t,e)=>t&&t[e]?t[e]:i||null),n))})}),dragOffset:Sp(t.dragOffset,e),refCount:Op(t.refCount,e),dragOperation:kp(t.dragOperation,e),stateId:Rp(t.stateId)};var n,r,i}function Pp(t,e=undefined,n={},r=!1){const i=function(t){const e="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Nd(Dp,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}(r),o=new tp(i,new bp(i)),a=new Xd(i,o),s=t(a,e,n);return a.receiveBackend(s),a}function Ip(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}let Lp=0;const jp=Symbol["for"]("__REACT_DND_CONTEXT_INSTANCE__");var Fp=(0,Fc.memo)((function(t){var{children:e}=t,n=Ip(t,["children"]);const[r,i]=function(t){if("manager"in t){return[{dragDropManager:t.manager},!1]}const e=function(t,e=Bp(),n,r){const i=e;i[jp]||(i[jp]={dragDropManager:Pp(t,e,n,r)});return i[jp]}(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}(n);return(0,Fc.useEffect)((()=>{if(i){const t=Bp();return++Lp,()=>{0==--Lp&&(t[jp]=null)}}}),[]),(0,Td.jsx)(Lf.Provider,{value:r,children:e})}));function Bp(){return"undefined"!=typeof global?global:window}function zp(t){let e=null;return()=>(null==e&&(e=t()),e)}class Hp{enter(t){const e=this.entered.length;return this.entered=function(t,e){const n=new Set,r=t=>n.add(t);t.forEach(r),e.forEach(r);const i=[];return n.forEach((t=>i.push(t))),i}(this.entered.filter((e=>this.isNodeInDocument(e)&&(!e.contains||e.contains(t)))),[t]),0===e&&this.entered.length>0}leave(t){const e=this.entered.length;var n,r;return this.entered=(n=this.entered.filter(this.isNodeInDocument),r=t,n.filter((t=>t!==r))),e>0&&0===this.entered.length}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class Up{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null)})}))}loadDataTransfer(t){if(t){const e={};Object.keys(this.config.exposeProperties).forEach((n=>{const r=this.config.exposeProperties[n];null!=r&&(e[n]={value:r(t,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,e)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,e){return e===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const Vp="__NATIVE_FILE__",Wp="__NATIVE_URL__",qp="__NATIVE_TEXT__",Gp="__NATIVE_HTML__";function Yp(t,e,n){const r=e.reduce(((e,n)=>e||t.getData(n)),"");return null!=r?r:n}const $p={[Vp]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Gp]:{exposeProperties:{html:(t,e)=>Yp(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Wp]:{exposeProperties:{urls:(t,e)=>Yp(t,e,"").split("\n"),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[qp]:{exposeProperties:{text:(t,e)=>Yp(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Kp(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys($p).filter((t=>{const n=$p[t];return!!(null==n?void 0:n.matchesTypes)&&n.matchesTypes.some((t=>e.indexOf(t)>-1))}))[0]||null}const Xp=zp((()=>/firefox/i.test(navigator.userAgent))),Zp=zp((()=>Boolean(window.safari)));class Jp{interpolate(t){const{xs:e,ys:n,c1s:r,c2s:i,c3s:o}=this;let a=e.length-1;if(t===e[a])return n[a];let s,c=0,l=o.length-1;for(;c<=l;){s=Math.floor(.5*(c+l));const r=e[s];if(r<t)c=s+1;else{if(!(r>t))return n[s];l=s-1}}a=Math.max(0,l);const u=t-e[a],h=u*u;return n[a]+r[a]*u+i[a]*h+o[a]*u*h}constructor(t,e){const{length:n}=t,r=[];for(let t=0;t<n;t++)r.push(t);r.sort(((e,n)=>t[e]<t[n]?-1:1));const i=[],o=[],a=[];let s,c;for(let r=0;r<n-1;r++)s=t[r+1]-t[r],c=e[r+1]-e[r],o.push(s),i.push(c),a.push(c/s);const l=[a[0]];for(let t=0;t<o.length-1;t++){const e=a[t],n=a[t+1];if(e*n<=0)l.push(0);else{s=o[t];const r=o[t+1],i=s+r;l.push(3*i/((i+r)/e+(i+s)/n))}}l.push(a[a.length-1]);const u=[],h=[];let f;for(let t=0;t<l.length-1;t++){f=a[t];const e=l[t],n=1/o[t],r=e+l[t+1]-f-f;u.push((f-e-r)*n),h.push(r*n*n)}this.xs=t,this.ys=e,this.c1s=l,this.c2s=u,this.c3s=h}}function Qp(t){const e=1===t.nodeType?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function tg(t){return{x:t.clientX,y:t.clientY}}function eg(t,e,n,r,i){const o="IMG"===(a=e).nodeName&&(Xp()||!(null===(s=document.documentElement)||void 0===s?void 0:s.contains(a)));var a,s;const c=Qp(o?t:e),l={x:n.x-c.x,y:n.y-c.y},{offsetWidth:u,offsetHeight:h}=t,{anchorX:f,anchorY:d}=r,{dragPreviewWidth:p,dragPreviewHeight:g}=function(t,e,n,r){let i=t?e.width:n,o=t?e.height:r;return Zp()&&t&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(o,e,u,h),{offsetX:m,offsetY:y}=i,b=0===y||y;return{x:0===m||m?m:new Jp([0,.5,1],[l.x,l.x/u*p,l.x+p-u]).interpolate(f),y:b?y:(()=>{let t=new Jp([0,.5,1],[l.y,l.y/h*g,l.y+g-h]).interpolate(d);return Zp()&&o&&(t+=(window.devicePixelRatio-1)*g),t})()}}class ng{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:undefined}get document(){var t;return(null===(t=this.globalContext)||void 0===t?void 0:t.document)?this.globalContext.document:this.window?this.window.document:undefined}get rootElement(){var t;return(null===(t=this.optionsArgs)||void 0===t?void 0:t.rootElement)||this.window}constructor(t,e){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=e}}function rg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ig(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){rg(t,e,n[e])}))}return t}class og{profile(){var t,e;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(t=this.dragStartSourceIds)||void 0===t?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(e=this.dragOverTargetIds)||void 0===e?void 0:e.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==undefined){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;var e;t!==undefined&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(t,e,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,e),()=>{this.sourcePreviewNodes["delete"](t),this.sourcePreviewNodeOptions["delete"](t)}}connectDragSource(t,e,n){this.sourceNodes.set(t,e),this.sourceNodeOptions.set(t,n);const r=e=>this.handleDragStart(e,t),i=t=>this.handleSelectStart(t);return e.setAttribute("draggable","true"),e.addEventListener("dragstart",r),e.addEventListener("selectstart",i),()=>{this.sourceNodes["delete"](t),this.sourceNodeOptions["delete"](t),e.removeEventListener("dragstart",r),e.removeEventListener("selectstart",i),e.setAttribute("draggable","false")}}connectDropTarget(t,e){const n=e=>this.handleDragEnter(e,t),r=e=>this.handleDragOver(e,t),i=e=>this.handleDrop(e,t);return e.addEventListener("dragenter",n),e.addEventListener("dragover",r),e.addEventListener("drop",i),()=>{e.removeEventListener("dragenter",n),e.removeEventListener("dragover",r),e.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),e=this.sourceNodeOptions.get(t);return ig({dropEffect:this.altKeyPressed?"copy":"move"},e||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId();return ig({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(t)||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(r).some((e=>r[e]===t))}beginDragNativeItem(t,e){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(t,e){const n=$p[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new Up(n);return r.loadDataTransfer(e),r}(t,e),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;this.mouseMoveTimeoutTimer=setTimeout((()=>{var t;return null===(t=this.rootElement)||void 0===t?void 0:t.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var t;if(this.currentDragSourceNode=null,this.rootElement)null===(t=this.window)||void 0===t||t.clearTimeout(this.mouseMoveTimeoutTimer||undefined),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,e){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(e))}handleDragEnter(t,e){this.dragEnterTargetIds.unshift(e)}handleDragOver(t,e){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(e)}handleDrop(t,e){this.dropTargetIds.unshift(e)}constructor(t,e,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=t=>{const e=this.sourceNodes.get(t);return e&&Qp(e)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=t=>Boolean(t&&this.document&&this.document.body&&this.document.body.contains(t)),this.endDragIfSourceWasRemovedFromDOM=()=>{const t=this.currentDragSourceNode;null==t||this.isNodeInDocument(t)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=t=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(t||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=t=>{if(t.defaultPrevented)return;const{dragStartSourceIds:e}=this;this.dragStartSourceIds=null;const n=tg(t);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(e||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});const{dataTransfer:r}=t,i=Kp(r);if(this.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){const t=this.monitor.getSourceId(),e=this.sourceNodes.get(t),i=this.sourcePreviewNodes.get(t)||e;if(i){const{anchorX:t,anchorY:o,offsetX:a,offsetY:s}=this.getCurrentSourcePreviewNodeOptions(),c=eg(e,i,n,{anchorX:t,anchorY:o},{offsetX:a,offsetY:s});r.setDragImage(i,c.x,c.y)}}try{null==r||r.setData("application/json",{})}catch(Ty){}this.setCurrentDragSourceNode(t.target);const{captureDraggingState:e}=this.getCurrentSourcePreviewNodeOptions();e?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(i)this.beginDragNativeItem(i);else{if(r&&!r.types&&(t.target&&!t.target.hasAttribute||!t.target.hasAttribute("draggable")))return;t.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=t=>{var e;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(e=this.currentNativeSource)||void 0===e||e.loadDataTransfer(t.dataTransfer));if(!this.enterLeaveCounter.enter(t.target)||this.monitor.isDragging())return;const{dataTransfer:n}=t,r=Kp(n);r&&this.beginDragNativeItem(r,n)},this.handleTopDragEnter=t=>{const{dragEnterTargetIds:e}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=t.altKey,e.length>0&&this.actions.hover(e,{clientOffset:tg(t)});e.some((t=>this.monitor.canDropOnTarget(t)))&&(t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=t=>{var e;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(e=this.currentNativeSource)||void 0===e||e.loadDataTransfer(t.dataTransfer))},this.handleTopDragOver=t=>{const{dragOverTargetIds:e}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return t.preventDefault(),void(t.dataTransfer&&(t.dataTransfer.dropEffect="none"));this.altKeyPressed=t.altKey,this.lastClientOffset=tg(t),this.scheduleHover(e);(e||[]).some((t=>this.monitor.canDropOnTarget(t)))?(t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?t.preventDefault():(t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=t=>{this.isDraggingNativeItem()&&t.preventDefault();this.enterLeaveCounter.leave(t.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=t=>{var e;(this.dropTargetIds=[],this.isDraggingNativeItem())?(t.preventDefault(),null===(e=this.currentNativeSource)||void 0===e||e.loadDataTransfer(t.dataTransfer)):Kp(t.dataTransfer)&&t.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=t=>{const{dropTargetIds:e}=this;this.dropTargetIds=[],this.actions.hover(e,{clientOffset:tg(t)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=t=>{const e=t.target;"function"==typeof e.dragDrop&&("INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable||(t.preventDefault(),e.dragDrop()))},this.options=new ng(e,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Hp(this.isNodeInDocument)}}const ag=function(t,e,n){return new og(t,e,n)};function sg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sg(Object(n),!0).forEach((function(e){lg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ug(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(Ty){s=!0,i=Ty}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||fg(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hg(t){return function(t){if(Array.isArray(t))return dg(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||fg(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fg(t,e){if(t){if("string"==typeof t)return dg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dg(t,e):void 0}}function dg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pg=window.getGenie.Components.Common,gg=pg.Libs,mg=pg.Utilities,yg=window.antd,bg=yg.Alert,vg=yg.Form,_g=yg.Divider,xg=wp.i18n.__,wg=window.getGenie.Components.Common.ReduxManager.ComposeComponents,Eg=window.getGenie.Components.Common.RequestManager,Sg=Eg.HandleFetch,Mg=Eg.HandleResponse,Tg=wp.element,Cg=Tg.useEffect,kg=Tg.useState,Og=wg((function(t){var e=t.setSidebar,n=t.sidebar,r=t.getInputs,i=t.setInput,o=n.generatedOutlines.loading,a=r.selectedOutlines?hg(new Set(r.selectedOutlines)):[],s=ug(kg(!0),2),c=s[0],l=s[1];Cg((function(){mg.GenieHelpers.callStoreApi("selectedTitle",r.selectedTitle),mg.GenieHelpers.callStoreApi("selectedIntro",r.selectedIntro)}),[]);Cg((function(){r.generatedOutlines&&(e({generatedOutlines:cg(cg({},n.generatedOutlines),{},{open:!0})}),i("seoEnabled",!0))}),[]);var u=function(t){wp.data.dispatch("core/editor").editPost({title:r.selectedTitle}),wp.data.dispatch("core/editor").editPost({excerpt:t})},h=function(t){wp.data.dispatch("core/block-editor").resetBlocks(wp.blocks.parse("")),wp.data.dispatch("core/block-editor").insertBlocks(wp.blocks.createBlock("core/paragraph",{content:t})),a.forEach((function(t){wp.data.dispatch("core/block-editor").insertBlocks(wp.blocks.createBlock("core/heading",{content:t}))})),e({open:!1})};return Cg((function(){return mg.GenieHelpers.storeData("selectedIntro")}),[r.selectedIntro]),Cg((function(){return mg.GenieHelpers.storeData("outlineCreativityLevel")}),[r.outlineCreativityLevel]),Cg((function(){a.length>1&&setTimeout((function(){l(!1)}),5e3),mg.GenieHelpers.storeData("selectedOutlines")}),[r.selectedOutlines]),React.createElement(React.Fragment,null,React.createElement(gg.DrawerHeader,null),React.createElement(Lg,{navigation:"outline"}),React.createElement(_g,null),React.createElement("div",{className:"getgenie-sidebar-outline"},React.createElement(vg,{layout:"vertical",onFinish:function(){var t={title:r.selectedTitle,context:r.inputContext,intro:r.selectedIntro,creativity:r.outlineCreativityLevel,numberOfResult:r.outlineResultLimit};i("generatedOutlines",""),e({generatedOutlines:{open:!0,loading:!0}}),Sg((function(t){e({generatedOutlines:{open:!0,loading:!1}}),Mg(t,(function(){i("generatedOutlines",t.data),i("seoEnabled",!0),mg.GenieHelpers.callStoreApi("generatedOutlines",t.data)}))}),"outlines",t)}},React.createElement("div",{className:"getgenie-screen-content intro"},React.createElement(gg.Collapse,{defaultActiveKey:["Title-Intro"],className:"getgenie-collapse"},React.createElement(gg.Collapse.Panel,{header:React.createElement(React.Fragment,null,xg("Title & Intro","getgenie"),React.createElement(gg.Tooltip,{title:xg("Edit or change the blog title & intro","getgenie"),placement:"top"})),key:"Title-Intro"},React.createElement(gg.Textarea,{rows:2,name:"selectedTitle",type:"text",placeholder:xg("Enter blog post title here.","getgenie")}),React.createElement(gg.Textarea,{rows:6,name:"selectedIntro",placeholder:xg("Enter blog intro here.","getgenie")}))),React.createElement(gg.Slider,{name:"outlineCreativityLevel",label:React.createElement(React.Fragment,null,xg("Creativity Level","getgenie")," ",React.createElement(gg.Tooltip,{title:xg("The higher the creativity level, the more innovative & creative outputs you get.","getgenie"),placement:"top"},"i")),message:!1,defaultValue:4}),React.createElement(gg.NumberInput,{name:"outlineResultLimit",type:"text",defaultValue:2,max:4,label:React.createElement(React.Fragment,null,xg("Set Result Limit","getgenie")," ",React.createElement(gg.Tooltip,{title:xg("How many variations of title do you want?","getgenie"),placement:"top"})),required:!0}),React.createElement(gg.Button,{htmlType:"submit",type:"primary",className:"submit-btn",loading:o},React.createElement("span",{"class":"getgenie-icon-Edit"}),xg("Generate Outline","getgenie"))),React.createElement(gg.TitleMsg,{list:a,loading:o,title:"outline"}),React.createElement("div",{className:"getgenie-card-container getgenie-outline-cards"},0===a.length&&n.generatedOutlines.open&&React.createElement("span",{className:"getgenie-outline-loading-text"},xg("Selected Outlines will Appear here","getgenie")),React.createElement(Fp,{backend:ag,debugMode:!0},React.createElement(Md,null)),a.length>1&&c&&React.createElement(bg,{className:"getgenie-outline-cards-alert",message:xg("You can also Edit, Delete & Rearrange these Selected Outlines","getgenie"),closeText:xg("Okay","getgenie"),closable:!0}))),React.createElement(gg.DrawerFooter,{prevScreen:"IntroScreen",enableWriteBtn:a.length>0,insertData:function(){var t=(r.selectedIntro||"").replace(/<br\s*[\/]?>/g,"");wp.data.select("core/editor").getEditedPostContent()?gg.ConfirmModal("This page has some content","Do you want to replace that?",(function(){u(t),h(t)})):(u(t),h(t))}})))}),["setSidebar","sidebar","getInputs","setInput"]);Og.GeneratedOutlines=wf;const Rg=Og;function Ag(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ng(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ag(Object(n),!0).forEach((function(e){Dg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ag(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pg=window.antd.Radio,Ig=(0,window.getGenie.Components.Common.ReduxManager.ComposeComponents)((function(t){var e=t.sidebar,n=t.navigation,r=void 0===n?"title":n,i=t.setSidebar,o=t.getInputs,a={title:{title:"Title",screen:"TitleScreen",selected:!!o.generatedTitles},intro:{title:"Intro",screen:"IntroScreen",selected:!!o.generatedIntros},outline:{title:"Outline",screen:"OutlineScreen",selected:!(!o.selectedOutlines&&!o.generatedOutlines)}};return React.createElement("div",{className:"genie-nav-container"},React.createElement(Pg.Group,{onChange:function(t){var n=t.target,r=n.value,o=n.screen;if(!a[r].selected)return!1;i({component:o}),"OutlineScreen"!==o&&i({generatedOutlines:Ng(Ng({},e.generatedOutlines),{},{open:!1})})},value:r},Object.keys(a).map((function(t,e){var n=a[t];return React.createElement(Pg.Button,{key:e,className:n.selected?"selected":"",value:t,screen:n.screen},n.title)}))))}),["sidebar","setSidebar","getInputs"]);const Lg=Ig;var jg=window.getGenie.Components.Common.Libs,Fg=window.antd,Bg=Fg.Row,zg=Fg.Col,Hg=Fg.Progress,Ug=window.getGenie.Components.Common.ReduxManager.ComposeComponents,Vg=wp.i18n.__,Wg=Ug((function(t){var e,n=null===(e=t.sidebar.analyzedContent)||void 0===e?void 0:e.allStats,r=n.wordStats,i=n.headingStats,o=n.paragraphStats,a=n.imageStats,s=[{statsData:r,title:Vg("Words","getgenie"),color:["#9AD6A7","#D5FBD2"]},{statsData:i,title:Vg("Headings","getgenie"),color:["#C5E9F2","#E6F5F9"]},{statsData:o,title:Vg("Paragraphs","getgenie"),color:["#FFCDA4","#FEE7D4"]},{statsData:a,title:Vg("Images","getgenie"),color:["#ED786B","#F4C8C4"]}];return React.createElement("div",{className:"getgenie-statistics-score-details"},React.createElement(Bg,{gutter:[0,16]},s.map((function(t,e){var n,r,i;return React.createElement(zg,{key:e,span:12},React.createElement("div",{className:"getgenie-statistics-score-content"},React.createElement("div",{className:"sc-container"},React.createElement("div",{className:"item"},React.createElement(Hg,{width:30,strokeColor:t.color[1],strokeWidth:15,percent:100,success:{percent:(null===(n=t.statsData)||void 0===n?void 0:n.targetCompletion)||0,strokeColor:t.color[0]},type:"circle"}),React.createElement("div",{className:"output"},React.createElement("h6",{className:"title"},null==t?void 0:t.title),React.createElement("h5",{className:"value",style:{color:Gt((null===(r=t.statsData)||void 0===r?void 0:r.targetCompletion)||0)}},null==t||null===(i=t.statsData)||void 0===i?void 0:i.count))),React.createElement("div",{className:"label ".concat(((null==t?void 0:t.title)||"").toLowerCase())},React.createElement(jg.Tooltip,{className:"getgenie-statistics-score-tooltip",placement:"bottom",title:Vg("Your blog should consist of ".concat(0===Object.keys(t.statsData).length?"":t.statsData.formatAvgMax(" to ")," \n                                        ").concat(((null==t?void 0:t.title)||"").toLowerCase()," according to your settings"),"getgenie")}),React.createElement("div",{className:"output"},React.createElement("h6",{className:"title"},Vg("Recommended","getgenie")),React.createElement("span",{className:"value"},0===Object.keys(t.statsData).length?"":t.statsData.formatAvgMax("-")))))))}))))}),["sidebar"]);const qg=Wg;var Gg=window.antd.Alert,Yg=window.getGenie.Components.Common.ReduxManager.ComposeComponents,$g=wp.i18n.__,Kg=Yg((function(t){var e=t.sidebar.analyzedContent.feedbacks,n=function(t){return"problems"===t?"error":"results"===t?"success":"warning"};return React.createElement("div",{className:"getgenie-statistics-score-analysis"},React.createElement("div",{className:"getgenie-statistics-score-analysis-heading"},React.createElement("h5",{className:"title"},$g("Analysis","getgenie"))),Object.keys(e).map((function(t,r){return 0!==e[t].length?React.createElement("div",{key:r,className:"getgenie-statistics-score-analysis-info ".concat(t)},React.createElement("h5",{className:"title"},t),React.createElement("div",{className:"analyzed-list"},e[t].map((function(e,r){return React.createElement(Gg,{key:r,description:e,type:n(t),showIcon:!0})})))):""})))}),["sidebar"]);const Xg=Kg;var Zg=n(394),Jg=window.antd.Typography,Qg=wp.element.memo,tm=wp.i18n.__;const em=Qg((function(t){var e,n,r=t.totalContentStats,i=t.imageUrl,o=(null==r||null===(e=r.result)||void 0===e?void 0:e.percent)||0,a="".concat(i,"/red-smile.png");return o<=.25?(o>.23&&(o-=.02),o<=.02&&(o-=.02),a="".concat(i,"/red-smile.png")):o>.25&&o<=.5?a="".concat(i,"/yellow-smile.png"):o>.5&&o<.8?a="".concat(i,"/green-smile.png"):(o<.83&&(o+=.02),o>=.98&&(o+=.02),a="".concat(i,"/dark-green-smile.png")),React.createElement("div",{className:"getgenie-statistics-score-meter"},React.createElement(Zg.Z,{id:"gauge-chart3",nrOfLevels:4,colors:["#FF4131","#FDC500","#84C300","#00B81D"],percent:o,arcPadding:-1,cornerRadius:0,arcsLength:[.25,.25,.3,.2],arcWidth:.4,hideText:!0,needleColor:"#545359"}),React.createElement("div",{className:"chartLabel"},React.createElement("img",{src:a,alt:"chart logo"})),React.createElement("div",{className:"meterText"},React.createElement(Jg.Text,null,null==r||null===(n=r.result)||void 0===n?void 0:n.count,"/"),React.createElement(Jg.Text,null,tm("100","getgenie"))))}));var nm=window.antd.Radio,rm=window.getGenie.Components.Common.ReduxManager.ComposeComponents,im=wp.i18n.__,om=rm((function(t){t.sidebar;var e=t.navigation,n=void 0===e?"title":e,r=t.setShowKeywordScreen,i=(t.setSidebar,t.getInputs,{AllKeywords:{title:im("All","getgenie"),screen:"AllKeywords"},HeadingKeywords:{title:im("Heading","getgenie"),screen:"HeadingKeywords"},ContentKeywords:{title:im("Content","getgenie"),screen:"ContentKeywords"}});return React.createElement("div",{className:"genie-nav-container"},React.createElement(nm.Group,{onChange:function(t){var e=t.target,n=e.value,o=e.screen;i[n].selected;r(o)},value:n},Object.keys(i).map((function(t){var e=i[t];return React.createElement(nm.Button,{value:t,screen:e.screen},e.title)}))))}),["sidebar","setSidebar","getInputs"]);const am=om;var sm=window.antd,cm=sm.Typography,lm=sm.Card,um=sm.Tooltip,hm=window.getGenie.Components.Common.ReduxManager.ComposeComponents,fm=wp.i18n.__;const dm=hm((function(t){var e,n,r=t.sidebar,i=t.screenName,o=void 0===i?"AllKeyword":i,a=null==r||null===(e=r.analyzedContent)||void 0===e||null===(n=e.allStats)||void 0===n?void 0:n.mainKeywordStats,s=function(t){var e=t.split("/").map((function(t){return t.trim()})),n=e[1].includes("-")?e[1].split("-").map((function(t){return t.trim()})):e[1],r=parseInt(e[0]),i=parseInt(n[0]),o=parseInt(n[1]);return r>0&&r<i?["analysis-usage-numbers-yellow","Please increase the use of this keyword."]:r>=i&&(!n[1]||r<=o)?["analysis-usage-numbers-green","Good to go."]:r>0&&r>o?["analysis-usage-numbers-error","Please decrease the use of this keyword."]:["analysis-usage-numbers-red","You have not used this keyword."]};return React.createElement("div",{className:"getgenie-statistics-keyword-analysis"},React.createElement("h5",{className:"generateMsg"},fm("Main Keyword","getgenie")),React.createElement(React.Fragment,null,React.createElement("div",{className:"getgenie-statistics-keyword-analysis-cards"},React.createElement("div",{className:"card-container"},React.createElement(um,{title:"AllKeyword"==o?s(null==a?void 0:a.used)[1]:"ContentKeyword"==o?s(null==a?void 0:a.contentUsed)[1]:s(null==a?void 0:a.headingUsed)[1],placement:"top"},React.createElement(lm,{className:"getgenie-statistics-score-keyword-analysis-card ".concat("AllKeyword"==o?s(null==a?void 0:a.used)[0]:"ContentKeyword"==o?s(null==a?void 0:a.contentUsed)[0]:s(null==a?void 0:a.headingUsed)[0])},React.createElement(cm.Text,{className:"title analysis-usage-title"},"AllKeyword"==o?null==a?void 0:a.keyword:"ContentKeyword"==o?null==a?void 0:a.contentKeyword:null==a?void 0:a.headingKeyword),React.createElement(cm.Text,{className:"stat analysis-usage-number"},"AllKeyword"==o?null==a?void 0:a.used:"ContentKeyword"==o?null==a?void 0:a.contentUsed:null==a?void 0:a.headingUsed)))))))}),["sidebar","setSidebar"]);function pm(t){return function(t){if(Array.isArray(t))return _m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||vm(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gm(Object(n),!0).forEach((function(e){ym(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ym(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(Ty){s=!0,i=Ty}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||vm(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vm(t,e){if(t){if("string"==typeof t)return _m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_m(t,e):void 0}}function _m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xm=window.antd,wm=xm.Typography,Em=xm.Card,Sm=xm.Button,Mm=xm.Tooltip,Tm=wp.element,Cm=Tm.useState,km=Tm.useEffect,Om=window.getGenie.Components.Common.ReduxManager.ComposeComponents,Rm=wp.i18n.__,Am=Om((function(t){var e=t.sidebar,n=t.setSidebar,r=t.screenName,i=void 0===r?"AllKeyword":r,o=e.analyzedContent.allStats.keywordStats,a=e.statisticsData,s=e.statisticsData.keywords,c=bm(Cm([]),2),l=c[0],u=c[1],h=bm(Cm(""),2),f=h[0],d=h[1],p=bm(Cm(!1),2),g=p[0],m=p[1],y=bm(Cm(""),2);y[0],y[1];km((function(){if("AllKeyword"==i)u(o.usageStats||[]);else if("ContentKeyword"==i){var t;u((null==o||null===(t=o.usageStats)||void 0===t?void 0:t.filter((function(t){return t.contentKeyword!==undefined})))||[])}else if("HeadingKeyword"==i){var e;u((null==o||null===(e=o.usageStats)||void 0===e?void 0:e.filter((function(t){return t.headingKeyword!==undefined})))||[])}}),[e.analyzedContent,i]);var b=function(t){var e=t.split("/").map((function(t){return t.trim()})),n=e[1].includes("-")?e[1].split("-").map((function(t){return t.trim()})):e[1],r=parseInt(e[0]);parseInt(n[0]);return!n[1]&&r>=parseInt(n[0])?["analysis-usage-numbers-green","Good to go."]:!n[1]&&r>0&&r<parseInt(n[0])?["analysis-usage-numbers-yellow","Please increase the use of this keyword."]:r>=parseInt(n[0])&&r<=parseInt(n[1])?["analysis-usage-numbers-green","Good to go."]:r>0&&r<parseInt(n[0])?["analysis-usage-numbers-yellow","Please increase the use of this keyword."]:r>0&&r>parseInt(n[1])?["analysis-usage-numbers-error","Please decrease the use of this keyword."]:["analysis-usage-numbers-red","You have not used this keyword."]};return React.createElement("div",{className:"getgenie-statistics-keyword-analysis"},React.createElement("h5",{className:"generateMsg"},Rm("Secondary Keywords","getgenie")),React.createElement(Sm,{className:"add-outline-btn",onMouseDown:function(t){t.preventDefault(),m(!g)}},Rm("Add Custom Keyword","getgenie")),g&&React.createElement(React.Fragment,null,React.createElement("textarea",{autoFocus:!0,onChange:function(t){return d(t.target.value)},onBlur:function(){return m(!1)},className:"getgenie-outline-cards-input",value:f,style:g&&{display:"block",marginTop:"4px"},placeholder:Rm("Please enter your custom keyword","getgenie"),onKeyUp:function(t){return function(t){if("keyup"===t.type&&("Shift"!==t.key&&"Enter"===t.key||13===(null==t?void 0:t.which)))return d(""),n({statisticsData:mm(mm({},a),{},{keywords:[].concat(pm(s),[{headingKeyword:f.trim(),headingUsage:[3,null],contentKeyword:f.trim(),contentUsage:[3,null],keyword:f.trim(),usage:[3,null]}])})}),void m(!1)}(t)}})),0===l.length?"":React.createElement(React.Fragment,null,React.createElement("div",{className:"getgenie-statistics-keyword-analysis-cards"},React.createElement("div",{className:"getgenie-statistics-seo-keywords-stats"},React.createElement("h5",{className:"generateMsg"},"SEO ",Rm("Keywords","getgenie"),React.createElement("span",{className:"resultNumber"},l.length)),React.createElement("h5",{className:"card-container-tooltip-hint"},Rm("Used / Average - Highest","getgenie"))),React.createElement("div",{className:"card-container"},l.map((function(t,e){return React.createElement(React.Fragment,null,React.createElement(Mm,{title:"AllKeyword"==i?b(null==t?void 0:t.used)[1]:"ContentKeyword"==i?b(null==t?void 0:t.contentUsed)[1]:b(null==t?void 0:t.headingUsed)[1],placement:"top"},React.createElement(Em,{key:e,className:"getgenie-statistics-score-keyword-analysis-card ".concat("AllKeyword"==i?b(null==t?void 0:t.used)[0]:"ContentKeyword"==i?b(null==t?void 0:t.contentUsed)[0]:b(null==t?void 0:t.headingUsed)[0])},React.createElement(wm.Text,{className:"title analysis-usage-title"},"AllKeyword"==i?null==t?void 0:t.keyword:"ContentKeyword"==i?null==t?void 0:t.contentKeyword:null==t?void 0:t.headingKeyword),React.createElement(wm.Text,{className:"stat analysis-usage-number"},"AllKeyword"==i?null==t?void 0:t.used:"ContentKeyword"==i?null==t?void 0:t.contentUsed:null==t?void 0:t.headingUsed))))}))))))}),["sidebar","setSidebar"]);const Nm=Am;const Dm=(0,window.getGenie.Components.Common.ReduxManager.ComposeComponents)((function(t){t.sidebar,t.setSidebar;return React.createElement(React.Fragment,null,React.createElement(dm,{screenName:"AllKeyword"}),React.createElement(Nm,{screenName:"AllKeyword"}))}),["sidebar","setSidebar"]);const Pm=(0,window.getGenie.Components.Common.ReduxManager.ComposeComponents)((function(t){t.sidebar,t.setSidebar;return React.createElement(React.Fragment,null,React.createElement(dm,{screenName:"HeadingKeyword"}),React.createElement(Nm,{screenName:"HeadingKeyword"}))}),["sidebar","setSidebar"]);const Im=(0,window.getGenie.Components.Common.ReduxManager.ComposeComponents)((function(t){t.sidebar,t.setSidebar;return React.createElement(React.Fragment,null,React.createElement(dm,{screenName:"ContentKeyword"}),React.createElement(Nm,{screenName:"ContentKeyword"}))}),["sidebar","setSidebar"]);function Lm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lm(Object(n),!0).forEach((function(e){Fm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(Ty){s=!0,i=Ty}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return zm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zm(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hm=window.antd,Um=Hm.Button,Vm=Hm.Divider,Wm=window.getGenie.Components.Common.ReduxManager.ComposeComponents,qm=wp.element,Gm=qm.useEffect,Ym=qm.useState,$m=wp.i18n.__,Km={AllKeywords:Dm,HeadingKeywords:Pm,ContentKeywords:Im};const Xm=Wm((function(t){var e=t.setSidebar,n=t.sidebar,r=n.analyzedContent.totalContentStats,i=(n.analyzedContent.allStats.keywordStats,Bm(Ym(!1),2)),o=i[0],a=i[1],s=Bm(Ym("AllKeywords"),2),c=s[0],l=s[1],u=n.imageUrl;Gm((function(){e({analyzeKeyword:{open:!1},generatedOutlines:jm(jm({},n.generatedOutlines),{},{open:!1})})}),[]);var h=Km[c]||function(){return""};return React.createElement("div",{className:"getgenie-statistics"},React.createElement("div",{className:"getgenie-statistics-header"},React.createElement("h5",null,$m("Content Score","getgenie")),React.createElement("div",{className:"close-btn"},React.createElement("span",{onClick:function(){e({open:!1})}},React.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{d:"M10 1.00714L8.99286 0L5 3.99286L1.00714 0L0 1.00714L3.99286 5L0 8.99286L1.00714 10L5 6.00714L8.99286 10L10 8.99286L6.00714 5L10 1.00714Z",fill:"#323232"}))))),React.createElement("div",{className:"getgenie-statistics-container"},React.createElement("div",{className:"getgenie-statistics-container-data"},React.createElement("div",{className:"getgenie-statistics-score"},React.createElement(em,{imageUrl:u,totalContentStats:r}),React.createElement("div",{className:"getgenie-statistics-score-heading"},React.createElement(Um,{onClick:function(){a(!o)},type:"link"},$m(o?"Hide Analysis":"Show Analysis","getgenie"))),!o&&React.createElement(React.Fragment,null,React.createElement(Vm,null),React.createElement(qg,null),React.createElement(am,{setShowKeywordScreen:l,navigation:c}),React.createElement(h,null))),o&&React.createElement(Xg,null))))}),["setSidebar","sidebar"]);function Zm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(Ty){s=!0,i=Ty}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}(t,e)||Jm(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jm(t,e){if(t){if("string"==typeof t)return Qm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qm(t,e):void 0}}function Qm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ty=window.getGenie.Components.Common,ey=ty.Libs,ny=ty.Utilities,ry=ty.ContentFeedback,iy=ty.StaticData,oy=window.antd,ay=oy.Form,sy=oy.Divider,cy=wp.i18n.__,ly=ny.GenieHelpers,uy=window.getGenie.Components.Common.ReduxManager.ComposeComponents,hy=window.getGenie.Components.Common.RequestManager,fy=hy.HandleFetch,dy=hy.HandleResponse,py=wp.element,gy=py.useEffect,my=py.useState;const yy=uy((function(t){var e=t.sidebar,n=t.setSidebar,r=t.getInputs,i=t.setInput,o=Zm(my(iy.countries),2),a=o[0],s=(o[1],Zm(my(!1),2)),c=s[0],l=s[1],u=r.generatedTitles||[],h=r.seoEnabled||!1,f=Zm(my(!1),2),d=f[0],p=(f[1],e.analyzingSearchVolume||e.analyzingRelatedKeyword);gy((function(){r.searchVolume||i("seoEnabled",!0)}),[]);return gy((function(){ly.storeData("keyword"),wp.data.dispatch("core/editor").editPost({excerpt:r.keyword})}),[r.keyword]),gy((function(){return ly.storeData("seoEnabled")}),[r.seoEnabled]),gy((function(){return ly.storeData("selectedCountry")}),[r.selectedCountry]),gy((function(){return ly.storeData("titleCreativityLevel")}),[r.titleCreativityLevel]),gy((function(){return ly.storeData("selectedTitle")}),[r.selectedTitle]),React.createElement(React.Fragment,null,React.createElement(ey.DrawerHeader,null),React.createElement(Lg,{navigation:"title"}),React.createElement(sy,null),React.createElement("div",{className:"getgenie-title-form"},React.createElement(ay,{layout:"vertical",onFinish:function(){l(!0);var t={keyword:(r.keyword||"").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/g,""),context:r.inputContext,creativity:r.titleCreativityLevel,numberOfResult:r.titleResultLimit};i("generatedTitles",[]),fy((function(t){l(!1),dy(t,(function(){var e=t.data.map((function(t){return{title:t,like:!1,dislike:!1}}));i("generatedTitles",e),ly.callStoreApi("generatedTitles",e)}))}),"writeTitle",t)}},React.createElement("div",{className:"getgenie-screen-content title"},React.createElement(ey.Input,{name:"keyword",type:"text",label:React.createElement(React.Fragment,null,cy("Keyword","getgenie"),React.createElement(ey.Tooltip,{title:cy("Enter the focus keyword or topic of your blog post.","getgenie"),placement:"top"})),placeholder:cy("e.g. bean coffee, best coffee maker, how to make coffee, etc.","getgenie"),required:!0,errorMessage:cy("Keyword is missing. Please enter keyword.","getgenie")}),React.createElement(ey.Textarea,{label:React.createElement(React.Fragment,null,cy("Context (Optional)","getgenie"),React.createElement(ey.Tooltip,{title:cy("Let the genie know the context of your blog post.","getgenie"),placement:"top"})),name:"inputContext",rows:4,placeholder:cy("Enter a context for the keyword. e.g. a list of best selling coffee maker on amazon, step-by-step process to make coffee at home. etc.","getgenie"),errorMessage:cy("Please enter the context here","getgenie")}),React.createElement(sy,null),React.createElement(ey.Switch,{label:React.createElement(React.Fragment,null,cy("SEO Mode","getgenie"),React.createElement(ey.Tooltip,{title:cy("Turn on the SEO mode for better search engine optimization.","getgenie"),placement:"top"})),defaultChecked:h,name:"seoEnabled"}),h&&React.createElement(ey.Select,{name:"selectedCountry",loading:d,className:"selectedCountry",defaultValue:a[0].label,options:a}),h&&React.createElement(ey.Button,{onClick:function(){var t,e;r.keyword===(null===(t=r.searchVolume)||void 0===t?void 0:t.keyword)&&r.selectedCountry===(null===(e=r.searchVolume)||void 0===e?void 0:e.country)||(i("searchVolume",""),i("relatedKeywords",""),i("competitorData",""),i("questionsAsked",""),i("peopleAlsoSearched",""),n({analyzeKeyword:{open:!0},analyzingSearchVolume:!0,analyzingRelatedKeyword:!0}))},className:"getgenie-analyze-btn",type:"primary",loading:p,disabled:!r.keyword},cy("Analyze keyword","getgenie")),React.createElement(sy,null),React.createElement(ey.Select,{className:"getgenie-language",handleOnChange:function(t){return ly.saveCurrentLanguage(t)},name:"getgenieLanguage",label:cy("Select language","getgenie"),options:e.languages,defaultValue:e.currentLanguage}),React.createElement(ey.Slider,{name:"titleCreativityLevel",label:React.createElement(React.Fragment,null,cy("Creativity Level","getgenie"),React.createElement(ey.Tooltip,{title:cy("The higher the creativity level, the more innovative & creative outputs you get.","getgenie"),placement:"top"})),message:!1,defaultValue:4}),React.createElement(ey.NumberInput,{name:"titleResultLimit",type:"text",defaultValue:2,max:4,label:React.createElement(React.Fragment,null,cy("Set Result Limit","getgenie")," ",React.createElement(ey.Tooltip,{title:cy("How many variations of title do you want?","getgenie"),placement:"top"})),required:!0}),React.createElement(ey.Button,{htmlType:"submit",className:"submit-btn",type:"primary",loading:c,disabled:!r.keyword},React.createElement("span",{className:"getgenie-icon-Edit"}),cy("Generate title","getgenie"))),React.createElement(ey.TitleMsg,{list:u,loading:c,title:"title"}),React.createElement("div",{className:"getgenie-card-container getgenie-title-cards",style:{backgroundColor:0===u.length&&"transparent"}},React.createElement(ey.Card,{showActiveItem:!0,value:r.selectedTitle,list:u,handleClick:function(t,e){i("selectedTitle",e.title)},column:1,skeleton:c?function(){return React.createElement(ey.SkeletonSingle,{count:10})}:""},(function(t){return React.createElement(React.Fragment,null,React.createElement("h5",{className:"generated-content"},t.title),React.createElement(ry,{content:t,input:r.keyword,contentType:"blogWizard-title",creativityLevel:r.titleCreativityLevel,listName:"generatedTitles"}))})))),React.createElement(ey.DrawerFooter,{prevScreen:"TemplateListScreen",nextScreen:"IntroScreen",enableNextBtn:!!u.find((function(t){return t.title===r.selectedTitle}))})))}),["setSidebar","getInputs","setInput","sidebar"]);function by(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?by(Object(n),!0).forEach((function(e){_y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):by(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xy=wp.element.useEffect;const wy=(0,window.getGenie.Components.Common.ReduxManager.ComposeComponents)((function(t){var e=t.templates,n=t.setSidebar,r=t.sidebar,i=t.setInput;return xy((function(){n({toolbarWriting:!1}),i("updateContent",""),e.list.length&&wp.hooks.addFilter("editor.BlockEdit","getgenie/blockeditautocomplete",wp.compose.createHigherOrderComponent((function(t){var i={name:"Autocomplete",triggerPrefix:"\\",options:e.list,getOptionLabel:function(t){return React.createElement("span",null,t.title)},getOptionKeywords:function(t){return[t.templateSlug,t.title]},getOptionCompletion:function(t){return n({open:!0,currentTemplate:t.templateSlug,component:"WriteTemplatesScreen",toolbarWriting:!1,insertTextCallback:Rt.insertTemplateInPostEditor,analyzeKeyword:{open:!1},generatedOutlines:vy(vy({},r.generatedOutlines),{},{open:!1})}),""}};return wp.hooks.addFilter("editor.Autocomplete.completers","genieai/autocompleteTemplates",(function(t,e){return"core/paragraph"===e?t.concat(i):t})),function(e){return React.createElement(t,e)}}),"withClientIdClassName"))}),[e]),""}),["templates","setSidebar","sidebar","setInput"]);n(203),n(407);function Ey(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ey(Object(n),!0).forEach((function(e){My(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ey(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function My(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}window.getGenie.Components=Sy(Sy({},window.getGenie.Components),{},{AutocompleteTemplates:wy,BlogWizardUtils:t,Sidebar:Sy(Sy({},window.getGenie.Components.Sidebar||{}),{},{TitleScreen:yy,IntroScreen:hf,OutlineScreen:Rg,StatisticsScreen:Xm,AnalyzeKeywordScreen:Gh})})})()})();